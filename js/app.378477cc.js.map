{"version":3,"file":"js/app.378477cc.js","mappings":"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U,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,OAAS,QAAU,QAAU,QAAU,OAAS,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,SACv9EC,EAAG,CAAC,OAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,OAAS,OAAS,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,OAAS,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,MAAQ,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,MAAQ,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,OAAS,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,OAAS,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,SAC19EC,EAAG,CAAC,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,KAAO,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,OAAS,OAAS,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,OAAS,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,UCHj9EC,EAAoB,CAC/BH,EAAG,CAAC,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,OAAS,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,MAAQ,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,MAAQ,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,MAAQ,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,SACj+EC,EAAG,CAAC,OAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,MAAQ,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,OAAS,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,OAAS,OAAS,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,SACl+EC,EAAG,CAAC,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,MAAQ,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,MAAQ,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,OAAS,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,OAAS,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,UCHp9EE,EAAmB,CAC9BJ,EAAG,CAAC,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,MAAQ,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,SAC/9EC,EAAG,CAAC,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAU,OAAU,OAAU,OAAU,OAAU,OAAU,QAAU,OAAS,OAAS,QAAU,QAAU,QAAU,QAAU,OAAS,OAAS,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,MAAQ,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,OAAS,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,MAAQ,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,OAAS,SAC/9EC,EAAG,CAAC,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,MAAQ,OAAS,QAAU,QAAU,QAAU,OAAS,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,OAAS,QAAU,QAAU,QAAU,QAAU,OAAS,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,MAAQ,QAAU,OAAS,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,OAAS,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,MAAQ,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,OAAS,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,UCH98EG,EAAoB,CAC/BL,EAAG,CAAC,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,OAAS,MAAQ,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,OAAS,KAAO,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,OAAS,OAAS,QAAU,OAAS,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,MAAQ,QAAU,QAAU,QAAU,SAC59EC,EAAG,CAAC,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,KAAO,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,MAAQ,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,MAAQ,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,OAAS,QAAU,QAAU,QAAU,OAAS,QAAU,SAC59EC,EAAG,CAAC,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,OAAS,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,MAAQ,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,UCH59EI,EAAoB,CAC/BN,EAAG,CAAC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,OAAS,QAAU,QAAU,QAAU,IAAM,QAAU,QAAU,QAAU,QAAU,OAAS,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,SAC52EC,EAAG,CAAC,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,MAAQ,OAAS,QAAU,QAAU,OAAS,OAAS,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,OAAS,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,OAAS,QAAU,QAAU,OAAS,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,MAAQ,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,OAAS,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,SACv9EC,EAAG,CAAC,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,MAAQ,QAAU,QAAU,QAAU,QAAU,QAAU,MAAQ,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,OAAS,QAAU,QAAU,OAAS,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,OAAS,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,OAAS,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU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,mBAAqB,mBAAqB,kBAAoB,mBAAqB,mBAAqB,mBAAqB,kBAAoB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,kBAAoB,kBAAoB,kBAAoB,mBAAqB,mBAAqB,mBAAqB,GAAK,mBAAqB,mBAAqB,mBAAqB,mBAAqB,kBAAoB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,kBAAoB,mBAAqB,mBAAqB,mBAAqB,kBAAoB,kBAAoB,kBAAoB,mBAAqB,mBAAqB,mBAAqB,kBAAoB,kBAAoB,mBAAqB,kBAAoB,mBAAqB,kBAAoB,mBAAqB,kBAAoB,mBAAqB,kBAAoB,kBAAoB,mBAAqB,kBAAoB,mBAAqB,kBAAoB,mBAAqB,kBAAoB,mBAAqB,mBAAqB,kBAAoB,kBAAoB,kBAAoB,mBAAqB,kBAAoB,mBAAqB,kBAAoB,kBAAoB,mBAAqB,mBAAqB,mBAAqB,iBAAmB,GAAK,iBAAmB,mBAAqB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,mBAAqB,mBAAqB,mBAAqB,kBAAoB,mBAAqB,mBAAqB,mBAAqB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,mBAAqB,kBAAoB,kBAAoB,kBAAoB,mBAAqB,mBAAqB,mBAAqB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,iBAAmB,kBAAoB,kBAAoB,iBAAmB,iBAAmB,GAAK,kBAAoB,kBAAoB,iBAAmB,iBAAmB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,iBAAmB,iBAAmB,iBAAmB,GAAK,iBAAmB,iBAAmB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,iBAAmB,kBAAoB,kBAAoB,iBAAmB,GACh/JC,EAAG,CAAC,EAAK,mBAAqB,mBAAqB,oBAAsB,mBAAqB,kBAAoB,oBAAsB,oBAAsB,mBAAqB,mBAAqB,kBAAoB,oBAAsB,oBAAsB,oBAAsB,oBAAsB,oBAAsB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,kBAAoB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,kBAAoB,mBAAqB,mBAAqB,mBAAqB,kBAAoB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,kBAAoB,kBAAoB,kBAAoB,mBAAqB,mBAAqB,mBAAqB,GAAK,mBAAqB,mBAAqB,mBAAqB,mBAAqB,kBAAoB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,kBAAoB,mBAAqB,mBAAqB,mBAAqB,kBAAoB,kBAAoB,kBAAoB,mBAAqB,mBAAqB,mBAAqB,kBAAoB,kBAAoB,mBAAqB,kBAAoB,mBAAqB,kBAAoB,mBAAqB,kBAAoB,mBAAqB,kBAAoB,kBAAoB,mBAAqB,kBAAoB,mBAAqB,kBAAoB,mBAAqB,kBAAoB,mBAAqB,mBAAqB,kBAAoB,kBAAoB,kBAAoB,mBAAqB,kBAAoB,mBAAqB,kBAAoB,kBAAoB,mBAAqB,mBAAqB,mBAAqB,iBAAmB,GAAK,iBAAmB,mBAAqB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,mBAAqB,mBAAqB,mBAAqB,kBAAoB,mBAAqB,mBAAqB,mBAAqB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,mBAAqB,kBAAoB,kBAAoB,kBAAoB,mBAAqB,mBAAqB,mBAAqB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,iBAAmB,kBAAoB,kBAAoB,iBAAmB,iBAAmB,GAAK,kBAAoB,kBAAoB,iBAAmB,iBAAmB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,iBAAmB,iBAAmB,iBAAmB,GAAK,iBAAmB,iBAAmB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,iBAAmB,kBAAoB,kBAAoB,iBAAmB,ICFr+JM,EAAiC,CAC5CR,EAAG,CAAC,QAAU,QAAU,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,QAAU,QAAU,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,GAAK,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,GAAK,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,OAAS,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,SAC79EC,EAAG,CAAC,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,QAAU,QAAU,QAAU,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,QAAU,QAAU,QAAU,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,GAAK,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,GAAK,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,GAAK,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,SACjiFC,EAAG,CAAC,SAAW,QAAU,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,SAAW,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,GAAK,GAAK,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,OAAS,OAAS,OAAS,OAAS,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,OAAS,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,QAAU,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B,mBAAqB,mBAAqB,kBAAoB,kBAAoB,kBAAoB,mBAAqB,mBAAqB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,iBAAmB,kBAAoB,iBAAmB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,iBAAmB,iBAAmB,iBAAmB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,iBAAmB,iBAAmB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,iBAAmB,iBAAmB,iBAAmB,iBAAmB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,iBAAmB,GAAK,iBAAmB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,GAAK,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,mBAAqB,kBAAoB,kBAAoB,mBAAqB,mBAAqB,mBAAqB,kBAAoB,mBAAqB,mBAAqB,mBAAqB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,iBAAmB,kBAAoB,iBAAmB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,iBAAmB,iBAAmB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,mBACh8JC,EAAG,CAAC,mBAAqB,mBAAqB,mBAAqB,kBAAoB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,kBAAoB,mBAAqB,kBAAoB,kBAAoB,mBAAqB,mBAAqB,mBAAqB,kBAAoB,mBAAqB,mBAAqB,GAAK,mBAAqB,mBAAqB,mBAAqB,kBAAoB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,kBAAoB,mBAAqB,mBAAqB,kBAAoB,kBAAoB,mBAAqB,mBAAqB,kBAAoB,mBAAqB,mBAAqB,kBAAoB,kBAAoB,kBAAoB,mBAAqB,mBAAqB,kBAAoB,mBAAqB,mBAAqB,kBAAoB,mBAAqB,kBAAoB,kBAAoB,kBAAoB,mBAAqB,mBAAqB,GAAK,iBAAmB,kBAAoB,mBAAqB,kBAAoB,mBAAqB,mBAAqB,kBAAoB,kBAAoB,mBAAqB,kBAAoB,kBAAoB,mBAAqB,kBAAoB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,iBAAmB,iBAAmB,GAAK,kBAAoB,iBAAmB,iBAAmB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,iBAAmB,GAAK,iBAAmB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,mBACh+JC,EAAG,CAAC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,mBAAqB,mBAAqB,mBAAqB,mBAAqB,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,EAAK,EAAK,EAAK,EAAK,mBAAqB,mBAAqB,mBAAqB,mBAAqB,oBAAsB,mBAAqB,oBAAsB,oBAAsB,mBAAqB,kBAAoB,oBAAsB,oBAAsB,oBAAsB,oBAAsB,mBAAqB,mBAAqB,mBAAqB,kBAAoB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,kBAAoB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,mBAAqB,kBAAoB,kBAAoB,mBAAqB,mBAAqB,kBAAoB,kBAAoB,mBAAqB,kBAAoB,kBAAoB,iBAAmB,kBAAoB,kBAAoB,kBAAoB,mBAAqB,kBAAoB,mBAAqB,mBAAqB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,GAAK,iBAAmB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,iBAAmB,GAAK,iBAAmB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,iBAAmB,kBAAoB,kBAAoB,kBAAoB,kBAAoB,oBAIxgJS,EAAqB,CAChC,KAAQ,YACR,WAAc,CACZ,CACE,KAAQ,cACR,UAAa,CACX,GACA,GACA,EACA,KAEF,QAAW,CACT,IACA,GACA,EACA,KAEF,UAAa,sBACb,MAAS,EACT,KAAQ,qBAEV,CACE,KAAQ,cACR,UAAa,CACX,IACA,GACA,EACA,KAEF,QAAW,CACT,IACA,GACA,EACA,KAEF,UAAa,sBACb,MAAS,oBACT,KAAQ,oBAEV,CACE,KAAQ,cACR,UAAa,CACX,IACA,GACA,EACA,KAEF,QAAW,CACT,IACA,GACA,EACA,KAEF,UAAa,sBACb,MAAS,mBACT,KAAQ,oBAEV,CACE,KAAQ,cACR,UAAa,CACX,IACA,GACA,EACA,KAEF,QAAW,CACT,IACA,GACA,EACA,KAEF,UAAa,sBACb,MAAS,mBACT,KAAQ,oBAEV,CACE,KAAQ,cACR,UAAa,CACX,IACA,GACA,EACA,KAEF,QAAW,CACT,IACA,IACA,EACA,KAEF,UAAa,sBACb,MAAS,mBACT,KAAQ,oBAEV,CACE,KAAQ,cACR,UAAa,CACX,IACA,IACA,EACA,KAEF,QAAW,CACT,IACA,IACA,EACA,KAEF,UAAa,sBACb,MAAS,mBACT,KAAQ,mBAEV,CACE,KAAQ,cACR,UAAa,CACX,IACA,IACA,EACA,KAEF,QAAW,CACT,IACA,IACA,GACA,KAEF,UAAa,sBACb,MAAS,kBACT,KAAQ,mBAEV,CACE,KAAQ,cACR,UAAa,CACX,IACA,IACA,GACA,KAEF,QAAW,CACT,IACA,IACA,GACA,KAEF,UAAa,sBACb,MAAS,kBACT,KAAQ,oBAEV,CACE,KAAQ,cACR,UAAa,CACX,IACA,IACA,GACA,KAEF,QAAW,CACT,IACA,IACA,GACA,KAEF,UAAa,sBACb,MAAS,mBACT,KAAQ,oBAEV,CACE,KAAQ,cACR,UAAa,CACX,IACA,IACA,GACA,KAEF,QAAW,CACT,IACA,IACA,GACA,KAEF,UAAa,sBACb,MAAS,mBACT,KAAQ,oBAEV,CACE,KAAQ,cACR,UAAa,CACX,IACA,IACA,GACA,KAEF,QAAW,CACT,IACA,IACA,GACA,KAEF,UAAa,sBACb,MAAS,mBACT,KAAQ,mBAEV,CACE,KAAQ,cACR,UAAa,CACX,IACA,IACA,GACA,KAEF,QAAW,CACT,IACA,IACA,GACA,KAEF,UAAa,sBACb,MAAS,kBACT,KAAQ,mBAEV,CACE,KAAQ,cACR,UAAa,CACX,IACA,IACA,GACA,KAEF,QAAW,CACT,IACA,IACA,GACA,KAEF,UAAa,sBACb,MAAS,kBACT,KAAQ,mBAEV,CACE,KAAQ,cACR,UAAa,CACX,IACA,IACA,GACA,KAEF,QAAW,CACT,IACA,IACA,IACA,KAEF,UAAa,sBACb,MAAS,kBACT,KAAQ,mBAEV,CACE,KAAQ,cACR,UAAa,CACX,IACA,IACA,IACA,KAEF,QAAW,CACT,IACA,IACA,IACA,KAEF,UAAa,sBACb,MAAS,kBACT,KAAQ,mBAEV,CACE,KAAQ,cACR,UAAa,CACX,IACA,IACA,IACA,KAEF,QAAW,CACT,IACA,IACA,IACA,KAEF,UAAa,sBACb,MAAS,kBACT,KAAQ,mBAEV,CACE,KAAQ,cACR,UAAa,CACX,IACA,IACA,IACA,KAEF,QAAW,CACT,IACA,IACA,IACA,KAEF,UAAa,sBACb,MAAS,kBACT,KAAQ,mBAEV,CACE,KAAQ,cACR,UAAa,CACX,IACA,IACA,IACA,KAEF,QAAW,CACT,IACA,IACA,IAC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","sources":["webpack://@cosmicds/tempo-lite/./src/components/LocationSearch.vue?637f","webpack://@cosmicds/tempo-lite/./src/components/LocationSearch.vue","webpack://@cosmicds/tempo-lite/./src/mapbox.ts","webpack://@cosmicds/tempo-lite/./src/components/LocationSearch.vue?99f6","webpack://@cosmicds/tempo-lite/./src/colormaps/magma.ts","webpack://@cosmicds/tempo-lite/./src/colormaps/inferno.ts","webpack://@cosmicds/tempo-lite/./src/colormaps/plasma.ts","webpack://@cosmicds/tempo-lite/./src/colormaps/viridis.ts","webpack://@cosmicds/tempo-lite/./src/colormaps/cividis.ts","webpack://@cosmicds/tempo-lite/./src/colormaps/gray.ts","webpack://@cosmicds/tempo-lite/./src/colormaps/svs_nitrogen_dioxide.ts","webpack://@cosmicds/tempo-lite/./src/colormaps/sargassum.ts","webpack://@cosmicds/tempo-lite/./src/colormaps/index.ts","webpack://@cosmicds/tempo-lite/./src/colormaps/utils.ts","webpack://@cosmicds/tempo-lite/./src/changes.ts","webpack://@cosmicds/tempo-lite/./src/composables/useBounds.ts","webpack://@cosmicds/tempo-lite/./src/interestingEvents.ts","webpack://@cosmicds/tempo-lite/./src/components/UserGuide.vue?d2fe","webpack://@cosmicds/tempo-lite/./src/components/UserGuide.vue","webpack://@cosmicds/tempo-lite/./src/components/UserGuide.vue?3c1b","webpack://@cosmicds/tempo-lite/./src/components/SampleTable.vue?b75a","webpack://@cosmicds/tempo-lite/./src/components/SampleTable.vue","webpack://@cosmicds/tempo-lite/./src/components/SampleTable.vue?1a06","webpack://@cosmicds/tempo-lite/./src/utils/atleast1d.ts","webpack://@cosmicds/tempo-lite/./src/utils/timeRange.ts","webpack://@cosmicds/tempo-lite/./src/composables/useUniqueTimeSelection.ts","webpack://@cosmicds/tempo-lite/./src/date_time_range_selection/useTimezone.ts","webpack://@cosmicds/tempo-lite/./src/date_time_range_selection/useDateTimeSelector.ts","webpack://@cosmicds/tempo-lite/./src/date_time_range_selection/DateTimeRangeSelection.vue?5777","webpack://@cosmicds/tempo-lite/./src/date_time_range_selection/DateTimeRangeSelection.vue","webpack://@cosmicds/tempo-lite/./src/date_time_range_selection/DateTimeRangeSelection.vue?5987","webpack://@cosmicds/tempo-lite/./src/components/TimeChips.vue?2981","webpack://@cosmicds/tempo-lite/./src/components/TimeChips.vue","webpack://@cosmicds/tempo-lite/./src/components/TimeChips.vue?b22d","webpack://@cosmicds/tempo-lite/./src/components/CTextField.vue?3472","webpack://@cosmicds/tempo-lite/./src/components/CTextField.vue","webpack://@cosmicds/tempo-lite/./src/components/CTextField.vue?1cb1","webpack://@cosmicds/tempo-lite/./src/composables/maplibre/useMap.ts","webpack://@cosmicds/tempo-lite/./src/composables/maplibre/MaplibreHomeTool.ts","webpack://@cosmicds/tempo-lite/./src/composables/maplibre/useZoomHome.ts","webpack://@cosmicds/tempo-lite/./src/composables/maplibre/useFieldOfRegard.ts","webpack://@cosmicds/tempo-lite/./src/composables/maplibre/useMarker.ts","webpack://@cosmicds/tempo-lite/./src/composables/maplibre/baseUseSelection.ts","webpack://@cosmicds/tempo-lite/./src/composables/maplibre/useRectangleSelection.ts","webpack://@cosmicds/tempo-lite/./src/composables/maplibre/utils.ts","webpack://@cosmicds/tempo-lite/./src/composables/maplibre/usePointSelection.ts","webpack://@cosmicds/tempo-lite/./src/composables/maplibre/useMultiMarker.ts","webpack://@cosmicds/tempo-lite/./src/esri/ImageLayerConfig.ts","webpack://@cosmicds/tempo-lite/./src/esri/maplibre/useEsriImageLayer.ts","webpack://@cosmicds/tempo-lite/./src/esri/geometry.ts","webpack://@cosmicds/tempo-lite/./src/esri/services/array_math.ts","webpack://@cosmicds/tempo-lite/./src/esri/services/sampling.ts","webpack://@cosmicds/tempo-lite/./src/esri/services/TempoDataService.ts","webpack://@cosmicds/tempo-lite/./src/esri/utils.ts","webpack://@cosmicds/tempo-lite/./src/TempoLite.vue?f66b","webpack://@cosmicds/tempo-lite/./src/TempoLite.vue","webpack://@cosmicds/tempo-lite/./src/TempoLite.vue?8f1a","webpack://@cosmicds/tempo-lite/./src/components/ColorBar.vue?15b2","webpack://@cosmicds/tempo-lite/./src/components/ColorBar.vue","webpack://@cosmicds/tempo-lite/./src/components/ColorBar.vue?632f","webpack://@cosmicds/tempo-lite/./src/components/ColorBarHorizontal.vue?50bf","webpack://@cosmicds/tempo-lite/./src/components/ColorBarHorizontal.vue","webpack://@cosmicds/tempo-lite/./src/components/ColorBarHorizontal.vue?6f32","webpack://@cosmicds/tempo-lite/./src/components/InfoButton.vue?e04c","webpack://@cosmicds/tempo-lite/./src/components/InfoButton.vue","webpack://@cosmicds/tempo-lite/./src/components/InfoButton.vue?de13","webpack://@cosmicds/tempo-lite/./plugins/vuetify.ts","webpack://@cosmicds/tempo-lite/./src/components/SnackbarAlert.vue?dde0","webpack://@cosmicds/tempo-lite/./src/components/SnackbarAlert.vue","webpack://@cosmicds/tempo-lite/./src/components/SnackbarAlert.vue?3716","webpack://@cosmicds/tempo-lite/./src/components/ShareButton.vue?f44e","webpack://@cosmicds/tempo-lite/./src/components/ShareButton.vue","webpack://@cosmicds/tempo-lite/./src/components/ShareButton.vue?a5b6","webpack://@cosmicds/tempo-lite/./src/utils/dom.ts","webpack://@cosmicds/tempo-lite/./src/composables/useDraggableDialog.ts","webpack://@cosmicds/tempo-lite/./src/components/CDSDialog.vue?f933","webpack://@cosmicds/tempo-lite/./src/components/CDSDialog.vue","webpack://@cosmicds/tempo-lite/./src/components/CDSDialog.vue?51b6","webpack://@cosmicds/tempo-lite/./src/components/MarqeeAlert.vue?b891","webpack://@cosmicds/tempo-lite/./src/components/MarqeeAlert.vue","webpack://@cosmicds/tempo-lite/./src/components/MarqeeAlert.vue?852b","webpack://@cosmicds/tempo-lite/./src/components/TimeseriesGraph.vue?a88f","webpack://@cosmicds/tempo-lite/./src/components/TimeseriesGraph.vue","webpack://@cosmicds/tempo-lite/./src/components/TimeseriesGraph.vue?a5cc","webpack://@cosmicds/tempo-lite/./src/components/SelectionComposer.vue?63bd","webpack://@cosmicds/tempo-lite/./src/components/SelectionComposer.vue","webpack://@cosmicds/tempo-lite/./src/components/SelectionComposer.vue?525e","webpack://@cosmicds/tempo-lite/./src/main.ts","webpack://@cosmicds/tempo-lite/webpack/bootstrap","webpack://@cosmicds/tempo-lite/webpack/runtime/chunk loaded","webpack://@cosmicds/tempo-lite/webpack/runtime/compat get default export","webpack://@cosmicds/tempo-lite/webpack/runtime/define property getters","webpack://@cosmicds/tempo-lite/webpack/runtime/global","webpack://@cosmicds/tempo-lite/webpack/runtime/hasOwnProperty shorthand","webpack://@cosmicds/tempo-lite/webpack/runtime/make namespace object","webpack://@cosmicds/tempo-lite/webpack/runtime/publicPath","webpack://@cosmicds/tempo-lite/webpack/runtime/jsonp chunk loading","webpack://@cosmicds/tempo-lite/webpack/startup"],"sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, renderSlot as _renderSlot, vShow as _vShow, withDirectives as _withDirectives, withKeys as _withKeys, normalizeClass as _normalizeClass, withCtx as _withCtx, withModifiers as _withModifiers, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\")!\n  const _component_v_combobox = _resolveComponent(\"v-combobox\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"forward-geocoding-container\",\n    style: _normalizeStyle(_ctx.cssStyles)\n  }, [\n    _withDirectives(_createVNode(_component_v_combobox, {\n      class: _normalizeClass(['forward-geocoding-input', _ctx.locationJustUpdated ? 'geocode-success' : '', _ctx.small ? 'forward-geocoding-input-small' : '']),\n      modelValue: _ctx.searchText,\n      \"onUpdate:modelValue\": [\n        _cache[0] || (_cache[0] = ($event: any) => ((_ctx.searchText) = $event)),\n        _ctx.setLocationFromSearchFeature\n      ],\n      items: _ctx.searchResults ? _ctx.searchResults.features : [],\n      \"item-title\": _ctx.textForMapboxFeature,\n      \"bg-color\": _ctx.bgColor,\n      label: \"Enter city or zip\",\n      density: _ctx.small ? 'compact' : 'default',\n      \"hide-details\": \"\",\n      solo: \"\",\n      color: _ctx.accentColor,\n      onInput: () => {},\n      onKeydown: [\n        _withKeys(_ctx.performForwardGeocodingSearch, [\"enter\"]),\n        _cache[1] || (_cache[1] = _withKeys(($event: any) => (_ctx.searchResults = null), [\"esc\"]))\n      ],\n      \"error-messages\": _ctx.searchErrorMessage,\n      \"onClick:append\": _ctx.focusCombobox,\n      \"onUpdate:focused\": _cache[2] || (_cache[2] = ($event: any) => (_ctx.onFocusChange($event))),\n      ref: \"searchInput\",\n      menu: _ctx.menuOpen,\n      \"onUpdate:menu\": _cache[3] || (_cache[3] = ($event: any) => (_ctx.menuOpen = $event))\n    }, {\n      append: _withCtx(() => [\n        _createVNode(_component_font_awesome_icon, {\n          class: \"geocoding-search-icon\",\n          icon: \"magnifying-glass\",\n          size: _ctx.searchOpen ? 'xl' : _ctx.buttonSize,\n          color: \"gray\",\n          onClick: _ctx.toggleSearch\n        }, null, 8, [\"size\", \"onClick\"]),\n        _renderSlot(_ctx.$slots, \"append-icon\", { class: \"geocode-icon\" }),\n        _withDirectives(_createVNode(_component_font_awesome_icon, {\n          class: \"geocoding-close-icon\",\n          icon: \"circle-xmark\",\n          size: _ctx.searchOpen ? 'xl' : '1x',\n          color: \"gray\",\n          onClick: _ctx.closeSearch\n        }, null, 8, [\"size\", \"onClick\"]), [\n          [_vShow, _ctx.searchOpen && !_ctx.stayOpen]\n        ])\n      ]),\n      _: 3\n    }, 8, [\"class\", \"modelValue\", \"items\", \"item-title\", \"bg-color\", \"density\", \"color\", \"onUpdate:modelValue\", \"onKeydown\", \"error-messages\", \"onClick:append\", \"menu\"]), [\n      [_vShow, _ctx.searchOpen]\n    ]),\n    _withDirectives(_createVNode(_component_font_awesome_icon, {\n      class: \"geocoding-search-icon\",\n      icon: \"magnifying-glass\",\n      size: _ctx.searchOpen ? 'xl' : _ctx.buttonSize,\n      color: \"gray\",\n      onClick: _withModifiers(_ctx.toggleSearch, [\"prevent\"])\n    }, null, 8, [\"size\", \"onClick\"]), [\n      [_vShow, !_ctx.searchOpen && !_ctx.stayOpen]\n    ])\n  ], 4))\n}","<template>\n  <div class=\"forward-geocoding-container\" :style=\"cssStyles\">\n    <v-combobox\n      v-show=\"searchOpen\"\n      :class=\"['forward-geocoding-input', locationJustUpdated ? 'geocode-success' : '', small ? 'forward-geocoding-input-small' : '']\"\n      v-model=\"searchText\"\n      :items=\"searchResults ? searchResults.features : []\"\n      :item-title=\"textForMapboxFeature\"\n      :bg-color=\"bgColor\"\n      label=\"Enter city or zip\"\n      :density=\"small ? 'compact' : 'default'\"\n      hide-details\n      solo\n      :color=\"accentColor\"\n      @input=\"() => {}\"\n      @update:model-value=\"setLocationFromSearchFeature\"\n      @keydown.enter=\"performForwardGeocodingSearch\"\n      @keydown.esc=\"searchResults = null\"\n      :error-messages=\"searchErrorMessage\"\n      @click:append=\"focusCombobox\"\n      @update:focused=\"onFocusChange($event)\"\n      ref=\"searchInput\"\n      :menu=\"menuOpen\"\n      @update:menu=\"menuOpen = $event\"\n    >\n    <template v-slot:append>\n      <font-awesome-icon\n        class=\"geocoding-search-icon\"\n        icon=\"magnifying-glass\"\n        :size=\"searchOpen ? 'xl' : buttonSize\"\n        color=\"gray\"\n        @click=\"toggleSearch\"\n      ></font-awesome-icon>\n\n      <slot name=\"append-icon\" class=\"geocode-icon\"></slot>\n\n      <font-awesome-icon\n        class=\"geocoding-close-icon\"\n        v-show=\"searchOpen && !stayOpen\"\n        icon=\"circle-xmark\"\n        :size=\"searchOpen ? 'xl' : '1x'\"\n        color=\"gray\"\n        @click=\"closeSearch\"\n      ></font-awesome-icon>\n    </template>\n  </v-combobox>\n  <font-awesome-icon\n      v-show=\"!searchOpen && !stayOpen\"\n      class=\"geocoding-search-icon\"\n      icon=\"magnifying-glass\"\n      :size=\"searchOpen ? 'xl' : buttonSize\"\n      color=\"gray\"\n      @click.prevent=\"toggleSearch\"\n    ></font-awesome-icon>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from 'vue';\nimport { MapBoxFeatureCollection, MapBoxFeature, textForMapboxFeature } from \"../mapbox\";\n\ntype SearchProvider = (searchText: string) => Promise<MapBoxFeatureCollection | null>;\n\nexport default defineComponent({\n  name: 'LocationSearch',\n\n  emits: ['update:modelValue', 'set-location', 'error', 'geolocate'],\n\n  props: {\n    searchProvider: {\n      type: Function as PropType<SearchProvider>,\n      default: () => {}\n    },\n    modelValue: {\n      type: Boolean,\n      default: true,\n      required: false,\n    },\n    stayOpen: {\n      type: Boolean,\n      default: false,\n    },\n    accentColor: {\n      type: String,\n      default: 'white',\n    },\n    small: {\n      type: Boolean,\n      default: false,\n    },\n    theme: {\n      type: String,\n      default: 'dark',\n    },\n    buttonSize: {\n      type: String,\n      default: '1x',\n    },\n    \n    bgColor: {\n      type: String,\n      default: 'white',\n    },\n    \n    persistSelected: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  \n  data() {\n    return {\n      searchOpen: this.modelValue || this.stayOpen,\n      searchText: null as string | null,\n      searchResults: null as MapBoxFeatureCollection | null,\n      searchErrorMessage: null as string | null,\n      locationJustUpdated: false,\n      locationUpdatedText: 'Location updated',\n      comboFocused: false,\n      menuOpen: false,\n    };\n  },\n\n  computed: {\n    cssStyles() {\n      return {\n        '--accent-color': this.accentColor,\n        '--bg-color': this.bgColor,\n        '--fg-container-padding': this.searchOpen ? (this.small ? '0px 5px 0px 0px' : '5px 10px 12px 10px') : '0px',\n        '--border-radius': this.searchOpen ? '7px' : '20px',\n      };\n    },\n  },\n  \n  \n  \n\n  \n  methods: {\n    performForwardGeocodingSearch() {\n      console.log('performForwardGeocodingSearch', this.searchText);\n      if (this.searchText === null || this.searchText.length < 3) {\n        return;\n      }\n      this.searchProvider(this.searchText).then((info) => {\n        if (info !== null && info.features?.length === 1) {\n          this.setLocationFromSearchFeature(info.features[0]);\n        } else if (info !== null && info.features?.length == 0) {\n          this.searchErrorMessage = \"No matching places were found\";\n          console.log('No matching places were found');\n          this.$emit('error', this.searchErrorMessage);\n        } else {\n          this.searchResults = info;\n        }\n      });\n    },\n    \n    textForMapboxFeature(feature: MapBoxFeature) {\n      if (typeof feature === 'string') {\n        return;\n      }\n      return textForMapboxFeature(feature);\n    },\n    \n       \n    onFocusChange(focused: boolean) {\n      console.log('focus change', focused);\n      this.comboFocused = focused;\n      // if (!focused && this.searchResults === null) {\n      //   this.searchText = null;\n      // }\n    },\n    \n    blurCombobox() {\n      console.log('blurring');\n      const input = this.$refs.searchInput as HTMLInputElement;\n      console.log(input);\n      input.blur();\n    },\n    \n    focusCombobox() {\n      const input = this.$refs.searchInput as HTMLInputElement;\n      input.focus();\n    },\n    \n    setLocationFromSearchFeature(feature: MapBoxFeature | string) {\n      // if it's a string do nothing\n      if (typeof feature === 'string') {\n        return;\n      }\n      console.log('setting location');\n      if (feature === null) { return; }\n      const name = this.textForMapboxFeature(feature);\n      if (name !== undefined) {\n        this.locationUpdatedText = name;\n      } else {\n        this.locationUpdatedText = feature.place_name.split(',').slice(0, 2).join(', ');\n      }\n      \n      // blur (defocus) the v-combobox\n      this.blurCombobox();\n      this.timedJustUpdatedLocation();\n      this.clearSearchData();\n      this.$emit('set-location', [feature, this.locationUpdatedText]);\n    },\n\n    toggleSearch() {\n      console.log('toggleSearch', this.searchOpen, this.searchText);\n      if (this.searchOpen) {\n        this.performForwardGeocodingSearch();\n        // this.$nextTick(() => this.focusCombobox());\n        this.menuOpen = true;\n        this.focusCombobox();\n      } else {\n        this.searchOpen = true;\n      }\n    },\n\n    closeSearch() {\n      this.searchOpen = false;\n      this.clearSearchData();\n    },\n\n    clearSearchData() {\n      this.searchResults = null;\n      this.searchText = null;\n      this.searchErrorMessage = null;\n    },\n    \n    timedJustUpdatedLocation() {\n      this.locationJustUpdated = true;\n      setTimeout(() => {\n        this.locationJustUpdated = this.persistSelected;\n      }, 5000);\n    },\n  },\n  \n  watch: {\n    \n    modelValue(value: boolean) {\n      this.searchOpen = value;\n    },\n    \n    searchOpen(value: boolean) {\n      this.$emit('update:modelValue', value);\n    },\n    \n    searchText(text: string | null) {\n      if (this.searchErrorMessage) {\n        this.searchErrorMessage = null;\n      }\n      if (!text || text.length === 0) {\n        this.searchResults = null;\n      }\n    },\n  }\n  \n});\n\n</script>\n\n\n<style lang=\"less\">\n\n// https://vue-loader.vuejs.org/guide/scoped-css.html#deep-selectors\n.forward-geocoding-container {\n  --border-radius: 20px;\n  position: relative;\n  color: var(--accent-color);\n  background-color: rgba(255, 255, 255, 0.4);\n  border-radius: var(--border-radius);\n  margin-left: 0.25rem;\n  margin-bottom: 0.25rem;\n  padding: var(--fg-container-padding);\n  backdrop-filter: blur(2px);\n\n  .v-field {\n    background-color: transparent !important;\n  }\n\n  // there are two separate labels, we want the 2nd one to be large. the first is the small floating label\n  .v-field > .v-field__field > .v-label.v-field-label:nth-child(2) {\n    font-size: 1.2rem;\n  }\n\n  // .v-input--horizontal .v-input__append {\n  //   margin-inline-start: 0;\n  // }\n  \n  .v-text-field {\n    min-width: 150px;\n  }\n  \n  .v-field--variant-filled.v-field--has-background .v-field__overlay {\n    border-top-right-radius: 0px;\n}\n\n  .forward-geocoding-input > .v-input__control > .v-field {\n    border-radius: var(--border-radius);\n  }\n  \n  .forward-geocoding-input.geocode-success label {\n    opacity: 1;\n  }\n  \n  .forward-geocoding-input-small label {\n    // .v-label sets default to 1rem\n    font-size: 0.8rem;\n  }\n\n  .forward-geocoding-input-row {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n    gap: 10px;\n    align-items: center;\n  }\n  \n  .geocoding-search-icon {\n    padding-inline: calc(0.3 * var(--default-line-height));\n    padding-block: calc(0.4 * var(--default-line-height));\n  }\n\n  .geocoding-search-icon:hover, #geocoding-close-icon:hover {\n    cursor: pointer;\n  }\n\n}\n</style>\n","export interface MapBoxContextItem {\n  id: string;\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  mapbox_id: string;\n  text: string;\n  wikidata: string;\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  short_code?: string;\n}\n\n// The field names here come from MapBox\nexport interface MapBoxFeature {\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  place_type: string[];\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  place_name: string;\n  text?: string;\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  properties: { short_code: string; };\n  center: [number, number];\n  context: MapBoxContextItem[];\n}\n\nexport interface MapBoxFeatureCollection {\n  type: \"FeatureCollection\";\n  features: MapBoxFeature[];\n}\n\n// TODO: Add more options as we need them\n// See https://docs.mapbox.com/api/search/geocoding-v6/#forward-geocoding-with-search-text-input\nexport interface MapBoxForwardGeocodingOptions {\n  // For countries, use the ISO 3166-1 alpha-2 country codes:\n  // https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2\n  countries?: string[];\n  types?: string[];\n  limit?: number;\n}\n\nconst RELEVANT_FEATURE_TYPES = [\"postcode\", \"place\", \"region\", \"country\"];\nconst NA_COUNTRIES = [\"United States\", \"Canada\", \"Mexico\"];\nconst NA_ABBREVIATIONS = [\"US-\", \"CA-\", \"MX-\"];\n\nexport function findBestFeature(collection: MapBoxFeatureCollection): MapBoxFeature | null {\n  const relevantFeatures = collection.features.filter(feature => RELEVANT_FEATURE_TYPES.some(type => feature.place_type.includes(type)));\n  const placeFeature = relevantFeatures.find(feature => feature.place_type.includes(\"place\")) ?? (relevantFeatures.find(feature => feature.place_type.includes(\"postcode\")) ?? undefined);\n  if (placeFeature !== undefined) {\n    return placeFeature;\n  }\n  const regionFeature = relevantFeatures.find(feature => feature.place_type.includes(\"region\"));\n  if (regionFeature !== undefined) {\n    return regionFeature;\n  }\n  const countryFeature = relevantFeatures.find(feature => feature.place_type.includes(\"country\"));\n  if (countryFeature !== undefined) {\n    return countryFeature;\n  }\n  return null;\n}\n\nexport function textForMapboxFeature(feature: MapBoxFeature): string {\n  const pieces: string[] = [];\n  if (feature.text) {\n    pieces.push(feature.text);\n  }\n  feature.context.forEach(item => {\n    const itemType = item.id.split(\".\")[0];\n    if (!RELEVANT_FEATURE_TYPES.includes(itemType)) {\n      return;\n    }\n    let text = null as string | null;\n    const shortCode = item.short_code;\n    if (itemType === \"region\" && shortCode != null) {\n      if (NA_ABBREVIATIONS.some(abbr => shortCode.startsWith(abbr))) {\n        text = shortCode.substring(3);\n      }\n    } else if (itemType === \"country\") {\n      const itemText = item.text;\n      if (!NA_COUNTRIES.includes(itemText)) {\n        text = itemText; \n      }\n    }\n    if (text !== null) {\n      pieces.push(text);\n    }\n  });\n  return pieces.join(\", \");\n}\n\nexport function textForMapboxResults(results: MapBoxFeatureCollection): string {\n  const feature = findBestFeature(results);\n  return feature !== null ? textForMapboxFeature(feature) : \"\";\n}\n\nexport async function textForLocation(longitudeDeg: number, latitudeDeg: number): Promise<string> {\n  const accessToken = process.env.VUE_APP_MAPBOX_ACCESS_TOKEN;\n  const url = `https://api.mapbox.com/geocoding/v5/mapbox.places/${longitudeDeg},${latitudeDeg}.json?access_token=${accessToken}`;\n  return fetch(url)\n    .then(response => response.json())\n    .then((result: MapBoxFeatureCollection) => {\n      if (result.features.length === 0) {\n        const ns = latitudeDeg >= 0 ? 'N' : 'S';\n        const ew = longitudeDeg >= 0 ? 'E' : 'W';\n        const lat = Math.abs(latitudeDeg).toFixed(3);\n        const lon = Math.abs(longitudeDeg).toFixed(3);\n        return `${lat}° ${ns}, ${lon}° ${ew}`;\n      }\n      return textForMapboxResults(result);\n    });\n}\n\nexport async function geocodingInfoForSearch(searchText: string, options?: MapBoxForwardGeocodingOptions): Promise<MapBoxFeatureCollection> {\n  const accessToken = process.env.VUE_APP_MAPBOX_ACCESS_TOKEN;\n  const search = new URLSearchParams();\n  search.set(\"access_token\", accessToken ?? \"\");\n  const types = (options?.types ?? [\"place\", \"postcode\"]).join(\",\");\n  search.set(\"types\", types);\n  if (options?.countries) {\n    search.set(\"country\", options.countries.join(\",\"));\n  }\n  search.set(\"limit\", options?.limit?.toString() ?? \"5\");\n  const url = `https://api.mapbox.com/geocoding/v5/mapbox.places/${searchText}.json?${search.toString()}`;\n  return fetch(url).then(response => response.json());\n}\n","import { render } from \"./LocationSearch.vue?vue&type=template&id=624ae7b9&ts=true\"\nimport script from \"./LocationSearch.vue?vue&type=script&lang=ts\"\nexport * from \"./LocationSearch.vue?vue&type=script&lang=ts\"\n\nimport \"./LocationSearch.vue?vue&type=style&index=0&id=624ae7b9&lang=less\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport type { ColorMap } from \"./types\";\n\nexport const magma: ColorMap = {\n  r: [0.001462, 0.002258, 0.003279, 0.004512, 0.00595, 0.007588, 0.009426, 0.011465, 0.013708, 0.016156, 0.018815, 0.021692, 0.024792, 0.028123, 0.031696, 0.03552, 0.039608, 0.04383, 0.048062, 0.05232, 0.056615, 0.060949, 0.06533, 0.069764, 0.074257, 0.078815, 0.083446, 0.088155, 0.092949, 0.097833, 0.102815, 0.107899, 0.113094, 0.118405, 0.123833, 0.12938, 0.135053, 0.140858, 0.146785, 0.152839, 0.159018, 0.165308, 0.171713, 0.178212, 0.184801, 0.19146, 0.198177, 0.204935, 0.211718, 0.218512, 0.225302, 0.232077, 0.238826, 0.245543, 0.25222, 0.258857, 0.265447, 0.271994, 0.278493, 0.284951, 0.291366, 0.29774, 0.304081, 0.310382, 0.316654, 0.322899, 0.329114, 0.335308, 0.341482, 0.347636, 0.353773, 0.359898, 0.366012, 0.372116, 0.378211, 0.384299, 0.390384, 0.396467, 0.402548, 0.408629, 0.414709, 0.420791, 0.426877, 0.432967, 0.439062, 0.445163, 0.451271, 0.457386, 0.463508, 0.46964, 0.47578, 0.481929, 0.488088, 0.494258, 0.500438, 0.506629, 0.512831, 0.519045, 0.52527, 0.531507, 0.537755, 0.544015, 0.550287, 0.556571, 0.562866, 0.569172, 0.57549, 0.581819, 0.588158, 0.594508, 0.600868, 0.607238, 0.613617, 0.620005, 0.626401, 0.632805, 0.639216, 0.645633, 0.652056, 0.658483, 0.664915, 0.671349, 0.677786, 0.684224, 0.690661, 0.697098, 0.703532, 0.709962, 0.716387, 0.722805, 0.729216, 0.735616, 0.742004, 0.748378, 0.754737, 0.761077, 0.767398, 0.773695, 0.779968, 0.786212, 0.792427, 0.798608, 0.804752, 0.810855, 0.816914, 0.822926, 0.828886, 0.834791, 0.840636, 0.846416, 0.852126, 0.857763, 0.86332, 0.868793, 0.874176, 0.879464, 0.884651, 0.889731, 0.8947, 0.899552, 0.904281, 0.908884, 0.913354, 0.917689, 0.921884, 0.925937, 0.929845, 0.933606, 0.937221, 0.940687, 0.944006, 0.94718, 0.95021, 0.953099, 0.955849, 0.958464, 0.960949, 0.96331, 0.965549, 0.967671, 0.96968, 0.971582, 0.973381, 0.975082, 0.97669, 0.97821, 0.979645, 0.981, 0.982279, 0.983485, 0.984622, 0.985693, 0.9867, 0.987646, 0.988533, 0.989363, 0.990138, 0.990871, 0.991558, 0.992196, 0.992785, 0.993326, 0.993834, 0.994309, 0.994738, 0.995122, 0.99548, 0.99581, 0.996096, 0.996341, 0.99658, 0.996775, 0.996925, 0.997077, 0.997186, 0.997254, 0.997325, 0.997351, 0.997351, 0.997341, 0.997285, 0.997228, 0.997138, 0.997019, 0.996898, 0.996727, 0.996571, 0.996369, 0.996162, 0.995932, 0.99568, 0.995424, 0.995131, 0.994851, 0.994524, 0.994222, 0.993866, 0.993545, 0.99317, 0.992831, 0.99244, 0.992089, 0.991688, 0.991332, 0.99093, 0.99057, 0.990175, 0.989815, 0.989434, 0.989077, 0.988717, 0.988367, 0.988033, 0.987691, 0.987387, 0.987053],\n  g: [0.000466, 0.001295, 0.002305, 0.00349, 0.004843, 0.006356, 0.008022, 0.009828, 0.011771, 0.01384, 0.016026, 0.01832, 0.020715, 0.023201, 0.025765, 0.028397, 0.03109, 0.03383, 0.036607, 0.039407, 0.04216, 0.044794, 0.047318, 0.049726, 0.052017, 0.054184, 0.056225, 0.058133, 0.059904, 0.061531, 0.06301, 0.064335, 0.065492, 0.066479, 0.067295, 0.067935, 0.068391, 0.068654, 0.068738, 0.068637, 0.068354, 0.067911, 0.067305, 0.066576, 0.065732, 0.064818, 0.063862, 0.062907, 0.061992, 0.061158, 0.060445, 0.059889, 0.059517, 0.059352, 0.059415, 0.059706, 0.060237, 0.060994, 0.061978, 0.063168, 0.064553, 0.066117, 0.067835, 0.069702, 0.07169, 0.073782, 0.075972, 0.078236, 0.080564, 0.082946, 0.085373, 0.087831, 0.090314, 0.092816, 0.095332, 0.097855, 0.100379, 0.102902, 0.10542, 0.10793, 0.110431, 0.11292, 0.115395, 0.117855, 0.120298, 0.122724, 0.125132, 0.127522, 0.129893, 0.132245, 0.134577, 0.136891, 0.139186, 0.141462, 0.143719, 0.145958, 0.148179, 0.150383, 0.152569, 0.154739, 0.156894, 0.159033, 0.161158, 0.163269, 0.165368, 0.167454, 0.16953, 0.171596, 0.173652, 0.175701, 0.177743, 0.179779, 0.181811, 0.18384, 0.185867, 0.187893, 0.189921, 0.191952, 0.193986, 0.196027, 0.198075, 0.200133, 0.202203, 0.204286, 0.206384, 0.208501, 0.210638, 0.212797, 0.214982, 0.217194, 0.219437, 0.221713, 0.224025, 0.226377, 0.228772, 0.231214, 0.233705, 0.236249, 0.238851, 0.241514, 0.244242, 0.24704, 0.249911, 0.252861, 0.255895, 0.259016, 0.262229, 0.26554, 0.268953, 0.272473, 0.276106, 0.279857, 0.283729, 0.287728, 0.291859, 0.296125, 0.30053, 0.305079, 0.309773, 0.314616, 0.31961, 0.324755, 0.330052, 0.3355, 0.341098, 0.346844, 0.352734, 0.358764, 0.364929, 0.371224, 0.377643, 0.384178, 0.39082, 0.397563, 0.4044, 0.411324, 0.418323, 0.42539, 0.432519, 0.439703, 0.446936, 0.45421, 0.46152, 0.468861, 0.476226, 0.483612, 0.491014, 0.498428, 0.505851, 0.51328, 0.520713, 0.528148, 0.535582, 0.543015, 0.550446, 0.557873, 0.565296, 0.572706, 0.580107, 0.587502, 0.594891, 0.602275, 0.609644, 0.616999, 0.62435, 0.631696, 0.639027, 0.646344, 0.653659, 0.660969, 0.668256, 0.675541, 0.682828, 0.690088, 0.697349, 0.704611, 0.711848, 0.719089, 0.726324, 0.733545, 0.740772, 0.747981, 0.75519, 0.762398, 0.769591, 0.776795, 0.783977, 0.791167, 0.798348, 0.805527, 0.812706, 0.819875, 0.827052, 0.834213, 0.841387, 0.84854, 0.855711, 0.862859, 0.870024, 0.877168, 0.88433, 0.89147, 0.898627, 0.905763, 0.912915, 0.920049, 0.927196, 0.934329, 0.94147, 0.948604, 0.955742, 0.962878, 0.970012, 0.977154, 0.984288, 0.991438],\n  b: [0.013866, 0.018331, 0.023708, 0.029965, 0.03713, 0.044973, 0.052844, 0.06075, 0.068667, 0.076603, 0.084584, 0.09261, 0.100676, 0.108787, 0.116965, 0.125209, 0.133515, 0.141886, 0.150327, 0.158841, 0.167446, 0.176129, 0.184892, 0.193735, 0.20266, 0.211667, 0.220755, 0.229922, 0.239164, 0.248477, 0.257854, 0.267289, 0.276784, 0.286321, 0.295879, 0.305443, 0.315, 0.324538, 0.334011, 0.343404, 0.352688, 0.361816, 0.370771, 0.379497, 0.387973, 0.396152, 0.404009, 0.411514, 0.418647, 0.425392, 0.431742, 0.437695, 0.443256, 0.448436, 0.453248, 0.45771, 0.46184, 0.46566, 0.46919, 0.472451, 0.475462, 0.478243, 0.480812, 0.483186, 0.48538, 0.487408, 0.489287, 0.491024, 0.492631, 0.494121, 0.495501, 0.496778, 0.49796, 0.499053, 0.500067, 0.501002, 0.501864, 0.502658, 0.503386, 0.504052, 0.504662, 0.505215, 0.505714, 0.50616, 0.506555, 0.506901, 0.507198, 0.507448, 0.507652, 0.507809, 0.507921, 0.507989, 0.508011, 0.507988, 0.50792, 0.507806, 0.507648, 0.507443, 0.507192, 0.506895, 0.506551, 0.506159, 0.505719, 0.50523, 0.504692, 0.504105, 0.503466, 0.502777, 0.502035, 0.501241, 0.500394, 0.499492, 0.498536, 0.497524, 0.496456, 0.495332, 0.49415, 0.49291, 0.491611, 0.490253, 0.488836, 0.487358, 0.485819, 0.484219, 0.482558, 0.480835, 0.479049, 0.477201, 0.47529, 0.473316, 0.471279, 0.46918, 0.467018, 0.464794, 0.462509, 0.460162, 0.457755, 0.455289, 0.452765, 0.450184, 0.447543, 0.444848, 0.442102, 0.439305, 0.436461, 0.433573, 0.430644, 0.427671, 0.424666, 0.421631, 0.418573, 0.415496, 0.412403, 0.409303, 0.406205, 0.403118, 0.400047, 0.397002, 0.393995, 0.391037, 0.388137, 0.385308, 0.382563, 0.379915, 0.377376, 0.374959, 0.372677, 0.370541, 0.368567, 0.366762, 0.365136, 0.363701, 0.362468, 0.361438, 0.360619, 0.360014, 0.35963, 0.359469, 0.359529, 0.35981, 0.360311, 0.36103, 0.361965, 0.363111, 0.364466, 0.366025, 0.367783, 0.369734, 0.371874, 0.374198, 0.376698, 0.379371, 0.38221, 0.38521, 0.388365, 0.391671, 0.395122, 0.398714, 0.402441, 0.406299, 0.410283, 0.41439, 0.418613, 0.42295, 0.427397, 0.431951, 0.436607, 0.441361, 0.446213, 0.45116, 0.456192, 0.461314, 0.466526, 0.471811, 0.477182, 0.482635, 0.488154, 0.493755, 0.499428, 0.505167, 0.510983, 0.516859, 0.522806, 0.528821, 0.534892, 0.541039, 0.547233, 0.553499, 0.55982, 0.566202, 0.572645, 0.57914, 0.585701, 0.592307, 0.598983, 0.605696, 0.612482, 0.619299, 0.626189, 0.633109, 0.640099, 0.647116, 0.654202, 0.661309, 0.668481, 0.675675, 0.682926, 0.690198, 0.697519, 0.704863, 0.712242, 0.719649, 0.727077, 0.734536, 0.742002, 0.749504]\n};\n","\nimport type { ColorMap } from \"./types\";\n\nexport const inferno: ColorMap = {\n  r: [0.001462, 0.002267, 0.003299, 0.004547, 0.006006, 0.007676, 0.009561, 0.011663, 0.013995, 0.016561, 0.019373, 0.022447, 0.025793, 0.029432, 0.033385, 0.037668, 0.042253, 0.046915, 0.051644, 0.056449, 0.06134, 0.066331, 0.071429, 0.076637, 0.081962, 0.087411, 0.09299, 0.098702, 0.104551, 0.110536, 0.116656, 0.122908, 0.129285, 0.135778, 0.142378, 0.149073, 0.15585, 0.162689, 0.169575, 0.176493, 0.183429, 0.190367, 0.197297, 0.204209, 0.211095, 0.217949, 0.224763, 0.231538, 0.238273, 0.244967, 0.25162, 0.258234, 0.26481, 0.271347, 0.27785, 0.284321, 0.290763, 0.297178, 0.303568, 0.309935, 0.316282, 0.32261, 0.328921, 0.335217, 0.3415, 0.347771, 0.354032, 0.360284, 0.366529, 0.372768, 0.379001, 0.385228, 0.391453, 0.397674, 0.403894, 0.410113, 0.416331, 0.422549, 0.428768, 0.434987, 0.441207, 0.447428, 0.453651, 0.459875, 0.4661, 0.472328, 0.478558, 0.484789, 0.491022, 0.497257, 0.503493, 0.50973, 0.515967, 0.522206, 0.528444, 0.534683, 0.54092, 0.547157, 0.553392, 0.559624, 0.565854, 0.572081, 0.578304, 0.584521, 0.590734, 0.59694, 0.603139, 0.60933, 0.615513, 0.621685, 0.627847, 0.633998, 0.640135, 0.64626, 0.652369, 0.658463, 0.66454, 0.670599, 0.676638, 0.682656, 0.688653, 0.694627, 0.700576, 0.7065, 0.712396, 0.718264, 0.724103, 0.729909, 0.735683, 0.741423, 0.747127, 0.752794, 0.758422, 0.76401, 0.769556, 0.775059, 0.780517, 0.785929, 0.791293, 0.796607, 0.801871, 0.807082, 0.812239, 0.817341, 0.822386, 0.827372, 0.832299, 0.837165, 0.841969, 0.846709, 0.851384, 0.855992, 0.860533, 0.865006, 0.869409, 0.873741, 0.878001, 0.882188, 0.886302, 0.890341, 0.894305, 0.898192, 0.902003, 0.905735, 0.90939, 0.912966, 0.916462, 0.919879, 0.923215, 0.92647, 0.929644, 0.932737, 0.935747, 0.938675, 0.941521, 0.944285, 0.946965, 0.949562, 0.952075, 0.954506, 0.956852, 0.959114, 0.961293, 0.963387, 0.965397, 0.967322, 0.969163, 0.970919, 0.97259, 0.974176, 0.975677, 0.977092, 0.978422, 0.979666, 0.980824, 0.981895, 0.982881, 0.983779, 0.984591, 0.985315, 0.985952, 0.986502, 0.986964, 0.987337, 0.987622, 0.987819, 0.987926, 0.987945, 0.987874, 0.987714, 0.987464, 0.987124, 0.986694, 0.986175, 0.985566, 0.984865, 0.984075, 0.983196, 0.982228, 0.981173, 0.980032, 0.978806, 0.977497, 0.976108, 0.974638, 0.973088, 0.971468, 0.969783, 0.968041, 0.966243, 0.964394, 0.962517, 0.960626, 0.95872, 0.956834, 0.954997, 0.953215, 0.951546, 0.950018, 0.948683, 0.947594, 0.946809, 0.946392, 0.946403, 0.946903, 0.947937, 0.949545, 0.95174, 0.954529, 0.957896, 0.961812, 0.966249, 0.971162, 0.976511, 0.982257, 0.988362],\n  g: [0.000466, 0.00127, 0.002249, 0.003392, 0.004692, 0.006136, 0.007713, 0.009417, 0.011225, 0.013136, 0.015133, 0.017199, 0.019331, 0.021503, 0.023702, 0.025921, 0.028139, 0.030324, 0.032474, 0.034569, 0.03659, 0.038504, 0.040294, 0.041905, 0.043328, 0.044556, 0.045583, 0.046402, 0.047008, 0.047399, 0.047574, 0.047536, 0.047293, 0.046856, 0.046242, 0.045468, 0.044559, 0.043554, 0.042489, 0.041402, 0.040329, 0.039309, 0.0384, 0.037632, 0.03703, 0.036615, 0.036405, 0.036405, 0.036621, 0.037055, 0.037705, 0.038571, 0.039647, 0.040922, 0.042353, 0.043933, 0.045644, 0.04747, 0.049396, 0.051407, 0.05349, 0.055634, 0.057827, 0.06006, 0.062325, 0.064616, 0.066925, 0.069247, 0.071579, 0.073915, 0.076253, 0.078591, 0.080927, 0.083257, 0.08558, 0.087896, 0.090203, 0.092501, 0.09479, 0.097069, 0.099338, 0.101597, 0.103848, 0.106089, 0.108322, 0.110547, 0.112764, 0.114974, 0.117179, 0.119379, 0.121575, 0.123769, 0.12596, 0.12815, 0.130341, 0.132534, 0.134729, 0.136929, 0.139134, 0.141346, 0.143567, 0.145797, 0.148039, 0.150294, 0.152563, 0.154848, 0.157151, 0.159474, 0.161817, 0.164184, 0.166575, 0.168992, 0.171438, 0.173914, 0.176421, 0.178962, 0.181539, 0.184153, 0.186807, 0.189501, 0.192239, 0.195021, 0.197851, 0.200728, 0.203656, 0.206636, 0.20967, 0.212759, 0.215906, 0.219112, 0.222378, 0.225706, 0.229097, 0.232554, 0.236077, 0.239667, 0.243327, 0.247056, 0.250856, 0.254728, 0.258674, 0.262692, 0.266786, 0.270954, 0.275197, 0.279517, 0.283913, 0.288385, 0.292933, 0.297559, 0.30226, 0.307038, 0.311892, 0.316822, 0.321827, 0.326906, 0.33206, 0.337287, 0.342586, 0.347957, 0.353399, 0.358911, 0.364492, 0.37014, 0.375856, 0.381636, 0.387481, 0.393389, 0.399359, 0.405389, 0.411479, 0.417627, 0.423831, 0.430091, 0.436405, 0.442772, 0.449191, 0.45566, 0.462178, 0.468744, 0.475356, 0.482014, 0.488716, 0.495462, 0.502249, 0.509078, 0.515946, 0.522853, 0.529798, 0.53678, 0.543798, 0.55085, 0.557937, 0.565057, 0.572209, 0.579392, 0.586606, 0.593849, 0.601122, 0.608422, 0.61575, 0.623105, 0.630485, 0.63789, 0.64532, 0.652773, 0.66025, 0.667748, 0.675267, 0.682807, 0.690366, 0.697944, 0.70554, 0.713153, 0.720782, 0.728427, 0.736087, 0.743758, 0.751442, 0.759135, 0.766837, 0.774545, 0.782258, 0.789974, 0.797692, 0.805409, 0.813122, 0.820825, 0.828515, 0.836191, 0.843848, 0.851476, 0.859069, 0.866624, 0.874129, 0.881569, 0.888942, 0.896226, 0.903409, 0.910473, 0.917399, 0.924168, 0.930761, 0.937159, 0.943348, 0.949318, 0.955063, 0.960587, 0.965896, 0.971003, 0.975924, 0.980678, 0.985282, 0.989753, 0.994109, 0.998364],\n  b: [0.013866, 0.01857, 0.024239, 0.030909, 0.038558, 0.046836, 0.055143, 0.06346, 0.071862, 0.080282, 0.088767, 0.097327, 0.10593, 0.114621, 0.123397, 0.132232, 0.141141, 0.150164, 0.159254, 0.168414, 0.177642, 0.186962, 0.196354, 0.205799, 0.215289, 0.224813, 0.234358, 0.243904, 0.25343, 0.262912, 0.272321, 0.281624, 0.290788, 0.299776, 0.308553, 0.317085, 0.325338, 0.333277, 0.340874, 0.348111, 0.354971, 0.361447, 0.367535, 0.373238, 0.378563, 0.383522, 0.388129, 0.3924, 0.396353, 0.400007, 0.403378, 0.406485, 0.409345, 0.411976, 0.414392, 0.416608, 0.418637, 0.420491, 0.422182, 0.423721, 0.425116, 0.426377, 0.427511, 0.428524, 0.429425, 0.430217, 0.430906, 0.431497, 0.431994, 0.4324, 0.432719, 0.432955, 0.433109, 0.433183, 0.433179, 0.433098, 0.432943, 0.432714, 0.432412, 0.432039, 0.431594, 0.43108, 0.430498, 0.429846, 0.429125, 0.428334, 0.427475, 0.426548, 0.425552, 0.424488, 0.423356, 0.422156, 0.420887, 0.419549, 0.418142, 0.416667, 0.415123, 0.413511, 0.411829, 0.410078, 0.408258, 0.406369, 0.404411, 0.402385, 0.40029, 0.398125, 0.395891, 0.393589, 0.391219, 0.388781, 0.386276, 0.383704, 0.381065, 0.378359, 0.375586, 0.372748, 0.369846, 0.366879, 0.363849, 0.360757, 0.357603, 0.354388, 0.351113, 0.347777, 0.344383, 0.340931, 0.337424, 0.333861, 0.330245, 0.326576, 0.322856, 0.319085, 0.315266, 0.311399, 0.307485, 0.303526, 0.299523, 0.295477, 0.29139, 0.287264, 0.283099, 0.278898, 0.274661, 0.27039, 0.266085, 0.26175, 0.257383, 0.252988, 0.248564, 0.244113, 0.239636, 0.235133, 0.230606, 0.226055, 0.221482, 0.216886, 0.212268, 0.207628, 0.202968, 0.198286, 0.193584, 0.18886, 0.184116, 0.17935, 0.174563, 0.169755, 0.164924, 0.16007, 0.155193, 0.150292, 0.145367, 0.140417, 0.13544, 0.130438, 0.125409, 0.120354, 0.115272, 0.110164, 0.105031, 0.099874, 0.094695, 0.089499, 0.084289, 0.079073, 0.073859, 0.068659, 0.063488, 0.058367, 0.053324, 0.048392, 0.043618, 0.03905, 0.034931, 0.031409, 0.028508, 0.02625, 0.024661, 0.02377, 0.023606, 0.024202, 0.025592, 0.027814, 0.030908, 0.034916, 0.039886, 0.045581, 0.05175, 0.058329, 0.065257, 0.072489, 0.07999, 0.087731, 0.095694, 0.103863, 0.112229, 0.120785, 0.129527, 0.138453, 0.147565, 0.156863, 0.166353, 0.176037, 0.185923, 0.196018, 0.206332, 0.216877, 0.227658, 0.238686, 0.249972, 0.261534, 0.273391, 0.285546, 0.29801, 0.31082, 0.323974, 0.337475, 0.351369, 0.365627, 0.380271, 0.395289, 0.410665, 0.426373, 0.442367, 0.458592, 0.47497, 0.491426, 0.50786, 0.524203, 0.540361, 0.556275, 0.571925, 0.587206, 0.602154, 0.61676, 0.631017, 0.644924]\n};\n","\nimport type { ColorMap } from \"./types\";\n\nexport const plasma: ColorMap = {\n  r: [0.050383, 0.063536, 0.075353, 0.086222, 0.096379, 0.10598, 0.115124, 0.123903, 0.132381, 0.140603, 0.148607, 0.156421, 0.16407, 0.171574, 0.17895, 0.186213, 0.193374, 0.200445, 0.207435, 0.21435, 0.221197, 0.227983, 0.234715, 0.241396, 0.248032, 0.254627, 0.261183, 0.267703, 0.274191, 0.280648, 0.287076, 0.293478, 0.299855, 0.30621, 0.312543, 0.318856, 0.32515, 0.331426, 0.337683, 0.343925, 0.35015, 0.356359, 0.362553, 0.368733, 0.374897, 0.381047, 0.387183, 0.393304, 0.399411, 0.405503, 0.41158, 0.417642, 0.423689, 0.429719, 0.435734, 0.441732, 0.447714, 0.453677, 0.459623, 0.46555, 0.471457, 0.477344, 0.48321, 0.489055, 0.494877, 0.500678, 0.506454, 0.512206, 0.517933, 0.523633, 0.529306, 0.534952, 0.54057, 0.546157, 0.551715, 0.557243, 0.562738, 0.568201, 0.573632, 0.579029, 0.584391, 0.589719, 0.595011, 0.600266, 0.605485, 0.610667, 0.615812, 0.620919, 0.625987, 0.631017, 0.636008, 0.640959, 0.645872, 0.650746, 0.65558, 0.660374, 0.665129, 0.669845, 0.674522, 0.67916, 0.683758, 0.688318, 0.69284, 0.697324, 0.701769, 0.706178, 0.710549, 0.714883, 0.719181, 0.723444, 0.72767, 0.731862, 0.736019, 0.740143, 0.744232, 0.748289, 0.752312, 0.756304, 0.760264, 0.764193, 0.76809, 0.771958, 0.775796, 0.779604, 0.783383, 0.787133, 0.790855, 0.794549, 0.798216, 0.801855, 0.805467, 0.809052, 0.812612, 0.816144, 0.819651, 0.823132, 0.826588, 0.830018, 0.833422, 0.836801, 0.840155, 0.843484, 0.846788, 0.850066, 0.853319, 0.856547, 0.85975, 0.862927, 0.866078, 0.869203, 0.872303, 0.875376, 0.878423, 0.881443, 0.884436, 0.887402, 0.89034, 0.89325, 0.896131, 0.898984, 0.901807, 0.904601, 0.907365, 0.910098, 0.9128, 0.915471, 0.918109, 0.920714, 0.923287, 0.925825, 0.928329, 0.930798, 0.933232, 0.93563, 0.93799, 0.940313, 0.942598, 0.944844, 0.947051, 0.949217, 0.951344, 0.953428, 0.95547, 0.957469, 0.959424, 0.961336, 0.963203, 0.965024, 0.966798, 0.968526, 0.970205, 0.971835, 0.973416, 0.974947, 0.976428, 0.977856, 0.979233, 0.980556, 0.981826, 0.983041, 0.984199, 0.985301, 0.986345, 0.987332, 0.98826, 0.989128, 0.989935, 0.990681, 0.991365, 0.991985, 0.992541, 0.993032, 0.993456, 0.993814, 0.994103, 0.994324, 0.994474, 0.994553, 0.994561, 0.994495, 0.994355, 0.994141, 0.993851, 0.993482, 0.993033, 0.992505, 0.991897, 0.991209, 0.990439, 0.989587, 0.988648, 0.987621, 0.986509, 0.985314, 0.984031, 0.982653, 0.98119, 0.979644, 0.977995, 0.976265, 0.974443, 0.97253, 0.970533, 0.968443, 0.966271, 0.964021, 0.961681, 0.959276, 0.956808, 0.954287, 0.951726, 0.949151, 0.946602, 0.944152, 0.941896, 0.940015],\n  g: [0.029803, 0.028426, 0.027206, 0.026125, 0.025165, 0.024309, 0.023556, 0.022878, 0.022258, 0.021687, 0.021154, 0.020651, 0.020171, 0.019706, 0.019252, 0.018803, 0.018354, 0.017902, 0.017442, 0.016973, 0.016497, 0.016007, 0.015502, 0.014979, 0.014439, 0.013882, 0.013308, 0.012716, 0.012109, 0.011488, 0.010855, 0.010213, 0.009561, 0.008902, 0.008239, 0.007576, 0.006915, 0.006261, 0.005618, 0.004991, 0.004382, 0.003798, 0.003243, 0.002724, 0.002245, 0.001814, 0.001434, 0.001114, 0.000859, 0.000678, 0.000577, 0.000564, 0.000646, 0.000831, 0.001127, 0.00154, 0.00208, 0.002755, 0.003574, 0.004545, 0.005678, 0.00698, 0.00846, 0.010127, 0.01199, 0.014055, 0.016333, 0.018833, 0.021563, 0.024532, 0.027747, 0.031217, 0.03495, 0.038954, 0.043136, 0.047331, 0.051545, 0.055778, 0.060028, 0.064296, 0.068579, 0.072878, 0.07719, 0.081516, 0.085854, 0.090204, 0.094564, 0.098934, 0.103312, 0.107699, 0.112092, 0.116492, 0.120898, 0.125309, 0.129725, 0.134144, 0.138566, 0.142992, 0.147419, 0.151848, 0.156278, 0.160709, 0.165141, 0.169573, 0.174005, 0.178437, 0.182868, 0.187299, 0.191729, 0.196158, 0.200586, 0.205013, 0.209439, 0.213864, 0.218288, 0.222711, 0.227133, 0.231555, 0.235976, 0.240396, 0.244817, 0.249237, 0.253658, 0.258078, 0.2625, 0.266922, 0.271345, 0.27577, 0.280197, 0.284626, 0.289057, 0.293491, 0.297928, 0.302368, 0.306812, 0.311261, 0.315714, 0.320172, 0.324635, 0.329105, 0.33358, 0.338062, 0.342551, 0.347048, 0.351553, 0.356066, 0.360588, 0.365119, 0.36966, 0.374212, 0.378774, 0.383347, 0.387932, 0.392529, 0.397139, 0.401762, 0.406398, 0.411048, 0.415712, 0.420392, 0.425087, 0.429797, 0.434524, 0.439268, 0.444029, 0.448807, 0.453603, 0.458417, 0.463251, 0.468103, 0.472975, 0.477867, 0.48278, 0.487712, 0.492667, 0.497642, 0.502639, 0.507658, 0.512699, 0.517763, 0.52285, 0.52796, 0.533093, 0.53825, 0.543431, 0.548636, 0.553865, 0.559118, 0.564396, 0.5697, 0.575028, 0.580382, 0.585761, 0.591165, 0.596595, 0.602051, 0.607532, 0.613039, 0.618572, 0.624131, 0.629718, 0.63533, 0.640969, 0.646633, 0.652325, 0.658043, 0.663787, 0.669558, 0.675355, 0.681179, 0.68703, 0.692907, 0.69881, 0.704741, 0.710698, 0.716681, 0.722691, 0.728728, 0.734791, 0.74088, 0.746995, 0.753137, 0.759304, 0.765499, 0.77172, 0.777967, 0.784239, 0.790537, 0.796859, 0.803205, 0.809579, 0.815978, 0.822401, 0.828846, 0.835315, 0.841812, 0.848329, 0.854866, 0.861432, 0.868016, 0.874622, 0.88125, 0.887896, 0.894564, 0.901249, 0.90795, 0.914672, 0.921407, 0.928152, 0.934908, 0.941671, 0.948435, 0.95519, 0.961916, 0.96859, 0.975158],\n  b: [0.527975, 0.533124, 0.538007, 0.542658, 0.547103, 0.551368, 0.555468, 0.559423, 0.56325, 0.566959, 0.570562, 0.574065, 0.577478, 0.580806, 0.584054, 0.587228, 0.59033, 0.593364, 0.596333, 0.599239, 0.602083, 0.604867, 0.607592, 0.610259, 0.612868, 0.615419, 0.617911, 0.620346, 0.622722, 0.625038, 0.627295, 0.62949, 0.631624, 0.633694, 0.6357, 0.63764, 0.639512, 0.641316, 0.643049, 0.64471, 0.646298, 0.64781, 0.649245, 0.650601, 0.651876, 0.653068, 0.654177, 0.655199, 0.656133, 0.656977, 0.65773, 0.65839, 0.658956, 0.659425, 0.659797, 0.660069, 0.66024, 0.66031, 0.660277, 0.660139, 0.659897, 0.659549, 0.659095, 0.658534, 0.657865, 0.657088, 0.656202, 0.655209, 0.654109, 0.652901, 0.651586, 0.650165, 0.64864, 0.64701, 0.645277, 0.643443, 0.641509, 0.639477, 0.637349, 0.635126, 0.632812, 0.630408, 0.627917, 0.625342, 0.622686, 0.619951, 0.61714, 0.614257, 0.611305, 0.608287, 0.605205, 0.602065, 0.598867, 0.595617, 0.592317, 0.588971, 0.585582, 0.582154, 0.578688, 0.575189, 0.57166, 0.568103, 0.564522, 0.560919, 0.557296, 0.553657, 0.550004, 0.546338, 0.542663, 0.538981, 0.535293, 0.531601, 0.527908, 0.524216, 0.520524, 0.516834, 0.513149, 0.509468, 0.505794, 0.502126, 0.498465, 0.494813, 0.491171, 0.487539, 0.483918, 0.480307, 0.476706, 0.473117, 0.469538, 0.465971, 0.462415, 0.45887, 0.455338, 0.451816, 0.448306, 0.444806, 0.441316, 0.437836, 0.434366, 0.430905, 0.427455, 0.424013, 0.420579, 0.417153, 0.413734, 0.410322, 0.406917, 0.403519, 0.400126, 0.396738, 0.393355, 0.389976, 0.3866, 0.383229, 0.37986, 0.376494, 0.37313, 0.369768, 0.366407, 0.363047, 0.359688, 0.356329, 0.35297, 0.34961, 0.346251, 0.34289, 0.339529, 0.336166, 0.332801, 0.329435, 0.326067, 0.322697, 0.319325, 0.315952, 0.312575, 0.309197, 0.305816, 0.302433, 0.299049, 0.295662, 0.292275, 0.288883, 0.28549, 0.282096, 0.278701, 0.275305, 0.271909, 0.268513, 0.265118, 0.261721, 0.258325, 0.254931, 0.25154, 0.248151, 0.244767, 0.241387, 0.238013, 0.234646, 0.231287, 0.227937, 0.224595, 0.221265, 0.217948, 0.214648, 0.211364, 0.2081, 0.204859, 0.201642, 0.198453, 0.195295, 0.19217, 0.189084, 0.186041, 0.183043, 0.180097, 0.177208, 0.174381, 0.171622, 0.168938, 0.166335, 0.163821, 0.161404, 0.159092, 0.156891, 0.154808, 0.152855, 0.151042, 0.149377, 0.14787, 0.146529, 0.145357, 0.144363, 0.143557, 0.142945, 0.142528, 0.142303, 0.142279, 0.142453, 0.142808, 0.143351, 0.144061, 0.144923, 0.145919, 0.147014, 0.14818, 0.14937, 0.15052, 0.151566, 0.152409, 0.152921, 0.152925, 0.152178, 0.150328, 0.146861, 0.140956, 0.131326]\n};\n","\nimport type { ColorMap } from \"./types\";\n\nexport const viridis: ColorMap = {\n  r: [0.267004, 0.26851, 0.269944, 0.271305, 0.272594, 0.273809, 0.274952, 0.276022, 0.277018, 0.277941, 0.278791, 0.279566, 0.280267, 0.280894, 0.281446, 0.281924, 0.282327, 0.282656, 0.28291, 0.283091, 0.283197, 0.283229, 0.283187, 0.283072, 0.282884, 0.282623, 0.28229, 0.281887, 0.281412, 0.280868, 0.280255, 0.279574, 0.278826, 0.278012, 0.277134, 0.276194, 0.275191, 0.274128, 0.273006, 0.271828, 0.270595, 0.269308, 0.267968, 0.26658, 0.265145, 0.263663, 0.262138, 0.260571, 0.258965, 0.257322, 0.255645, 0.253935, 0.252194, 0.250425, 0.248629, 0.246811, 0.244972, 0.243113, 0.241237, 0.239346, 0.237441, 0.235526, 0.233603, 0.231674, 0.229739, 0.227802, 0.225863, 0.223925, 0.221989, 0.220057, 0.21813, 0.21621, 0.214298, 0.212395, 0.210503, 0.208623, 0.206756, 0.204903, 0.203063, 0.201239, 0.19943, 0.197636, 0.19586, 0.1941, 0.192357, 0.190631, 0.188923, 0.187231, 0.185556, 0.183898, 0.182256, 0.180629, 0.179019, 0.177423, 0.175841, 0.174274, 0.172719, 0.171176, 0.169646, 0.168126, 0.166617, 0.165117, 0.163625, 0.162142, 0.160665, 0.159194, 0.157729, 0.15627, 0.154815, 0.153364, 0.151918, 0.150476, 0.149039, 0.147607, 0.14618, 0.144759, 0.143343, 0.141935, 0.140536, 0.139147, 0.13777, 0.136408, 0.135066, 0.133743, 0.132444, 0.131172, 0.129933, 0.128729, 0.127568, 0.126453, 0.125394, 0.124395, 0.123463, 0.122606, 0.121831, 0.121148, 0.120565, 0.120092, 0.119738, 0.119512, 0.119423, 0.119483, 0.119699, 0.120081, 0.120638, 0.12138, 0.122312, 0.123444, 0.12478, 0.126326, 0.128087, 0.130067, 0.132268, 0.134692, 0.137339, 0.14021, 0.143303, 0.146616, 0.150148, 0.153894, 0.157851, 0.162016, 0.166383, 0.170948, 0.175707, 0.180653, 0.185783, 0.19109, 0.196571, 0.202219, 0.20803, 0.214, 0.220124, 0.226397, 0.232815, 0.239374, 0.24607, 0.252899, 0.259857, 0.266941, 0.274149, 0.281477, 0.288921, 0.296479, 0.304148, 0.311925, 0.319809, 0.327796, 0.335885, 0.344074, 0.35236, 0.360741, 0.369214, 0.377779, 0.386433, 0.395174, 0.404001, 0.412913, 0.421908, 0.430983, 0.440137, 0.449368, 0.458674, 0.468053, 0.477504, 0.487026, 0.496615, 0.506271, 0.515992, 0.525776, 0.535621, 0.545524, 0.555484, 0.565498, 0.575563, 0.585678, 0.595839, 0.606045, 0.616293, 0.626579, 0.636902, 0.647257, 0.657642, 0.668054, 0.678489, 0.688944, 0.699415, 0.709898, 0.720391, 0.730889, 0.741388, 0.751884, 0.762373, 0.772852, 0.783315, 0.79376, 0.804182, 0.814576, 0.82494, 0.83527, 0.845561, 0.85581, 0.866013, 0.876168, 0.886271, 0.89632, 0.906311, 0.916242, 0.926106, 0.935904, 0.945636, 0.9553, 0.964894, 0.974417, 0.983868, 0.993248],\n  g: [0.004874, 0.009605, 0.014625, 0.019942, 0.025563, 0.031497, 0.037752, 0.044167, 0.050344, 0.056324, 0.062145, 0.067836, 0.073417, 0.078907, 0.08432, 0.089666, 0.094955, 0.100196, 0.105393, 0.110553, 0.11568, 0.120777, 0.125848, 0.130895, 0.13592, 0.140926, 0.145912, 0.150881, 0.155834, 0.160771, 0.165693, 0.170599, 0.17549, 0.180367, 0.185228, 0.190074, 0.194905, 0.199721, 0.20452, 0.209303, 0.214069, 0.218818, 0.223549, 0.228262, 0.232956, 0.237631, 0.242286, 0.246922, 0.251537, 0.25613, 0.260703, 0.265254, 0.269783, 0.27429, 0.278775, 0.283237, 0.287675, 0.292092, 0.296485, 0.300855, 0.305202, 0.309527, 0.313828, 0.318106, 0.322361, 0.326594, 0.330805, 0.334994, 0.339161, 0.343307, 0.347432, 0.351535, 0.355619, 0.359683, 0.363727, 0.367752, 0.371758, 0.375746, 0.379716, 0.38367, 0.387607, 0.391528, 0.395433, 0.399323, 0.403199, 0.407061, 0.41091, 0.414746, 0.41857, 0.422383, 0.426184, 0.429975, 0.433756, 0.437527, 0.44129, 0.445044, 0.448791, 0.45253, 0.456262, 0.459988, 0.463708, 0.467423, 0.471133, 0.474838, 0.47854, 0.482237, 0.485932, 0.489624, 0.493313, 0.497, 0.500685, 0.504369, 0.508051, 0.511733, 0.515413, 0.519093, 0.522773, 0.526453, 0.530132, 0.533812, 0.537492, 0.541173, 0.544853, 0.548535, 0.552216, 0.555899, 0.559582, 0.563265, 0.566949, 0.570633, 0.574318, 0.578002, 0.581687, 0.585371, 0.589055, 0.592739, 0.596422, 0.600104, 0.603785, 0.607464, 0.611141, 0.614817, 0.61849, 0.622161, 0.625828, 0.629492, 0.633153, 0.636809, 0.640461, 0.644107, 0.647749, 0.651384, 0.655014, 0.658636, 0.662252, 0.665859, 0.669459, 0.67305, 0.676631, 0.680203, 0.683765, 0.687316, 0.690856, 0.694384, 0.6979, 0.701402, 0.704891, 0.708366, 0.711827, 0.715272, 0.718701, 0.722114, 0.725509, 0.728888, 0.732247, 0.735588, 0.73891, 0.742211, 0.745492, 0.748751, 0.751988, 0.755203, 0.758394, 0.761561, 0.764704, 0.767822, 0.770914, 0.77398, 0.777018, 0.780029, 0.783011, 0.785964, 0.788888, 0.791781, 0.794644, 0.797475, 0.800275, 0.803041, 0.805774, 0.808473, 0.811138, 0.813768, 0.816363, 0.818921, 0.821444, 0.823929, 0.826376, 0.828786, 0.831158, 0.833491, 0.835785, 0.838039, 0.840254, 0.84243, 0.844566, 0.846661, 0.848717, 0.850733, 0.852709, 0.854645, 0.856542, 0.8584, 0.860219, 0.861999, 0.863742, 0.865448, 0.867117, 0.868751, 0.87035, 0.871916, 0.873449, 0.874951, 0.876424, 0.877868, 0.879285, 0.880678, 0.882046, 0.883393, 0.88472, 0.886029, 0.887322, 0.888601, 0.889868, 0.891125, 0.892374, 0.893616, 0.894855, 0.896091, 0.89733, 0.89857, 0.899815, 0.901065, 0.902323, 0.90359, 0.904867, 0.906157],\n  b: [0.329415, 0.335427, 0.341379, 0.347269, 0.353093, 0.358853, 0.364543, 0.370164, 0.375715, 0.381191, 0.386592, 0.391917, 0.397163, 0.402329, 0.407414, 0.412415, 0.417331, 0.42216, 0.426902, 0.431554, 0.436115, 0.440584, 0.44496, 0.449241, 0.453427, 0.457517, 0.46151, 0.465405, 0.469201, 0.472899, 0.476498, 0.479997, 0.483397, 0.486697, 0.489898, 0.493001, 0.496005, 0.498911, 0.501721, 0.504434, 0.507052, 0.509577, 0.512008, 0.514349, 0.516599, 0.518762, 0.520837, 0.522828, 0.524736, 0.526563, 0.528312, 0.529983, 0.531579, 0.533103, 0.534556, 0.535941, 0.53726, 0.538516, 0.539709, 0.540844, 0.541921, 0.542944, 0.543914, 0.544834, 0.545706, 0.546532, 0.547314, 0.548053, 0.548752, 0.549413, 0.550038, 0.550627, 0.551184, 0.55171, 0.552206, 0.552675, 0.553117, 0.553533, 0.553925, 0.554294, 0.554642, 0.554969, 0.555276, 0.555565, 0.555836, 0.556089, 0.556326, 0.556547, 0.556753, 0.556944, 0.55712, 0.557282, 0.55743, 0.557565, 0.557685, 0.557792, 0.557885, 0.557965, 0.55803, 0.558082, 0.558119, 0.558141, 0.558148, 0.55814, 0.558115, 0.558073, 0.558013, 0.557936, 0.55784, 0.557724, 0.557587, 0.55743, 0.55725, 0.557049, 0.556823, 0.556572, 0.556295, 0.555991, 0.555659, 0.555298, 0.554906, 0.554483, 0.554029, 0.553541, 0.553018, 0.552459, 0.551864, 0.551229, 0.550556, 0.549841, 0.549086, 0.548287, 0.547445, 0.546557, 0.545623, 0.544641, 0.543611, 0.54253, 0.5414, 0.540218, 0.538982, 0.537692, 0.536347, 0.534946, 0.533488, 0.531973, 0.530398, 0.528763, 0.527068, 0.525311, 0.523491, 0.521608, 0.519661, 0.517649, 0.515571, 0.513427, 0.511215, 0.508936, 0.506589, 0.504172, 0.501686, 0.499129, 0.496502, 0.493803, 0.491033, 0.488189, 0.485273, 0.482284, 0.479221, 0.476084, 0.472873, 0.469588, 0.466226, 0.462789, 0.459277, 0.455688, 0.452024, 0.448284, 0.444467, 0.440573, 0.436601, 0.432552, 0.428426, 0.424223, 0.419943, 0.415586, 0.411152, 0.40664, 0.402049, 0.397381, 0.392636, 0.387814, 0.382914, 0.377939, 0.372886, 0.367757, 0.362552, 0.357269, 0.35191, 0.346476, 0.340967, 0.335384, 0.329727, 0.323998, 0.318195, 0.312321, 0.306377, 0.300362, 0.294279, 0.288127, 0.281908, 0.275626, 0.269281, 0.262877, 0.256415, 0.249897, 0.243329, 0.236712, 0.230052, 0.223353, 0.21662, 0.209861, 0.203082, 0.196293, 0.189503, 0.182725, 0.175971, 0.169257, 0.162603, 0.156029, 0.149561, 0.143228, 0.137064, 0.131109, 0.125405, 0.120005, 0.114965, 0.110347, 0.106217, 0.102646, 0.099702, 0.097452, 0.095953, 0.09525, 0.095374, 0.096335, 0.098125, 0.100717, 0.104071, 0.108131, 0.112838, 0.118128, 0.123941, 0.130215, 0.136897, 0.143936]\n};\n","\nimport type { ColorMap } from \"./types\";\n\nexport const cividis: ColorMap = {\n  r: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.003602, 0.017852, 0.03211, 0.046205, 0.058378, 0.068968, 0.078624, 0.087465, 0.095645, 0.103401, 0.110658, 0.117612, 0.124291, 0.130669, 0.13683, 0.142852, 0.148638, 0.154261, 0.159733, 0.165113, 0.170362, 0.17549, 0.180503, 0.185453, 0.190303, 0.195057, 0.199764, 0.204385, 0.208926, 0.213431, 0.217863, 0.222264, 0.226598, 0.230871, 0.23512, 0.239312, 0.243485, 0.247605, 0.251675, 0.255731, 0.25974, 0.263738, 0.267693, 0.271639, 0.275513, 0.279411, 0.28324, 0.287065, 0.290884, 0.294669, 0.298421, 0.302169, 0.305886, 0.309601, 0.313287, 0.316941, 0.320595, 0.32425, 0.327875, 0.331474, 0.335073, 0.338673, 0.342246, 0.345793, 0.349341, 0.352892, 0.356418, 0.359916, 0.363446, 0.366923, 0.37043, 0.373884, 0.377371, 0.38083, 0.384268, 0.387705, 0.391151, 0.394568, 0.397991, 0.401418, 0.40482, 0.408226, 0.411607, 0.414992, 0.418383, 0.421748, 0.42512, 0.428462, 0.431817, 0.435168, 0.438504, 0.44181, 0.445148, 0.448447, 0.451759, 0.455072, 0.458366, 0.461616, 0.464947, 0.468254, 0.471501, 0.474812, 0.478186, 0.481622, 0.485141, 0.488697, 0.492278, 0.495913, 0.499552, 0.503185, 0.506866, 0.51054, 0.514226, 0.51792, 0.521643, 0.525348, 0.529086, 0.532829, 0.536553, 0.540307, 0.544069, 0.54784, 0.551612, 0.555393, 0.559181, 0.562972, 0.566802, 0.570607, 0.574417, 0.578236, 0.582087, 0.585916, 0.589753, 0.593622, 0.597469, 0.601354, 0.605211, 0.609105, 0.612977, 0.616852, 0.620765, 0.624654, 0.628576, 0.632506, 0.636412, 0.640352, 0.64427, 0.648222, 0.652178, 0.656114, 0.660082, 0.664055, 0.668008, 0.671991, 0.675981, 0.679979, 0.68395, 0.687957, 0.691971, 0.695985, 0.700008, 0.704037, 0.708067, 0.712105, 0.716177, 0.720222, 0.724274, 0.728334, 0.732422, 0.736488, 0.740589, 0.744664, 0.748772, 0.752886, 0.756975, 0.761096, 0.765223, 0.769353, 0.773486, 0.777651, 0.781795, 0.785965, 0.790116, 0.794298, 0.79848, 0.802667, 0.806859, 0.811054, 0.815274, 0.819499, 0.823729, 0.827959, 0.832192, 0.836429, 0.840693, 0.844957, 0.849223, 0.853515, 0.857809, 0.862105, 0.866421, 0.870717, 0.875057, 0.879378, 0.88372, 0.888081, 0.89244, 0.896818, 0.901195, 0.905589, 0.91, 0.914407, 0.918828, 0.923279, 0.927724, 0.93218, 0.93666, 0.941147, 0.945654, 0.950178, 0.954725, 0.959284, 0.963872, 0.968469, 0.973114, 0.97778, 0.982497, 0.987293, 0.992218, 0.994847, 0.995249, 0.995503, 0.995737],\n  g: [0.135112, 0.138068, 0.141013, 0.143951, 0.146877, 0.149791, 0.152673, 0.155377, 0.157932, 0.160495, 0.163058, 0.165621, 0.168204, 0.1708, 0.17342, 0.176082, 0.178802, 0.18161, 0.18455, 0.186915, 0.188769, 0.19095, 0.193366, 0.195911, 0.198528, 0.201199, 0.203903, 0.206629, 0.209372, 0.212122, 0.214879, 0.217643, 0.220406, 0.22317, 0.225935, 0.228697, 0.231458, 0.234216, 0.236972, 0.239724, 0.242475, 0.245221, 0.247965, 0.250707, 0.253444, 0.25618, 0.258914, 0.261644, 0.264372, 0.267099, 0.269823, 0.272546, 0.275266, 0.277985, 0.280702, 0.283419, 0.286134, 0.288848, 0.291562, 0.294274, 0.296986, 0.299698, 0.302409, 0.30512, 0.307831, 0.310542, 0.313253, 0.315965, 0.318677, 0.32139, 0.324103, 0.326816, 0.329531, 0.332247, 0.334963, 0.337681, 0.340399, 0.34312, 0.345842, 0.348565, 0.351289, 0.354016, 0.356744, 0.359474, 0.362206, 0.364939, 0.367676, 0.370414, 0.373153, 0.375896, 0.378641, 0.381388, 0.384139, 0.38689, 0.389646, 0.392404, 0.395164, 0.397928, 0.400694, 0.403464, 0.406236, 0.409011, 0.41179, 0.414572, 0.417357, 0.420145, 0.422937, 0.425733, 0.428531, 0.431334, 0.43414, 0.43695, 0.439763, 0.44258, 0.445402, 0.448226, 0.451053, 0.453887, 0.456718, 0.459552, 0.462405, 0.465241, 0.468083, 0.47096, 0.473832, 0.476699, 0.479573, 0.482451, 0.485318, 0.488198, 0.491076, 0.49396, 0.496851, 0.499743, 0.502643, 0.505546, 0.508454, 0.511367, 0.514285, 0.517207, 0.520135, 0.523067, 0.526005, 0.528948, 0.531895, 0.534849, 0.537807, 0.540771, 0.543741, 0.546715, 0.549695, 0.552682, 0.555673, 0.55867, 0.561674, 0.564682, 0.567697, 0.570718, 0.573743, 0.576777, 0.579816, 0.582861, 0.585913, 0.58897, 0.592034, 0.595104, 0.59818, 0.601264, 0.604354, 0.60745, 0.610553, 0.613664, 0.61678, 0.619904, 0.623034, 0.626171, 0.629316, 0.632468, 0.635626, 0.638793, 0.641966, 0.645145, 0.648334, 0.651529, 0.654731, 0.657942, 0.66116, 0.664384, 0.667618, 0.670859, 0.674107, 0.677364, 0.680629, 0.6839, 0.687181, 0.69047, 0.693766, 0.697071, 0.700384, 0.703705, 0.707035, 0.710373, 0.713719, 0.717074, 0.720438, 0.72381, 0.72719, 0.73058, 0.733978, 0.737385, 0.740801, 0.744226, 0.747659, 0.751101, 0.754553, 0.758014, 0.761483, 0.764962, 0.76845, 0.771947, 0.775454, 0.778969, 0.782494, 0.786028, 0.789572, 0.793125, 0.796687, 0.800258, 0.803839, 0.80743, 0.81103, 0.814639, 0.818257, 0.821885, 0.825522, 0.829168, 0.832822, 0.836486, 0.840159, 0.843841, 0.84753, 0.851228, 0.854933, 0.858646, 0.862365, 0.866089, 0.869819, 0.87355, 0.877281, 0.881008, 0.884718, 0.888385, 0.892954, 0.898384, 0.903866, 0.909344],\n  b: [0.304751, 0.311105, 0.317579, 0.323982, 0.330479, 0.337065, 0.343704, 0.3505, 0.357521, 0.364534, 0.371608, 0.378769, 0.385902, 0.3931, 0.400353, 0.407577, 0.414764, 0.421859, 0.428802, 0.435532, 0.439563, 0.441085, 0.441561, 0.441564, 0.441248, 0.440785, 0.440196, 0.439531, 0.438863, 0.438105, 0.437342, 0.436593, 0.43579, 0.435067, 0.434308, 0.433547, 0.43284, 0.432148, 0.431404, 0.430752, 0.43012, 0.429528, 0.428908, 0.428325, 0.42779, 0.427299, 0.426788, 0.426329, 0.425924, 0.425497, 0.425126, 0.424809, 0.42448, 0.424206, 0.423914, 0.423678, 0.423498, 0.423304, 0.423167, 0.423014, 0.422917, 0.422873, 0.422814, 0.42281, 0.422789, 0.422821, 0.422837, 0.422979, 0.423031, 0.423211, 0.423373, 0.423517, 0.423716, 0.423973, 0.424213, 0.424512, 0.42479, 0.42512, 0.425512, 0.425889, 0.42625, 0.42667, 0.427144, 0.427605, 0.428053, 0.428559, 0.429127, 0.429685, 0.430226, 0.430823, 0.431501, 0.432075, 0.432796, 0.433428, 0.434209, 0.43489, 0.435653, 0.436475, 0.437305, 0.438096, 0.438986, 0.439848, 0.440708, 0.441642, 0.44257, 0.443577, 0.444578, 0.44556, 0.44664, 0.447692, 0.448864, 0.449982, 0.451134, 0.452341, 0.453659, 0.454885, 0.456264, 0.457582, 0.458976, 0.460457, 0.461969, 0.463395, 0.464908, 0.466357, 0.467681, 0.468845, 0.469767, 0.470384, 0.471008, 0.471453, 0.471751, 0.472032, 0.472305, 0.472432, 0.47255, 0.47264, 0.472707, 0.472639, 0.47266, 0.472543, 0.472401, 0.472352, 0.472163, 0.471947, 0.471704, 0.471439, 0.471147, 0.470829, 0.470488, 0.469988, 0.469593, 0.469172, 0.468724, 0.468118, 0.467618, 0.46709, 0.466401, 0.465821, 0.465074, 0.464441, 0.463638, 0.46295, 0.462237, 0.461351, 0.460583, 0.459641, 0.458668, 0.457818, 0.456791, 0.455886, 0.454801, 0.453689, 0.452702, 0.451534, 0.450338, 0.44927, 0.448018, 0.446736, 0.445424, 0.444251, 0.442886, 0.441491, 0.440072, 0.438624, 0.437147, 0.435647, 0.434117, 0.432386, 0.430805, 0.429194, 0.427554, 0.425717, 0.424028, 0.422131, 0.420393, 0.418448, 0.416472, 0.414659, 0.412638, 0.410587, 0.408516, 0.406422, 0.404112, 0.401966, 0.399613, 0.397423, 0.395016, 0.392597, 0.390153, 0.387684, 0.385198, 0.382504, 0.379785, 0.377043, 0.374292, 0.371529, 0.368747, 0.365746, 0.362741, 0.359729, 0.3565, 0.353259, 0.350011, 0.346571, 0.343333, 0.339685, 0.336241, 0.332599, 0.32877, 0.324968, 0.320982, 0.317021, 0.312889, 0.308594, 0.304348, 0.29996, 0.295244, 0.290611, 0.28588, 0.280876, 0.275815, 0.270532, 0.265085, 0.259365, 0.253563, 0.247445, 0.24131, 0.234677, 0.227954, 0.220878, 0.213336, 0.205468, 0.203445, 0.207561, 0.21237, 0.217772]\n};\n","\nimport type { ColorMap } from \"./types\";\n\nexport const gray: ColorMap = {\n  r: [0.0, 0.00392156862745098, 0.00784313725490196, 0.011764705882352941, 0.01568627450980392, 0.0196078431372549, 0.023529411764705882, 0.027450980392156862, 0.03137254901960784, 0.03529411764705882, 0.0392156862745098, 0.043137254901960784, 0.047058823529411764, 0.050980392156862744, 0.054901960784313725, 0.058823529411764705, 0.06274509803921569, 0.06666666666666667, 0.07058823529411765, 0.07450980392156863, 0.0784313725490196, 0.08235294117647059, 0.08627450980392157, 0.09019607843137255, 0.09411764705882353, 0.09803921568627451, 0.10196078431372549, 0.10588235294117647, 0.10980392156862745, 0.11372549019607843, 0.11764705882352941, 0.12156862745098039, 0.12549019607843137, 0.12941176470588234, 0.13333333333333333, 0.13725490196078433, 0.1411764705882353, 0.14509803921568626, 0.14901960784313725, 0.15294117647058825, 0.1568627450980392, 0.16078431372549018, 0.16470588235294117, 0.16862745098039217, 0.17254901960784313, 0.1764705882352941, 0.1803921568627451, 0.1843137254901961, 0.18823529411764706, 0.19215686274509802, 0.19607843137254902, 0.2, 0.20392156862745098, 0.20784313725490194, 0.21176470588235294, 0.21568627450980393, 0.2196078431372549, 0.22352941176470587, 0.22745098039215686, 0.23137254901960785, 0.23529411764705882, 0.2392156862745098, 0.24313725490196078, 0.24705882352941178, 0.25098039215686274, 0.2549019607843137, 0.2588235294117647, 0.2627450980392157, 0.26666666666666666, 0.27058823529411763, 0.27450980392156865, 0.2784313725490196, 0.2823529411764706, 0.28627450980392155, 0.2901960784313725, 0.29411764705882354, 0.2980392156862745, 0.30196078431372547, 0.3058823529411765, 0.30980392156862746, 0.3137254901960784, 0.3176470588235294, 0.32156862745098036, 0.3254901960784314, 0.32941176470588235, 0.3333333333333333, 0.33725490196078434, 0.3411764705882353, 0.34509803921568627, 0.34901960784313724, 0.3529411764705882, 0.3568627450980392, 0.3607843137254902, 0.36470588235294116, 0.3686274509803922, 0.37254901960784315, 0.3764705882352941, 0.3803921568627451, 0.38431372549019605, 0.38823529411764707, 0.39215686274509803, 0.396078431372549, 0.4, 0.403921568627451, 0.40784313725490196, 0.4117647058823529, 0.4156862745098039, 0.4196078431372549, 0.4235294117647059, 0.42745098039215684, 0.43137254901960786, 0.43529411764705883, 0.4392156862745098, 0.44313725490196076, 0.44705882352941173, 0.45098039215686275, 0.4549019607843137, 0.4588235294117647, 0.4627450980392157, 0.4666666666666667, 0.47058823529411764, 0.4745098039215686, 0.4784313725490196, 0.4823529411764706, 0.48627450980392156, 0.49019607843137253, 0.49411764705882355, 0.4980392156862745, 0.5019607843137255, 0.5058823529411764, 0.5098039215686274, 0.5137254901960784, 0.5176470588235293, 0.5215686274509804, 0.5254901960784314, 0.5294117647058824, 0.5333333333333333, 0.5372549019607843, 0.5411764705882353, 0.5450980392156862, 0.5490196078431373, 0.5529411764705883, 0.5568627450980392, 0.5607843137254902, 0.5647058823529412, 0.5686274509803921, 0.5725490196078431, 0.5764705882352941, 0.580392156862745, 0.5843137254901961, 0.5882352941176471, 0.592156862745098, 0.596078431372549, 0.6, 0.6039215686274509, 0.6078431372549019, 0.611764705882353, 0.615686274509804, 0.6196078431372549, 0.6235294117647059, 0.6274509803921569, 0.6313725490196078, 0.6352941176470588, 0.6392156862745098, 0.6431372549019607, 0.6470588235294118, 0.6509803921568628, 0.6549019607843137, 0.6588235294117647, 0.6627450980392157, 0.6666666666666666, 0.6705882352941176, 0.6745098039215687, 0.6784313725490196, 0.6823529411764706, 0.6862745098039216, 0.6901960784313725, 0.6941176470588235, 0.6980392156862745, 0.7019607843137254, 0.7058823529411764, 0.7098039215686275, 0.7137254901960784, 0.7176470588235294, 0.7215686274509804, 0.7254901960784313, 0.7294117647058823, 0.7333333333333333, 0.7372549019607844, 0.7411764705882353, 0.7450980392156863, 0.7490196078431373, 0.7529411764705882, 0.7568627450980392, 0.7607843137254902, 0.7647058823529411, 0.7686274509803921, 0.7725490196078432, 0.7764705882352941, 0.7803921568627451, 0.7843137254901961, 0.788235294117647, 0.792156862745098, 0.796078431372549, 0.8, 0.803921568627451, 0.807843137254902, 0.8117647058823529, 0.8156862745098039, 0.8196078431372549, 0.8235294117647058, 0.8274509803921568, 0.8313725490196078, 0.8352941176470589, 0.8392156862745098, 0.8431372549019608, 0.8470588235294118, 0.8509803921568627, 0.8549019607843137, 0.8588235294117647, 0.8627450980392157, 0.8666666666666667, 0.8705882352941177, 0.8745098039215686, 0.8784313725490196, 0.8823529411764706, 0.8862745098039215, 0.8901960784313725, 0.8941176470588235, 0.8980392156862745, 0.9019607843137255, 0.9058823529411765, 0.9098039215686274, 0.9137254901960784, 0.9176470588235294, 0.9215686274509803, 0.9254901960784314, 0.9294117647058824, 0.9333333333333333, 0.9372549019607843, 0.9411764705882353, 0.9450980392156862, 0.9490196078431372, 0.9529411764705882, 0.9568627450980391, 0.9607843137254902, 0.9647058823529412, 0.9686274509803922, 0.9725490196078431, 0.9764705882352941, 0.9803921568627451, 0.984313725490196, 0.9882352941176471, 0.9921568627450981, 0.996078431372549, 1.0],\n  g: [0.0, 0.00392156862745098, 0.00784313725490196, 0.011764705882352941, 0.01568627450980392, 0.0196078431372549, 0.023529411764705882, 0.027450980392156862, 0.03137254901960784, 0.03529411764705882, 0.0392156862745098, 0.043137254901960784, 0.047058823529411764, 0.050980392156862744, 0.054901960784313725, 0.058823529411764705, 0.06274509803921569, 0.06666666666666667, 0.07058823529411765, 0.07450980392156863, 0.0784313725490196, 0.08235294117647059, 0.08627450980392157, 0.09019607843137255, 0.09411764705882353, 0.09803921568627451, 0.10196078431372549, 0.10588235294117647, 0.10980392156862745, 0.11372549019607843, 0.11764705882352941, 0.12156862745098039, 0.12549019607843137, 0.12941176470588234, 0.13333333333333333, 0.13725490196078433, 0.1411764705882353, 0.14509803921568626, 0.14901960784313725, 0.15294117647058825, 0.1568627450980392, 0.16078431372549018, 0.16470588235294117, 0.16862745098039217, 0.17254901960784313, 0.1764705882352941, 0.1803921568627451, 0.1843137254901961, 0.18823529411764706, 0.19215686274509802, 0.19607843137254902, 0.2, 0.20392156862745098, 0.20784313725490194, 0.21176470588235294, 0.21568627450980393, 0.2196078431372549, 0.22352941176470587, 0.22745098039215686, 0.23137254901960785, 0.23529411764705882, 0.2392156862745098, 0.24313725490196078, 0.24705882352941178, 0.25098039215686274, 0.2549019607843137, 0.2588235294117647, 0.2627450980392157, 0.26666666666666666, 0.27058823529411763, 0.27450980392156865, 0.2784313725490196, 0.2823529411764706, 0.28627450980392155, 0.2901960784313725, 0.29411764705882354, 0.2980392156862745, 0.30196078431372547, 0.3058823529411765, 0.30980392156862746, 0.3137254901960784, 0.3176470588235294, 0.32156862745098036, 0.3254901960784314, 0.32941176470588235, 0.3333333333333333, 0.33725490196078434, 0.3411764705882353, 0.34509803921568627, 0.34901960784313724, 0.3529411764705882, 0.3568627450980392, 0.3607843137254902, 0.36470588235294116, 0.3686274509803922, 0.37254901960784315, 0.3764705882352941, 0.3803921568627451, 0.38431372549019605, 0.38823529411764707, 0.39215686274509803, 0.396078431372549, 0.4, 0.403921568627451, 0.40784313725490196, 0.4117647058823529, 0.4156862745098039, 0.4196078431372549, 0.4235294117647059, 0.42745098039215684, 0.43137254901960786, 0.43529411764705883, 0.4392156862745098, 0.44313725490196076, 0.44705882352941173, 0.45098039215686275, 0.4549019607843137, 0.4588235294117647, 0.4627450980392157, 0.4666666666666667, 0.47058823529411764, 0.4745098039215686, 0.4784313725490196, 0.4823529411764706, 0.48627450980392156, 0.49019607843137253, 0.49411764705882355, 0.4980392156862745, 0.5019607843137255, 0.5058823529411764, 0.5098039215686274, 0.5137254901960784, 0.5176470588235293, 0.5215686274509804, 0.5254901960784314, 0.5294117647058824, 0.5333333333333333, 0.5372549019607843, 0.5411764705882353, 0.5450980392156862, 0.5490196078431373, 0.5529411764705883, 0.5568627450980392, 0.5607843137254902, 0.5647058823529412, 0.5686274509803921, 0.5725490196078431, 0.5764705882352941, 0.580392156862745, 0.5843137254901961, 0.5882352941176471, 0.592156862745098, 0.596078431372549, 0.6, 0.6039215686274509, 0.6078431372549019, 0.611764705882353, 0.615686274509804, 0.6196078431372549, 0.6235294117647059, 0.6274509803921569, 0.6313725490196078, 0.6352941176470588, 0.6392156862745098, 0.6431372549019607, 0.6470588235294118, 0.6509803921568628, 0.6549019607843137, 0.6588235294117647, 0.6627450980392157, 0.6666666666666666, 0.6705882352941176, 0.6745098039215687, 0.6784313725490196, 0.6823529411764706, 0.6862745098039216, 0.6901960784313725, 0.6941176470588235, 0.6980392156862745, 0.7019607843137254, 0.7058823529411764, 0.7098039215686275, 0.7137254901960784, 0.7176470588235294, 0.7215686274509804, 0.7254901960784313, 0.7294117647058823, 0.7333333333333333, 0.7372549019607844, 0.7411764705882353, 0.7450980392156863, 0.7490196078431373, 0.7529411764705882, 0.7568627450980392, 0.7607843137254902, 0.7647058823529411, 0.7686274509803921, 0.7725490196078432, 0.7764705882352941, 0.7803921568627451, 0.7843137254901961, 0.788235294117647, 0.792156862745098, 0.796078431372549, 0.8, 0.803921568627451, 0.807843137254902, 0.8117647058823529, 0.8156862745098039, 0.8196078431372549, 0.8235294117647058, 0.8274509803921568, 0.8313725490196078, 0.8352941176470589, 0.8392156862745098, 0.8431372549019608, 0.8470588235294118, 0.8509803921568627, 0.8549019607843137, 0.8588235294117647, 0.8627450980392157, 0.8666666666666667, 0.8705882352941177, 0.8745098039215686, 0.8784313725490196, 0.8823529411764706, 0.8862745098039215, 0.8901960784313725, 0.8941176470588235, 0.8980392156862745, 0.9019607843137255, 0.9058823529411765, 0.9098039215686274, 0.9137254901960784, 0.9176470588235294, 0.9215686274509803, 0.9254901960784314, 0.9294117647058824, 0.9333333333333333, 0.9372549019607843, 0.9411764705882353, 0.9450980392156862, 0.9490196078431372, 0.9529411764705882, 0.9568627450980391, 0.9607843137254902, 0.9647058823529412, 0.9686274509803922, 0.9725490196078431, 0.9764705882352941, 0.9803921568627451, 0.984313725490196, 0.9882352941176471, 0.9921568627450981, 0.996078431372549, 1.0],\n  b: [0.0, 0.00392156862745098, 0.00784313725490196, 0.011764705882352941, 0.01568627450980392, 0.0196078431372549, 0.023529411764705882, 0.027450980392156862, 0.03137254901960784, 0.03529411764705882, 0.0392156862745098, 0.043137254901960784, 0.047058823529411764, 0.050980392156862744, 0.054901960784313725, 0.058823529411764705, 0.06274509803921569, 0.06666666666666667, 0.07058823529411765, 0.07450980392156863, 0.0784313725490196, 0.08235294117647059, 0.08627450980392157, 0.09019607843137255, 0.09411764705882353, 0.09803921568627451, 0.10196078431372549, 0.10588235294117647, 0.10980392156862745, 0.11372549019607843, 0.11764705882352941, 0.12156862745098039, 0.12549019607843137, 0.12941176470588234, 0.13333333333333333, 0.13725490196078433, 0.1411764705882353, 0.14509803921568626, 0.14901960784313725, 0.15294117647058825, 0.1568627450980392, 0.16078431372549018, 0.16470588235294117, 0.16862745098039217, 0.17254901960784313, 0.1764705882352941, 0.1803921568627451, 0.1843137254901961, 0.18823529411764706, 0.19215686274509802, 0.19607843137254902, 0.2, 0.20392156862745098, 0.20784313725490194, 0.21176470588235294, 0.21568627450980393, 0.2196078431372549, 0.22352941176470587, 0.22745098039215686, 0.23137254901960785, 0.23529411764705882, 0.2392156862745098, 0.24313725490196078, 0.24705882352941178, 0.25098039215686274, 0.2549019607843137, 0.2588235294117647, 0.2627450980392157, 0.26666666666666666, 0.27058823529411763, 0.27450980392156865, 0.2784313725490196, 0.2823529411764706, 0.28627450980392155, 0.2901960784313725, 0.29411764705882354, 0.2980392156862745, 0.30196078431372547, 0.3058823529411765, 0.30980392156862746, 0.3137254901960784, 0.3176470588235294, 0.32156862745098036, 0.3254901960784314, 0.32941176470588235, 0.3333333333333333, 0.33725490196078434, 0.3411764705882353, 0.34509803921568627, 0.34901960784313724, 0.3529411764705882, 0.3568627450980392, 0.3607843137254902, 0.36470588235294116, 0.3686274509803922, 0.37254901960784315, 0.3764705882352941, 0.3803921568627451, 0.38431372549019605, 0.38823529411764707, 0.39215686274509803, 0.396078431372549, 0.4, 0.403921568627451, 0.40784313725490196, 0.4117647058823529, 0.4156862745098039, 0.4196078431372549, 0.4235294117647059, 0.42745098039215684, 0.43137254901960786, 0.43529411764705883, 0.4392156862745098, 0.44313725490196076, 0.44705882352941173, 0.45098039215686275, 0.4549019607843137, 0.4588235294117647, 0.4627450980392157, 0.4666666666666667, 0.47058823529411764, 0.4745098039215686, 0.4784313725490196, 0.4823529411764706, 0.48627450980392156, 0.49019607843137253, 0.49411764705882355, 0.4980392156862745, 0.5019607843137255, 0.5058823529411764, 0.5098039215686274, 0.5137254901960784, 0.5176470588235293, 0.5215686274509804, 0.5254901960784314, 0.5294117647058824, 0.5333333333333333, 0.5372549019607843, 0.5411764705882353, 0.5450980392156862, 0.5490196078431373, 0.5529411764705883, 0.5568627450980392, 0.5607843137254902, 0.5647058823529412, 0.5686274509803921, 0.5725490196078431, 0.5764705882352941, 0.580392156862745, 0.5843137254901961, 0.5882352941176471, 0.592156862745098, 0.596078431372549, 0.6, 0.6039215686274509, 0.6078431372549019, 0.611764705882353, 0.615686274509804, 0.6196078431372549, 0.6235294117647059, 0.6274509803921569, 0.6313725490196078, 0.6352941176470588, 0.6392156862745098, 0.6431372549019607, 0.6470588235294118, 0.6509803921568628, 0.6549019607843137, 0.6588235294117647, 0.6627450980392157, 0.6666666666666666, 0.6705882352941176, 0.6745098039215687, 0.6784313725490196, 0.6823529411764706, 0.6862745098039216, 0.6901960784313725, 0.6941176470588235, 0.6980392156862745, 0.7019607843137254, 0.7058823529411764, 0.7098039215686275, 0.7137254901960784, 0.7176470588235294, 0.7215686274509804, 0.7254901960784313, 0.7294117647058823, 0.7333333333333333, 0.7372549019607844, 0.7411764705882353, 0.7450980392156863, 0.7490196078431373, 0.7529411764705882, 0.7568627450980392, 0.7607843137254902, 0.7647058823529411, 0.7686274509803921, 0.7725490196078432, 0.7764705882352941, 0.7803921568627451, 0.7843137254901961, 0.788235294117647, 0.792156862745098, 0.796078431372549, 0.8, 0.803921568627451, 0.807843137254902, 0.8117647058823529, 0.8156862745098039, 0.8196078431372549, 0.8235294117647058, 0.8274509803921568, 0.8313725490196078, 0.8352941176470589, 0.8392156862745098, 0.8431372549019608, 0.8470588235294118, 0.8509803921568627, 0.8549019607843137, 0.8588235294117647, 0.8627450980392157, 0.8666666666666667, 0.8705882352941177, 0.8745098039215686, 0.8784313725490196, 0.8823529411764706, 0.8862745098039215, 0.8901960784313725, 0.8941176470588235, 0.8980392156862745, 0.9019607843137255, 0.9058823529411765, 0.9098039215686274, 0.9137254901960784, 0.9176470588235294, 0.9215686274509803, 0.9254901960784314, 0.9294117647058824, 0.9333333333333333, 0.9372549019607843, 0.9411764705882353, 0.9450980392156862, 0.9490196078431372, 0.9529411764705882, 0.9568627450980391, 0.9607843137254902, 0.9647058823529412, 0.9686274509803922, 0.9725490196078431, 0.9764705882352941, 0.9803921568627451, 0.984313725490196, 0.9882352941176471, 0.9921568627450981, 0.996078431372549, 1.0]\n};\n","\nimport type { ColorMap } from \"./types\";\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport const svs_nitrogen_dioxide: ColorMap = {\n  r: [0.027451, 0.027451, 0.0313726, 0.0313726, 0.0313726, 0.0352941, 0.0392157, 0.0392157, 0.0431373, 0.0431373, 0.0470588, 0.0509804, 0.0509804, 0.054902, 0.054902, 0.0588235, 0.0627451, 0.0627451, 0.0666667, 0.0666667, 0.0705882, 0.0745098, 0.0745098, 0.0784314, 0.0823529, 0.0823529, 0.0862745, 0.0901961, 0.0901961, 0.0941176, 0.0941176, 0.0980392, 0.101961, 0.101961, 0.105882, 0.109804, 0.113725, 0.117647, 0.121569, 0.12549, 0.133333, 0.137255, 0.145098, 0.14902, 0.156863, 0.164706, 0.172549, 0.180392, 0.188235, 0.196078, 0.207843, 0.215686, 0.223529, 0.231373, 0.239216, 0.25098, 0.258824, 0.266667, 0.278431, 0.286275, 0.294118, 0.301961, 0.313726, 0.321569, 0.329412, 0.337255, 0.345098, 0.356863, 0.364706, 0.372549, 0.380392, 0.388235, 0.4, 0.407843, 0.415686, 0.427451, 0.435294, 0.443137, 0.45098, 0.462745, 0.470588, 0.478431, 0.490196, 0.501961, 0.509804, 0.521569, 0.529412, 0.541176, 0.552941, 0.564706, 0.576471, 0.584314, 0.6, 0.607843, 0.619608, 0.631373, 0.639216, 0.654902, 0.662745, 0.67451, 0.686275, 0.694118, 0.705882, 0.713726, 0.72549, 0.737255, 0.745098, 0.756863, 0.764706, 0.772549, 0.784314, 0.792157, 0.803922, 0.811765, 0.819608, 0.827451, 0.835294, 0.847059, 0.85098, 0.858824, 0.870588, 0.87451, 0.882353, 0.890196, 0.898039, 0.905882, 0.909804, 0.917647, 0.92549, 0.929412, 0.937255, 0.941176, 0.94902, 0.952941, 0.960784, 0.964706, 0.972549, 0.976471, 0.980392, 0.984314, 0.988235, 0.988235, 0.992157, 0.992157, 0.992157, 0.996078, 0.996078, 0.996078, 0.996078, 0.996078, 0.996078, 0.996078, 0.996078, 0.996078, 0.996078, 0.996078, 0.996078, 0.996078, 0.996078, 0.996078, 0.996078, 0.996078, 0.996078, 0.996078, 0.996078, 0.996078, 0.996078, 0.996078, 0.996078, 0.996078, 0.996078, 0.996078, 0.996078, 0.996078, 0.996078, 0.996078, 0.996078, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.996078, 0.996078, 0.996078, 0.992157, 0.992157, 0.988235, 0.984314, 0.980392, 0.976471, 0.972549, 0.968627, 0.964706, 0.956863, 0.94902, 0.945098, 0.933333, 0.92549, 0.917647, 0.905882, 0.898039, 0.886275, 0.87451, 0.858824, 0.847059, 0.835294, 0.819608, 0.803922, 0.788235, 0.772549, 0.760784, 0.741176, 0.72549, 0.705882, 0.690196, 0.67451, 0.65098, 0.635294, 0.615686, 0.596078, 0.580392, 0.556863, 0.541176, 0.521569, 0.501961, 0.486275, 0.466667, 0.45098, 0.427451, 0.411765, 0.396078, 0.376471, 0.364706, 0.345098, 0.329412, 0.317647, 0.298039, 0.286275, 0.270588, 0.258824, 0.247059, 0.235294, 0.227451, 0.219608, 0.211765, 0.211765, 0.207843, 0.207843, 0.211765, 0.211765, 0.215686, 0.223529, 0.227451, 0.231373],\n  g: [0.0156863, 0.0156863, 0.0156863, 0.0196078, 0.0196078, 0.0196078, 0.0235294, 0.0235294, 0.0235294, 0.0235294, 0.027451, 0.027451, 0.027451, 0.0313726, 0.0313726, 0.0313726, 0.0352941, 0.0352941, 0.0352941, 0.0352941, 0.0392157, 0.0392157, 0.0392157, 0.0431373, 0.0431373, 0.0431373, 0.0470588, 0.0470588, 0.0470588, 0.0509804, 0.0509804, 0.0509804, 0.0509804, 0.054902, 0.054902, 0.054902, 0.0588235, 0.0588235, 0.0588235, 0.0588235, 0.0627451, 0.0627451, 0.0627451, 0.0627451, 0.0627451, 0.0627451, 0.0627451, 0.0627451, 0.0627451, 0.0627451, 0.0627451, 0.0627451, 0.0666667, 0.0666667, 0.0666667, 0.0666667, 0.0666667, 0.0666667, 0.0666667, 0.0666667, 0.0705882, 0.0705882, 0.0705882, 0.0745098, 0.0745098, 0.0784314, 0.0823529, 0.0823529, 0.0862745, 0.0901961, 0.0941176, 0.0980392, 0.101961, 0.105882, 0.105882, 0.109804, 0.113725, 0.117647, 0.121569, 0.12549, 0.129412, 0.133333, 0.137255, 0.141176, 0.141176, 0.145098, 0.14902, 0.152941, 0.156863, 0.160784, 0.164706, 0.168627, 0.172549, 0.176471, 0.180392, 0.184314, 0.188235, 0.192157, 0.196078, 0.2, 0.203922, 0.207843, 0.211765, 0.215686, 0.219608, 0.223529, 0.227451, 0.231373, 0.235294, 0.239216, 0.247059, 0.25098, 0.254902, 0.258824, 0.262745, 0.270588, 0.27451, 0.282353, 0.290196, 0.294118, 0.301961, 0.309804, 0.321569, 0.329412, 0.337255, 0.34902, 0.356863, 0.368627, 0.376471, 0.388235, 0.396078, 0.407843, 0.415686, 0.427451, 0.435294, 0.447059, 0.458824, 0.466667, 0.482353, 0.494118, 0.505882, 0.517647, 0.529412, 0.545098, 0.556863, 0.572549, 0.584314, 0.6, 0.615686, 0.627451, 0.643137, 0.654902, 0.670588, 0.686275, 0.698039, 0.709804, 0.721569, 0.733333, 0.74902, 0.756863, 0.772549, 0.780392, 0.792157, 0.803922, 0.811765, 0.823529, 0.831373, 0.843137, 0.85098, 0.862745, 0.870588, 0.878431, 0.890196, 0.898039, 0.905882, 0.913725, 0.921569, 0.929412, 0.937255, 0.941176, 0.94902, 0.952941, 0.960784, 0.964706, 0.968627, 0.972549, 0.976471, 0.976471, 0.980392, 0.980392, 0.980392, 0.980392, 0.976471, 0.976471, 0.972549, 0.968627, 0.964706, 0.960784, 0.956863, 0.952941, 0.945098, 0.941176, 0.937255, 0.929412, 0.92549, 0.917647, 0.913725, 0.905882, 0.901961, 0.894118, 0.886275, 0.882353, 0.878431, 0.870588, 0.866667, 0.858824, 0.854902, 0.847059, 0.839216, 0.835294, 0.827451, 0.823529, 0.815686, 0.807843, 0.8, 0.792157, 0.788235, 0.780392, 0.768627, 0.760784, 0.752941, 0.741176, 0.733333, 0.721569, 0.709804, 0.698039, 0.686275, 0.67451, 0.662745, 0.65098, 0.635294, 0.623529, 0.607843, 0.592157, 0.580392, 0.564706, 0.552941, 0.541176, 0.529412, 0.517647, 0.501961, 0.494118, 0.486275, 0.47451, 0.470588, 0.462745],\n  b: [0.0509804, 0.054902, 0.0588235, 0.0627451, 0.0666667, 0.0745098, 0.0784314, 0.0862745, 0.0901961, 0.0941176, 0.101961, 0.109804, 0.113725, 0.121569, 0.12549, 0.133333, 0.141176, 0.145098, 0.152941, 0.156863, 0.164706, 0.172549, 0.180392, 0.184314, 0.192157, 0.196078, 0.203922, 0.211765, 0.215686, 0.223529, 0.227451, 0.235294, 0.243137, 0.247059, 0.254902, 0.262745, 0.266667, 0.27451, 0.282353, 0.286275, 0.294118, 0.301961, 0.309804, 0.317647, 0.32549, 0.333333, 0.341176, 0.352941, 0.360784, 0.368627, 0.376471, 0.384314, 0.396078, 0.403922, 0.411765, 0.419608, 0.427451, 0.435294, 0.443137, 0.45098, 0.454902, 0.462745, 0.466667, 0.470588, 0.47451, 0.478431, 0.482353, 0.486275, 0.486275, 0.490196, 0.490196, 0.490196, 0.494118, 0.494118, 0.494118, 0.498039, 0.498039, 0.498039, 0.498039, 0.501961, 0.501961, 0.501961, 0.501961, 0.501961, 0.501961, 0.501961, 0.501961, 0.498039, 0.498039, 0.498039, 0.494118, 0.494118, 0.494118, 0.490196, 0.490196, 0.490196, 0.486275, 0.486275, 0.482353, 0.482353, 0.478431, 0.47451, 0.47451, 0.470588, 0.466667, 0.462745, 0.458824, 0.454902, 0.45098, 0.447059, 0.443137, 0.439216, 0.435294, 0.431373, 0.431373, 0.423529, 0.423529, 0.419608, 0.415686, 0.411765, 0.407843, 0.403922, 0.4, 0.4, 0.396078, 0.392157, 0.388235, 0.384314, 0.380392, 0.376471, 0.368627, 0.364706, 0.360784, 0.352941, 0.34902, 0.341176, 0.337255, 0.329412, 0.32549, 0.321569, 0.317647, 0.313726, 0.313726, 0.313726, 0.313726, 0.317647, 0.321569, 0.32549, 0.333333, 0.337255, 0.34902, 0.356863, 0.364706, 0.376471, 0.384314, 0.392157, 0.403922, 0.411765, 0.423529, 0.431373, 0.443137, 0.45098, 0.462745, 0.47451, 0.482353, 0.498039, 0.505882, 0.517647, 0.533333, 0.54902, 0.564706, 0.576471, 0.592157, 0.611765, 0.623529, 0.643137, 0.654902, 0.670588, 0.686275, 0.694118, 0.709804, 0.717647, 0.72549, 0.733333, 0.737255, 0.741176, 0.745098, 0.745098, 0.741176, 0.737255, 0.729412, 0.72549, 0.717647, 0.705882, 0.698039, 0.686275, 0.678431, 0.670588, 0.658824, 0.65098, 0.643137, 0.639216, 0.631373, 0.627451, 0.627451, 0.627451, 0.627451, 0.627451, 0.631373, 0.631373, 0.635294, 0.639216, 0.643137, 0.65098, 0.654902, 0.658824, 0.662745, 0.662745, 0.666667, 0.670588, 0.670588, 0.67451, 0.67451, 0.67451, 0.67451, 0.67451, 0.67451, 0.678431, 0.678431, 0.682353, 0.686275, 0.686275, 0.690196, 0.698039, 0.701961, 0.709804, 0.713726, 0.717647, 0.72549, 0.733333, 0.737255, 0.745098, 0.74902, 0.756863, 0.760784, 0.764706, 0.768627, 0.772549, 0.772549, 0.776471, 0.776471, 0.776471, 0.776471, 0.776471, 0.776471, 0.776471],\n};\n\n\nexport const svsColorRamp = {\n  \"type\": \"multipart\",\n  \"colorRamps\": [\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        7,\n        4,\n        13,\n        255\n      ],\n      \"toColor\": [\n        13,\n        7,\n        29,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.0,\n      \"stop\": 0.047619047619047616\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        13,\n        7,\n        29,\n        255\n      ],\n      \"toColor\": [\n        20,\n        11,\n        49,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.047619047619047616,\n      \"stop\": 0.09523809523809523\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        20,\n        11,\n        49,\n        255\n      ],\n      \"toColor\": [\n        29,\n        14,\n        68,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.09523809523809523,\n      \"stop\": 0.14285714285714285\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        29,\n        14,\n        68,\n        255\n      ],\n      \"toColor\": [\n        49,\n        16,\n        93,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.14285714285714285,\n      \"stop\": 0.19047619047619047\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        49,\n        16,\n        93,\n        255\n      ],\n      \"toColor\": [\n        76,\n        17,\n        117,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.19047619047619047,\n      \"stop\": 0.23809523809523808\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        76,\n        17,\n        117,\n        255\n      ],\n      \"toColor\": [\n        103,\n        26,\n        126,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.23809523809523808,\n      \"stop\": 0.2857142857142857\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        103,\n        26,\n        126,\n        255\n      ],\n      \"toColor\": [\n        133,\n        36,\n        128,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.2857142857142857,\n      \"stop\": 0.3333333333333333\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        133,\n        36,\n        128,\n        255\n      ],\n      \"toColor\": [\n        167,\n        49,\n        123,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.3333333333333333,\n      \"stop\": 0.38095238095238093\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        167,\n        49,\n        123,\n        255\n      ],\n      \"toColor\": [\n        197,\n        61,\n        113,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.38095238095238093,\n      \"stop\": 0.42857142857142855\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        197,\n        61,\n        113,\n        255\n      ],\n      \"toColor\": [\n        223,\n        80,\n        102,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.42857142857142855,\n      \"stop\": 0.47619047619047616\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        223,\n        80,\n        102,\n        255\n      ],\n      \"toColor\": [\n        244,\n        110,\n        89,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.47619047619047616,\n      \"stop\": 0.5238095238095237\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        244,\n        110,\n        89,\n        255\n      ],\n      \"toColor\": [\n        253,\n        148,\n        81,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.5238095238095237,\n      \"stop\": 0.5714285714285714\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        253,\n        148,\n        81,\n        255\n      ],\n      \"toColor\": [\n        253,\n        190,\n        107,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.5714285714285714,\n      \"stop\": 0.6190476190476191\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        253,\n        190,\n        107,\n        255\n      ],\n      \"toColor\": [\n        253,\n        221,\n        144,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.6190476190476191,\n      \"stop\": 0.6666666666666666\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        253,\n        221,\n        144,\n        255\n      ],\n      \"toColor\": [\n        254,\n        245,\n        185,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.6666666666666666,\n      \"stop\": 0.7142857142857142\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        254,\n        245,\n        185,\n        255\n      ],\n      \"toColor\": [\n        245,\n        247,\n        177,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.7142857142857142,\n      \"stop\": 0.7619047619047619\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        245,\n        247,\n        177,\n        255\n      ],\n      \"toColor\": [\n        214,\n        232,\n        160,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.7619047619047619,\n      \"stop\": 0.8095238095238095\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        214,\n        232,\n        160,\n        255\n      ],\n      \"toColor\": [\n        163,\n        213,\n        170,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.8095238095238095,\n      \"stop\": 0.8571428571428571\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        163,\n        213,\n        170,\n        255\n      ],\n      \"toColor\": [\n        106,\n        189,\n        175,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.8571428571428571,\n      \"stop\": 0.9047619047619047\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        106,\n        189,\n        175,\n        255\n      ],\n      \"toColor\": [\n        60,\n        151,\n        192,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.9047619047619047,\n      \"stop\": 0.9523809523809523\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        60,\n        151,\n        192,\n        255\n      ],\n      \"toColor\": [\n        59,\n        117,\n        198,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.9523809523809523,\n      \"stop\": 1.0\n    }\n  ]\n};\n","\nimport type { ColorMap } from \"./types\";\n\nexport const sargassum: ColorMap = {\n  r: [0.3843137254901961, 0.38823529411764707, 0.396078431372549, 0.4, 0.40784313725490196, 0.41568627450980394, 0.42745098039215684, 0.43529411764705883, 0.44313725490196076, 0.4549019607843137, 0.4666666666666667, 0.4745098039215686, 0.48627450980392156, 0.49411764705882355, 0.5058823529411764, 0.5137254901960784, 0.5254901960784314, 0.5333333333333333, 0.5450980392156862, 0.5529411764705883, 0.5647058823529412, 0.5725490196078431, 0.5843137254901961, 0.592156862745098, 0.6039215686274509, 0.615686274509804, 0.6235294117647059, 0.6352941176470588, 0.6431372549019608, 0.6549019607843137, 0.6627450980392157, 0.6745098039215687, 0.6823529411764706, 0.6901960784313725, 0.7019607843137254, 0.7098039215686275, 0.7215686274509804, 0.7294117647058823, 0.7372549019607844, 0.7490196078431373, 0.7568627450980392, 0.7686274509803922, 0.7764705882352941, 0.788235294117647, 0.796078431372549, 0.803921568627451, 0.8156862745098039, 0.8235294117647058, 0.8313725490196079, 0.8392156862745098, 0.8470588235294118, 0.8509803921568627, 0.8588235294117647, 0.8627450980392157, 0.8666666666666667, 0.8705882352941177, 0.8705882352941177, 0.8745098039215686, 0.8784313725490196, 0.8784313725490196, 0.8823529411764706, 0.8862745098039215, 0.8862745098039215, 0.8901960784313725, 0.8941176470588236, 0.8980392156862745, 0.8980392156862745, 0.9019607843137255, 0.9058823529411765, 0.9058823529411765, 0.9098039215686274, 0.9098039215686274, 0.9137254901960784, 0.9176470588235294, 0.9176470588235294, 0.9215686274509803, 0.9254901960784314, 0.9254901960784314, 0.9294117647058824, 0.9333333333333333, 0.9372549019607843, 0.9411764705882353, 0.9411764705882353, 0.9450980392156862, 0.9490196078431372, 0.9490196078431372, 0.9529411764705882, 0.9529411764705882, 0.9568627450980393, 0.9607843137254902, 0.9607843137254902, 0.9647058823529412, 0.9686274509803922, 0.9686274509803922, 0.9725490196078431, 0.9725490196078431, 0.9764705882352941, 0.9764705882352941, 0.9803921568627451, 0.984313725490196, 0.984313725490196, 0.9882352941176471, 0.9882352941176471, 0.9882352941176471, 0.9921568627450981, 0.9921568627450981, 0.9921568627450981, 0.9921568627450981, 0.9921568627450981, 0.9921568627450981, 0.9921568627450981, 0.9882352941176471, 0.9882352941176471, 0.9882352941176471, 0.9882352941176471, 0.9882352941176471, 0.9882352941176471, 0.9882352941176471, 0.9882352941176471, 0.9882352941176471, 0.9882352941176471, 0.9882352941176471, 0.9882352941176471, 0.984313725490196, 0.984313725490196, 0.984313725490196, 0.984313725490196, 0.9803921568627451, 0.9803921568627451, 0.9803921568627451, 0.9803921568627451, 0.9764705882352941, 0.9764705882352941, 0.9764705882352941, 0.9764705882352941, 0.9764705882352941, 0.9764705882352941, 0.9725490196078431, 0.9725490196078431, 0.9725490196078431, 0.9725490196078431, 0.9725490196078431, 0.9725490196078431, 0.9725490196078431, 0.9725490196078431, 0.9725490196078431, 0.9725490196078431, 0.9725490196078431, 0.9686274509803922, 0.9686274509803922, 0.9647058823529412, 0.9647058823529412, 0.9607843137254902, 0.9529411764705882, 0.9490196078431372, 0.9411764705882353, 0.9333333333333333, 0.9254901960784314, 0.9137254901960784, 0.9058823529411765, 0.8941176470588236, 0.8862745098039215, 0.8745098039215686, 0.8666666666666667, 0.8549019607843137, 0.8470588235294118, 0.8392156862745098, 0.8274509803921568, 0.8196078431372549, 0.807843137254902, 0.8, 0.788235294117647, 0.7803921568627451, 0.7686274509803922, 0.7568627450980392, 0.7450980392156863, 0.7372549019607844, 0.7254901960784313, 0.7137254901960784, 0.7058823529411765, 0.6941176470588235, 0.6823529411764706, 0.6745098039215687, 0.6627450980392157, 0.6509803921568628, 0.6392156862745098, 0.6313725490196078, 0.6196078431372549, 0.6078431372549019, 0.6, 0.5882352941176471, 0.5764705882352941, 0.5686274509803921, 0.5568627450980392, 0.5450980392156862, 0.5333333333333333, 0.5215686274509804, 0.5098039215686274, 0.5019607843137255, 0.49019607843137253, 0.4823529411764706, 0.4745098039215686, 0.47058823529411764, 0.47058823529411764, 0.47058823529411764, 0.4745098039215686, 0.47843137254901963, 0.48627450980392156, 0.49411764705882355, 0.5019607843137255, 0.5137254901960784, 0.5254901960784314, 0.5372549019607843, 0.5450980392156862, 0.5568627450980392, 0.5686274509803921, 0.5803921568627451, 0.592156862745098, 0.6039215686274509, 0.615686274509804, 0.6235294117647059, 0.6352941176470588, 0.6470588235294118, 0.6588235294117647, 0.6705882352941176, 0.6823529411764706, 0.6941176470588235, 0.7058823529411765, 0.7137254901960784, 0.7254901960784313, 0.7372549019607844, 0.7490196078431373, 0.7607843137254902, 0.7725490196078432, 0.7843137254901961, 0.792156862745098, 0.803921568627451, 0.8156862745098039, 0.8235294117647058, 0.8352941176470589, 0.8470588235294118, 0.8549019607843137, 0.8666666666666667, 0.8784313725490196, 0.8901960784313725, 0.8980392156862745, 0.9098039215686274, 0.9215686274509803, 0.9294117647058824, 0.9411764705882353, 0.9490196078431372, 0.9568627450980393, 0.9647058823529412, 0.9686274509803922, 0.9725490196078431, 0.9725490196078431],\n  g: [0.07058823529411765, 0.07058823529411765, 0.07450980392156863, 0.0784313725490196, 0.08235294117647059, 0.08627450980392157, 0.09019607843137255, 0.09411764705882353, 0.10196078431372549, 0.10588235294117647, 0.11372549019607843, 0.11764705882352941, 0.12549019607843137, 0.13333333333333333, 0.13725490196078433, 0.1450980392156863, 0.14901960784313725, 0.1568627450980392, 0.1607843137254902, 0.16470588235294117, 0.17254901960784313, 0.17647058823529413, 0.1843137254901961, 0.18823529411764706, 0.19607843137254902, 0.2, 0.20784313725490197, 0.21176470588235294, 0.21568627450980393, 0.2235294117647059, 0.22745098039215686, 0.23529411764705882, 0.23921568627450981, 0.24705882352941178, 0.25098039215686274, 0.25882352941176473, 0.2627450980392157, 0.26666666666666666, 0.27450980392156865, 0.2784313725490196, 0.2823529411764706, 0.28627450980392155, 0.29411764705882354, 0.2980392156862745, 0.30196078431372547, 0.30980392156862746, 0.3137254901960784, 0.3176470588235294, 0.3254901960784314, 0.32941176470588235, 0.33725490196078434, 0.3411764705882353, 0.34901960784313724, 0.35294117647058826, 0.3607843137254902, 0.36470588235294116, 0.3686274509803922, 0.3764705882352941, 0.3803921568627451, 0.38823529411764707, 0.39215686274509803, 0.4, 0.403921568627451, 0.4117647058823529, 0.41568627450980394, 0.4235294117647059, 0.42745098039215684, 0.43529411764705883, 0.4392156862745098, 0.4470588235294118, 0.45098039215686275, 0.4588235294117647, 0.4627450980392157, 0.47058823529411764, 0.4745098039215686, 0.47843137254901963, 0.48627450980392156, 0.49019607843137253, 0.49411764705882355, 0.5019607843137255, 0.5058823529411764, 0.5137254901960784, 0.5176470588235295, 0.5254901960784314, 0.5294117647058824, 0.5372549019607843, 0.5411764705882353, 0.5450980392156862, 0.5529411764705883, 0.5568627450980392, 0.5647058823529412, 0.5686274509803921, 0.5764705882352941, 0.5803921568627451, 0.5882352941176471, 0.592156862745098, 0.596078431372549, 0.6, 0.6078431372549019, 0.611764705882353, 0.615686274509804, 0.6196078431372549, 0.6235294117647059, 0.6274509803921569, 0.6313725490196078, 0.6352941176470588, 0.6392156862745098, 0.6392156862745098, 0.6431372549019608, 0.6470588235294118, 0.6470588235294118, 0.6509803921568628, 0.6509803921568628, 0.6509803921568628, 0.6549019607843137, 0.6549019607843137, 0.6588235294117647, 0.6588235294117647, 0.6627450980392157, 0.6627450980392157, 0.6666666666666666, 0.6666666666666666, 0.6705882352941176, 0.6705882352941176, 0.6745098039215687, 0.6784313725490196, 0.6784313725490196, 0.6823529411764706, 0.6862745098039216, 0.6862745098039216, 0.6901960784313725, 0.6901960784313725, 0.6941176470588235, 0.6941176470588235, 0.6980392156862745, 0.6980392156862745, 0.7019607843137254, 0.7019607843137254, 0.7019607843137254, 0.7058823529411765, 0.7058823529411765, 0.7098039215686275, 0.7098039215686275, 0.7137254901960784, 0.7137254901960784, 0.7176470588235294, 0.7215686274509804, 0.7215686274509804, 0.7254901960784313, 0.7254901960784313, 0.7294117647058823, 0.7294117647058823, 0.7333333333333333, 0.7333333333333333, 0.7333333333333333, 0.7333333333333333, 0.7333333333333333, 0.7294117647058823, 0.7294117647058823, 0.7294117647058823, 0.7294117647058823, 0.7294117647058823, 0.7294117647058823, 0.7254901960784313, 0.7254901960784313, 0.7254901960784313, 0.7254901960784313, 0.7215686274509804, 0.7215686274509804, 0.7215686274509804, 0.7215686274509804, 0.7176470588235294, 0.7176470588235294, 0.7176470588235294, 0.7176470588235294, 0.7176470588235294, 0.7176470588235294, 0.7176470588235294, 0.7137254901960784, 0.7137254901960784, 0.7137254901960784, 0.7137254901960784, 0.7137254901960784, 0.7137254901960784, 0.7098039215686275, 0.7098039215686275, 0.7098039215686275, 0.7058823529411765, 0.7058823529411765, 0.7058823529411765, 0.7058823529411765, 0.7058823529411765, 0.7019607843137254, 0.7019607843137254, 0.7019607843137254, 0.6980392156862745, 0.6980392156862745, 0.6980392156862745, 0.6980392156862745, 0.6980392156862745, 0.6980392156862745, 0.6980392156862745, 0.6980392156862745, 0.7019607843137254, 0.7019607843137254, 0.7058823529411765, 0.7098039215686275, 0.7137254901960784, 0.7176470588235294, 0.7215686274509804, 0.7294117647058823, 0.7372549019607844, 0.7411764705882353, 0.7490196078431373, 0.7529411764705882, 0.7607843137254902, 0.7647058823529411, 0.7725490196078432, 0.7803921568627451, 0.7843137254901961, 0.792156862745098, 0.8, 0.803921568627451, 0.8117647058823529, 0.8156862745098039, 0.8235294117647058, 0.8313725490196079, 0.8352941176470589, 0.8431372549019608, 0.8470588235294118, 0.8549019607843137, 0.8588235294117647, 0.8666666666666667, 0.8705882352941177, 0.8745098039215686, 0.8823529411764706, 0.8862745098039215, 0.8941176470588236, 0.8980392156862745, 0.9058823529411765, 0.9098039215686274, 0.9176470588235294, 0.9254901960784314, 0.9294117647058824, 0.9372549019607843, 0.9411764705882353, 0.9490196078431372, 0.9529411764705882, 0.9568627450980393, 0.9647058823529412, 0.9686274509803922, 0.9725490196078431, 0.9764705882352941, 0.9803921568627451, 0.9803921568627451, 0.9882352941176471],\n  b: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.00392156862745098, 0.00392156862745098, 0.00392156862745098, 0.00392156862745098, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.00392156862745098, 0.00392156862745098, 0.00392156862745098, 0.00392156862745098, 0.00392156862745098, 0.00392156862745098, 0.00392156862745098, 0.00392156862745098, 0.00392156862745098, 0.00392156862745098, 0.00392156862745098, 0.00392156862745098, 0.00392156862745098, 0.00392156862745098, 0.00392156862745098, 0.00392156862745098, 0.00392156862745098, 0.00392156862745098, 0.00392156862745098, 0.00392156862745098, 0.00392156862745098, 0.00392156862745098, 0.00392156862745098, 0.00392156862745098, 0.00392156862745098, 0.00392156862745098, 0.00392156862745098, 0.00392156862745098, 0.00392156862745098, 0.00392156862745098, 0.00392156862745098, 0.0, 0.0, 0.0, 0.0, 0.00392156862745098, 0.00392156862745098, 0.00784313725490196, 0.00784313725490196, 0.011764705882352941, 0.01568627450980392, 0.023529411764705882, 0.027450980392156862, 0.03137254901960784, 0.0392156862745098, 0.043137254901960784, 0.047058823529411764, 0.050980392156862744, 0.058823529411764705, 0.06274509803921569, 0.06666666666666667, 0.07058823529411765, 0.0784313725490196, 0.08235294117647059, 0.08627450980392157, 0.09019607843137255, 0.09411764705882353, 0.09803921568627451, 0.10196078431372549, 0.10588235294117647, 0.10980392156862745, 0.11372549019607843, 0.11764705882352941, 0.11764705882352941, 0.12156862745098039, 0.12156862745098039, 0.12549019607843137, 0.12549019607843137, 0.12941176470588237, 0.12941176470588237, 0.13333333333333333, 0.13333333333333333, 0.13333333333333333, 0.13725490196078433, 0.13725490196078433, 0.13725490196078433, 0.1411764705882353, 0.1411764705882353, 0.1411764705882353, 0.1450980392156863, 0.1450980392156863, 0.1450980392156863, 0.1450980392156863, 0.14901960784313725, 0.14901960784313725, 0.14901960784313725, 0.14901960784313725, 0.14901960784313725, 0.15294117647058825, 0.15294117647058825, 0.15294117647058825, 0.15294117647058825, 0.15294117647058825, 0.15294117647058825, 0.15294117647058825, 0.1568627450980392, 0.1568627450980392, 0.1568627450980392, 0.1568627450980392, 0.1568627450980392, 0.1568627450980392, 0.1607843137254902, 0.1607843137254902, 0.1607843137254902, 0.1607843137254902, 0.16470588235294117, 0.16470588235294117, 0.16470588235294117, 0.16470588235294117, 0.16862745098039217, 0.16862745098039217, 0.17254901960784313, 0.17647058823529413, 0.1803921568627451, 0.18823529411764706, 0.19607843137254902, 0.20392156862745098, 0.21568627450980393, 0.23137254901960785, 0.24705882352941178, 0.2627450980392157, 0.2784313725490196, 0.29411764705882354, 0.30980392156862746, 0.3254901960784314, 0.3411764705882353, 0.35294117647058826, 0.3686274509803922, 0.3843137254901961, 0.396078431372549, 0.4117647058823529, 0.4235294117647059, 0.4392156862745098, 0.45098039215686275, 0.4666666666666667, 0.47843137254901963, 0.49019607843137253, 0.5019607843137255, 0.5137254901960784, 0.5254901960784314, 0.5411764705882353, 0.5529411764705883, 0.5647058823529412, 0.5764705882352941, 0.5882352941176471, 0.6, 0.611764705882353, 0.6235294117647059, 0.6352941176470588, 0.6470588235294118, 0.6549019607843137, 0.6666666666666666, 0.6784313725490196, 0.6901960784313725, 0.7019607843137254, 0.7137254901960784, 0.7254901960784313, 0.7372549019607844, 0.7490196078431373, 0.7568627450980392, 0.7686274509803922, 0.7803921568627451, 0.788235294117647, 0.8, 0.807843137254902, 0.8196078431372549, 0.8274509803921568, 0.8313725490196079, 0.8392156862745098, 0.8431372549019608, 0.8470588235294118, 0.8509803921568627, 0.8549019607843137, 0.8588235294117647, 0.8627450980392157, 0.8666666666666667, 0.8705882352941177, 0.8745098039215686, 0.8784313725490196, 0.8784313725490196, 0.8823529411764706, 0.8862745098039215, 0.8862745098039215, 0.8901960784313725, 0.8941176470588236, 0.8980392156862745, 0.9019607843137255, 0.9058823529411765, 0.9098039215686274, 0.9137254901960784, 0.9137254901960784, 0.9176470588235294, 0.9215686274509803, 0.9254901960784314, 0.9254901960784314, 0.9294117647058824, 0.9333333333333333, 0.9333333333333333, 0.9372549019607843, 0.9411764705882353, 0.9450980392156862, 0.9490196078431372, 0.9529411764705882, 0.9529411764705882, 0.9568627450980393, 0.9607843137254902, 0.9647058823529412, 0.9647058823529412, 0.9686274509803922, 0.9725490196078431, 0.9764705882352941, 0.9803921568627451, 0.9803921568627451, 0.984313725490196, 0.9882352941176471, 0.9882352941176471, 0.9882352941176471, 0.9921568627450981, 0.9921568627450981],\n};\n\n\nexport const sargassumColorRamp = {\n  \"type\": \"multipart\",\n  \"colorRamps\": [\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        98,\n        18,\n        0,\n        255\n      ],\n      \"toColor\": [\n        124,\n        32,\n        1,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.0,\n      \"stop\": 0.047619047619047616\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        124,\n        32,\n        1,\n        255\n      ],\n      \"toColor\": [\n        154,\n        50,\n        0,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.047619047619047616,\n      \"stop\": 0.09523809523809523\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        154,\n        50,\n        0,\n        255\n      ],\n      \"toColor\": [\n        184,\n        67,\n        0,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.09523809523809523,\n      \"stop\": 0.14285714285714285\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        184,\n        67,\n        0,\n        255\n      ],\n      \"toColor\": [\n        213,\n        83,\n        1,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.14285714285714285,\n      \"stop\": 0.19047619047619047\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        213,\n        83,\n        1,\n        255\n      ],\n      \"toColor\": [\n        225,\n        101,\n        1,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.19047619047619047,\n      \"stop\": 0.23809523809523808\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        225,\n        101,\n        1,\n        255\n      ],\n      \"toColor\": [\n        233,\n        119,\n        1,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.23809523809523808,\n      \"stop\": 0.2857142857142857\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        233,\n        119,\n        1,\n        255\n      ],\n      \"toColor\": [\n        242,\n        137,\n        15,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.2857142857142857,\n      \"stop\": 0.3333333333333333\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        242,\n        137,\n        15,\n        255\n      ],\n      \"toColor\": [\n        249,\n        153,\n        28,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.3333333333333333,\n      \"stop\": 0.38095238095238093\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        249,\n        153,\n        28,\n        255\n      ],\n      \"toColor\": [\n        253,\n        165,\n        34,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.38095238095238093,\n      \"stop\": 0.42857142857142855\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        253,\n        165,\n        34,\n        255\n      ],\n      \"toColor\": [\n        252,\n        170,\n        38,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.42857142857142855,\n      \"stop\": 0.47619047619047616\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        252,\n        170,\n        38,\n        255\n      ],\n      \"toColor\": [\n        249,\n        177,\n        40,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.47619047619047616,\n      \"stop\": 0.5238095238095237\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        249,\n        177,\n        40,\n        255\n      ],\n      \"toColor\": [\n        248,\n        183,\n        42,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.5238095238095237,\n      \"stop\": 0.5714285714285714\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        248,\n        183,\n        42,\n        255\n      ],\n      \"toColor\": [\n        233,\n        186,\n        70,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.5714285714285714,\n      \"stop\": 0.6190476190476191\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        233,\n        186,\n        70,\n        255\n      ],\n      \"toColor\": [\n        204,\n        184,\n        115,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.6190476190476191,\n      \"stop\": 0.6666666666666666\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        204,\n        184,\n        115,\n        255\n      ],\n      \"toColor\": [\n        171,\n        182,\n        153,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.6666666666666666,\n      \"stop\": 0.7142857142857142\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        171,\n        182,\n        153,\n        255\n      ],\n      \"toColor\": [\n        138,\n        178,\n        188,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.7142857142857142,\n      \"stop\": 0.7619047619047619\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        138,\n        178,\n        188,\n        255\n      ],\n      \"toColor\": [\n        122,\n        181,\n        215,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.7619047619047619,\n      \"stop\": 0.8095238095238095\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        122,\n        181,\n        215,\n        255\n      ],\n      \"toColor\": [\n        155,\n        199,\n        226,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.8095238095238095,\n      \"stop\": 0.8571428571428571\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        155,\n        199,\n        226,\n        255\n      ],\n      \"toColor\": [\n        190,\n        218,\n        236,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.8571428571428571,\n      \"stop\": 0.9047619047619047\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        190,\n        218,\n        236,\n        255\n      ],\n      \"toColor\": [\n        223,\n        236,\n        245,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.9047619047619047,\n      \"stop\": 0.9523809523809523\n    },\n    {\n      \"type\": \"algorithmic\",\n      \"fromColor\": [\n        223,\n        236,\n        245,\n        255\n      ],\n      \"toColor\": [\n        248,\n        252,\n        253,\n        255\n      ],\n      \"algorithm\": \"esriCIELabAlgorithm\",\n      \"start\": 0.9523809523809523,\n      \"stop\": 1.0\n    }\n  ]\n};\n","\nimport { magma } from \"./magma\";\nimport { inferno } from \"./inferno\";\nimport { plasma } from \"./plasma\";\nimport { viridis } from \"./viridis\";\nimport { cividis } from \"./cividis\";\nimport { gray } from \"./gray\";\nimport { svs_nitrogen_dioxide, svsColorRamp } from \"./svs_nitrogen_dioxide\";\nimport { sargassum, sargassumColorRamp } from \"./sargassum\";\n\nimport type { ColorMaps } from \"./types\";\n\nexport const colormaps: ColorMaps = {\n\n  \"magma\": magma,\n  \"inferno\": inferno,\n  \"plasma\": plasma,\n  \"viridis\": viridis,\n  \"cividis\": cividis,\n  \"svs\": svs_nitrogen_dioxide,\n  \"sargassum\": sargassum,\n  \"gray\": gray,\n};\n\n// add custom colormaps here\nexport const nonEsriColormaps = {\n  'svs': {rgb: svs_nitrogen_dioxide, esriColorRamp: svsColorRamp},\n  'sargassum': {rgb: sargassum, esriColorRamp: sargassumColorRamp},\n};\n\nexport type AvailableColorMaps = 'magma' | 'inferno' | 'plasma' | 'viridis' | 'cividis' | 'svs' | 'gray' | 'sargassum';\n// create an AvailableReverseColorMaps which is everything in AvailableColorMaps with '_r' appended to the end\nexport type AvailableReverseColorMaps = 'magma_r' | 'inferno_r' | 'plasma_r' | 'viridis_r' | 'cividis_r' | 'svs_r' | 'gray_r' | 'sargassum_r';\nexport type AllAvailableColorMaps = AvailableColorMaps | AvailableReverseColorMaps | 'None';","import type { ColorMap } from \"./types\";\nimport { colormaps, type AllAvailableColorMaps } from \".\";\n\nfunction lerp(a: number, b: number, t: number): number {\n  return a + (b - a) * t;\n}\n\n// linear spline\nfunction spline( t: number, ...values: number[]): number {\n  if (t <= 0) return values[0] as number;\n  if (t >= 1) return values[values.length - 1] as number;\n  const n = values.length - 1;\n  const i = Math.floor(t * n);\n  const u = t * n - i;\n  return lerp(values[i], values[i + 1] ?? values[i], u);\n}\n\nfunction clamp(x: number, min: number, max: number): number {\n  return Math.min(Math.max(x, min), max);\n}\n\nexport function colormap(cmap: AllAvailableColorMaps, cmin: number, cmax: number, val: number): [number, number, number]\n{ \n  \n  let reversed = false;\n  if (cmap.endsWith('_r')) {\n    cmap = cmap.slice(0, -2) as AllAvailableColorMaps;\n    reversed = true;\n  }\n  if (!(cmap in colormaps)) {\n    throw new Error(`Colormap ${cmap} not found`);\n  }\n  \n  const { r: redValues, g: greenValues, b: blueValues } = colormaps[cmap] as ColorMap;\n\n  // const normalizedVal = clamp((val-cmin)/(cmax-cmin),0,1);\n  const normalizedVal = reversed ? clamp((cmax - val) / (cmax - cmin), 0, 1) : clamp((val - cmin) / (cmax - cmin), 0, 1);\n  const r = spline(normalizedVal, ...redValues);\n  const g = spline(normalizedVal, ...greenValues);\n  const b = spline(normalizedVal, ...blueValues);\n  return [Math.round(r*255),Math.round(g*255),Math.round(b*255)];\n}\n\n","export default [\n  {\n    date: \"2025-04-24\",\n    html: 'Educational resources designed for for informal educators (e.g., in museums, public outreach) are now available on the Cosmic Data Stories website at <a style=\"font-weight: normal;\" tabindex=\"0\"  href=\"https://www.cosmicds.cfa.harvard.edu/resources/tempo\" target=\"_blank\" rel=\"noopener\">Educator Resources</a>. You can also find the link the menu.',\n    highlight: new Date() < new Date('2025-05-7 00:00:00') ,\n    \n  },\n  {\n    date: \"2025-02-02\",\n    html:\n      'During the LA fires that began on Jan 7th, NO<sub>2</sub> levels far exceeded the default range displayed on our maps. For Jan 7 - Feb 2, 2025, we added an option to use an extended range of NO<sub>2</sub> values. For those dates, a button appears on the map to toggle between the standard and extended range.',\n      \n  },\n  {\n    date: \"2025-01-21\",\n    text:\n      \"Enable viewing the full resolution data. By default this is always off, displaying data at 1/2 the native Level 3 resolution for better performance\"\n  },\n  {\n    date: \"2025-01-09\",\n    text:\n      \"We have added a new sharable url feature! Click the share icon to copy a link for the current view (location, zoom level, date, and time) to your clipboard.\",\n  },\n  {\n    date: \"2024-11-29\",\n    text:\n      \"We are in the process of updating our data processing routines and images to use averaging rather than the nearest-neighbor pixel value when reprojecting. TEMPO images for dates after Nov 29th use the new pipeline, and past images will be updated over time\",\n  },\n];\n","import { computed } from 'vue';\nimport type { Ref } from 'vue';\nimport { BoundingBox, BoundsSelector } from '@/types';\n\n// Define standard bounds as constants\nconst BOUNDS_COLLECTION: Record<string, BoundingBox> = {\n  novDec: {\n    west: -154.975,\n    south: 17.025,\n    east: -24.475, \n    north: 63.975\n  },\n  march: {\n    west: -167.99,\n    south: 14.01,\n    east: -13.01,\n    north: 72.99\n  },\n  default: {\n    west: -167.99,\n    south: 14.01,\n    east: -13.01,\n    north: 72.99\n  }\n};\n\nexport function useBounds(\n  date: Ref<Date | null>, \n  customSelector?: BoundsSelector\n) {\n  // Default selector function based on your existing logic\n  const defaultSelector: BoundsSelector = (date: Date | null) => {\n    if (date !== null && date.getUTCFullYear() === 2023) {\n      return BOUNDS_COLLECTION.novDec;\n    } else if (date !== null &&  date.getUTCFullYear() === 2024 && date.getUTCMonth() === 2) {\n      return BOUNDS_COLLECTION.march;\n    } else {\n      return BOUNDS_COLLECTION.default;\n    }\n  };\n\n  // Use the custom selector if provided, otherwise use the default\n  const selector = customSelector || defaultSelector;\n\n  // Current bounds as a reactive reference\n  const currentBounds = computed(() => selector(date.value));\n\n  // Array representation [west, south, east, north]\n  const boundsArray = computed(() => {\n    const bounds = currentBounds.value;\n    return [bounds.west, bounds.south, bounds.east, bounds.north];\n  });\n\n  return {\n    boundsCollection: BOUNDS_COLLECTION,\n    currentBounds,\n    boundsArray,\n    selector\n  };\n}","import { InterestingEvent, LatLngPair } from \"./types\";\n\nexport const interestingEvents: InterestingEvent[] = [\n  {\n    date: new Date(2025, 0, 8),\n    endDate: new Date(2025, 0, 31),\n    dateString: \"Jan 8\",\n    label: \"LA Wildfires (Jan 8-31, 2025)\",\n    highlighted: false,\n    hasFeature: true,\n    info: `\n    <p> \n      Beginning on January 7, 2025, a series of wildfires broke out in the Los Angeles area. In addition to the devastating damage caused by the fires, large amounts of particulate matter, NO<sub>2</sub>, and other pollutants were released into the air.\n    </p>\n    <p>\n      The TEMPO instrument can detect the NO<sub>2</sub> plumes from these fires,\n      helping scientists and the public to understand the extent of the pollution and how it moves through the air. \n    </p>\n    <p>\n      Compare levels of NO<sub>2</sub> before, during, and after the fires. \n    </p>\n    <p>\n      During the fires, NO<sub>2</sub> levels far exceeded the default range displayed on our maps. For Jan 7 - Feb 2, 2025, we added an option to use an extended range of NO<sub>2</sub> values. For those dates, a button appears on the map to toggle between the standard and extended range.\n    </p>\n    `,\n    locations: [\n      {\n        latlng: [33.4773, -118.5975] as LatLngPair,\n        zoom: 8,\n        text: \"Los Angeles Wildfires\",\n        time: \"2025-01-08T19:51:00.000Z\",\n        description: `\n        <p>\n          Plumes of NO<sub>2</sub> from the wildfires can be seen from the \n          fires in the Los Angeles Area. On this day, the plumes are being blown south over the Pacific Ocean by the Santa Ana winds. \n          </p>\n          <p>\n          The levels of NO<sub>2</sub> are so high, they actually exceed the top of the scale shown on the color map.\n          </p>\n        `\n      }]\n      \n    \n\n  },\n\n  {\n    date: new Date(2024, 2, 28),\n    dateString: \"Mar 28\",\n    label: \"March 28, 2024\",\n    info: `\n        Breathing air with a high concentration of NO<sub>2</sub>, \n        and the resulting smog it forms when it reacts with other pollutants, \n        can irritate human respiratory systems. \n        People with asthma, as well as children and the elderly, \n        are generally at greater risk for the health effects of air pollution. \n        TEMPO data can help communities make informed \n        decisions and take action to improve air quality.\n        `,\n    locations: [\n      {\n        latlng: [31.938392, -99.095785] as LatLngPair,\n        zoom: 6,\n        text: \"Texas Oil and Gas Production\",\n        time: \"2024-03-28T13:04:00.000Z\",\n        description:\n          \"<p>The Permian basin, near Odessa, has two large plumes of NO2. This is the largest oil and gas producing area in the USA. You can also see here how pollution from a source in one state (Texas) can be transported across state lines to New Mexico.</p>\",\n      },\n      {\n        latlng: [31.331933, -91.575283] as LatLngPair,\n        zoom: 8,\n        text: \"LA/MS Fires\",\n        time: \"2024-03-28T16:44:00.000Z\",\n        description:\n          \"<p>Two fires can be seen popping up south and east of Alexandria. These are most easily identified as hot spots of NO2 that appear quickly.</p>\",\n      },\n    ],\n  }, // Mar 28\n\n  {\n    date: new Date(2023, 10, 3),\n    dateString: \"Nov 3\",\n    label: \"November 3, 2023\",\n    info: `\n        Levels of NO<sub>2</sub> change quickly from day to day, \n        and even from hour to hour as wind transports \n        plumes of pollution.\n        `,\n    locations: [\n      {\n        latlng: [36.215934, -119.7775] as LatLngPair,\n        zoom: 6,\n        text: \"California Traffic and Agriculture\",\n        time: \"2023-11-03T14:22:00.000Z\",\n        description:\n          \"<p>Los Angeles clearly stands out. NO<sub>2</sub> values are even higher than the maximum of our color bar. You can clearly see the highways including Route 10 between San Bernardino and Mexicali and Route 15 leading from San Bernardino towards Las Vegas. A significant amount of NO<sub>2</sub> in California&rsquo;s central valley is a byproduct of agricultural activity there. Excess fertilizer in the soil gets broken down by microbes to produce nitrogen oxides which are very reactive. Emissions that don&rsquo;t come from combustion are typically much harder to see, but the Central Valley is an area where TEMPO data may reveal this agricultural source of pollution.</p>\",\n      },\n      {\n        latlng: [41.85726, -80.531177] as LatLngPair,\n        zoom: 5,\n        text: \"Northeast: Large Emissions Plumes\",\n        time: \"2023-11-03T12:22:00.000Z\",\n        description:\n          \"<p>Air pollution is often transported, or moved, over great distances. In this data set large plumes can be seen over the Northeast. If you look closely you can see that many of these plumes appear to originate out of cities in the midwest including Nashville, St. Louis, and Memphis.</p>\",\n      },\n    ],\n  },\n  \n  {\n    date: new Date(2023, 10, 1),\n    dateString: \"Nov 1\",\n    label: \"November 1, 2023\",\n    info: `\n        <p>\n          Because the TEMPO instrument measures sunlight reflected and scattered from Earth’s \n        surface and atmosphere, it can’t “see” through the clouds&mdash;so these\n        areas appear blank on the map.\n        </p>\n        <p>\n          But right away you’ll see that there \n        are high concentrations of NO<sub>2</sub> around many urban centers, \n        and sometimes along major highways.\n        </p>\n        `,\n    locations: [\n      {\n        latlng: [34.359786, -111.700124] as LatLngPair,\n        zoom: 7,\n        text: \"Arizona Urban Traffic and Fires\",\n        time: \"2023-11-01T14:22:00.000Z\",\n        description:\n          \"<p>NO<sub>2</sub> increases during daily rush hour. In Phoenix, notice the high levels of NO<sub>2</sub> early in the morning, dip down during the day, then start to build back up during the evening commute.</p><p>Fires can be seen between Phoenix and Flagstaff. These are most easily identified as hot spots of NO<sub>2</sub> that appear quickly.</p>\",\n      },\n      {\n        latlng: [36.1716, -115.1391] as LatLngPair,\n        zoom: 7,\n        text: \"Las Vegas: Fairly Constant Levels All Day\",\n        time: \"2023-11-01T14:22:00.000Z\",\n        description:\n          \"<p>In this data Las Vegas has less daily variation than many other cities.</p>\",\n      },\n    ],\n  },\n\n];\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'UserGuide',\n  setup(__props) {\n\n// Generated by Copilot\n// No props currently; make reactive later if needed.\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_divider = _resolveComponent(\"v-divider\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n\n  return (_openBlock(), _createBlock(_component_v_card, {\n    variant: \"outlined\",\n    class: \"pa-4 time-range-guide\"\n  }, {\n    default: _withCtx(() => [\n      _cache[0] || (_cache[0] = _createElementVNode(\"h2\", { class: \"text-h6 mb-3\" }, \"Time Range & Selection Guide\", -1)),\n      _cache[1] || (_cache[1] = _createElementVNode(\"details\", { open: \"\" }, [\n        _createElementVNode(\"summary\", null, \"1. Modes: Current Day vs Custom Range\"),\n        _createElementVNode(\"ul\", null, [\n          _createElementVNode(\"li\", null, [\n            _createElementVNode(\"strong\", null, \"Current Day\"),\n            _createTextVNode(\": Full selected calendar day (00:00–23:59:59).\")\n          ]),\n          _createElementVNode(\"li\", null, [\n            _createElementVNode(\"strong\", null, \"Custom Range\"),\n            _createTextVNode(\": One or more user–defined date spans.\")\n          ]),\n          _createElementVNode(\"li\", null, \"Toggle using the Current Day / Custom Range radio buttons.\")\n        ])\n      ], -1)),\n      _cache[2] || (_cache[2] = _createElementVNode(\"details\", null, [\n        _createElementVNode(\"summary\", null, \"2. Creating a Region Selection\"),\n        _createElementVNode(\"ol\", null, [\n          _createElementVNode(\"li\", null, \"Click the Select Region button.\"),\n          _createElementVNode(\"li\", null, \"Drag on the map to draw a rectangle.\"),\n          _createElementVNode(\"li\", null, \"The new selection stores the current Effective Time Range.\")\n        ])\n      ], -1)),\n      _cache[3] || (_cache[3] = _createElementVNode(\"details\", null, [\n        _createElementVNode(\"summary\", null, \"3. Effective Time Range\"),\n        _createElementVNode(\"p\", null, \"The Effective Time Range chip shows what will be applied to:\"),\n        _createElementVNode(\"ul\", null, [\n          _createElementVNode(\"li\", null, \"Any brand‑new region you draw.\"),\n          _createElementVNode(\"li\", null, [\n            _createTextVNode(\"The currently selected region \"),\n            _createElementVNode(\"strong\", null, \"only if it has no samples yet\"),\n            _createTextVNode(\".\")\n          ])\n        ])\n      ], -1)),\n      _cache[4] || (_cache[4] = _createElementVNode(\"details\", null, [\n        _createElementVNode(\"summary\", null, \"4. Auto‑Update Rules\"),\n        _createElementVNode(\"p\", null, [\n          _createElementVNode(\"strong\", null, \"Auto‑updates\"),\n          _createTextVNode(\" a selection’s stored time range when ALL are true:\")\n        ]),\n        _createElementVNode(\"ul\", null, [\n          _createElementVNode(\"li\", null, \"It is the active (currently selected) selection.\"),\n          _createElementVNode(\"li\", null, \"It has no samples fetched yet.\"),\n          _createElementVNode(\"li\", null, \"You change the Effective Time Range.\")\n        ]),\n        _createElementVNode(\"p\", null, [\n          _createElementVNode(\"strong\", null, \"Will NOT update\"),\n          _createTextVNode(\" if samples exist, it isn’t selected, or it’s a comparison copy.\")\n        ])\n      ], -1)),\n      _cache[5] || (_cache[5] = _createElementVNode(\"details\", null, [\n        _createElementVNode(\"summary\", null, \"5. Adding Another Time Series\"),\n        _createElementVNode(\"p\", null, \"Use “+ New Time Series for Current Selection” to copy the region with the current Effective Time Range (keeps prior data unchanged).\")\n      ], -1)),\n      _cache[6] || (_cache[6] = _createElementVNode(\"details\", null, [\n        _createElementVNode(\"summary\", null, \"6. Fetching Data & Locking\"),\n        _createElementVNode(\"ul\", null, [\n          _createElementVNode(\"li\", null, \"“Get NO₂ Samples” downloads rectangle data.\"),\n          _createElementVNode(\"li\", null, \"“Get Center Point NO₂ Sample” creates a center‑point copy.\"),\n          _createElementVNode(\"li\", null, \"After data fetch, that selection’s time range is locked (no auto updates).\")\n        ])\n      ], -1)),\n      _cache[7] || (_cache[7] = _createElementVNode(\"details\", null, [\n        _createElementVNode(\"summary\", null, \"7. Editing Geometry\"),\n        _createElementVNode(\"ul\", null, [\n          _createElementVNode(\"li\", null, \"Editable only while no samples are fetched.\"),\n          _createElementVNode(\"li\", null, \"Reshaping keeps its (unfetched) time range.\"),\n          _createElementVNode(\"li\", null, \"Need a new period? Create a copy instead.\")\n        ])\n      ], -1)),\n      _cache[8] || (_cache[8] = _createElementVNode(\"details\", null, [\n        _createElementVNode(\"summary\", null, \"8. Multiple Custom Ranges\"),\n        _createElementVNode(\"ul\", null, [\n          _createElementVNode(\"li\", null, \"Stored as an array of ranges.\"),\n          _createElementVNode(\"li\", null, \"Display shows overall span plus count (e.g. “Jan 2 – Jan 5 (3 ranges)”).\"),\n          _createElementVNode(\"li\", null, \"Fetch merges data across all ranges.\")\n        ])\n      ], -1)),\n      _cache[9] || (_cache[9] = _createElementVNode(\"details\", null, [\n        _createElementVNode(\"summary\", null, \"9. Quick Legend\"),\n        _createElementVNode(\"ul\", null, [\n          _createElementVNode(\"li\", null, [\n            _createElementVNode(\"strong\", null, \"Effective Time Range\"),\n            _createTextVNode(\": Applied to new or unfetched current selection.\")\n          ]),\n          _createElementVNode(\"li\", null, [\n            _createElementVNode(\"strong\", null, \"Selection Time Range\"),\n            _createTextVNode(\": Frozen once samples are fetched.\")\n          ]),\n          _createElementVNode(\"li\", null, [\n            _createElementVNode(\"strong\", null, \"Copy\"),\n            _createTextVNode(\": Safe way to compare different periods.\")\n          ])\n        ])\n      ], -1)),\n      _cache[10] || (_cache[10] = _createElementVNode(\"details\", null, [\n        _createElementVNode(\"summary\", null, \"10. Tips\"),\n        _createElementVNode(\"ul\", null, [\n          _createElementVNode(\"li\", null, \"Use “Latest” to jump to newest day.\"),\n          _createElementVNode(\"li\", null, \"Copy to compare new periods—don’t overwrite.\"),\n          _createElementVNode(\"li\", null, \"Subtitle under a selection shows its stored time range.\")\n        ])\n      ], -1)),\n      _createVNode(_component_v_divider, { class: \"my-4\" }),\n      _cache[11] || (_cache[11] = _createElementVNode(\"div\", { class: \"text-caption\" }, \" Effective range changes never modify selections that already have data. \", -1))\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","<!-- Generated by Copilot -->\n<template>\n  <v-card variant=\"outlined\" class=\"pa-4 time-range-guide\">\n    <h2 class=\"text-h6 mb-3\">Time Range & Selection Guide</h2>\n\n    <details open>\n      <summary>1. Modes: Current Day vs Custom Range</summary>\n      <ul>\n        <li><strong>Current Day</strong>: Full selected calendar day (00:00–23:59:59).</li>\n        <li><strong>Custom Range</strong>: One or more user–defined date spans.</li>\n        <li>Toggle using the Current Day / Custom Range radio buttons.</li>\n      </ul>\n    </details>\n\n    <details>\n      <summary>2. Creating a Region Selection</summary>\n      <ol>\n        <li>Click the Select Region button.</li>\n        <li>Drag on the map to draw a rectangle.</li>\n        <li>The new selection stores the current Effective Time Range.</li>\n      </ol>\n    </details>\n\n    <details>\n      <summary>3. Effective Time Range</summary>\n      <p>The Effective Time Range chip shows what will be applied to:</p>\n      <ul>\n        <li>Any brand‑new region you draw.</li>\n        <li>The currently selected region <strong>only if it has no samples yet</strong>.</li>\n      </ul>\n    </details>\n\n    <details>\n      <summary>4. Auto‑Update Rules</summary>\n      <p><strong>Auto‑updates</strong> a selection’s stored time range when ALL are true:</p>\n      <ul>\n        <li>It is the active (currently selected) selection.</li>\n        <li>It has no samples fetched yet.</li>\n        <li>You change the Effective Time Range.</li>\n      </ul>\n      <p><strong>Will NOT update</strong> if samples exist, it isn’t selected, or it’s a comparison copy.</p>\n    </details>\n\n    <details>\n      <summary>5. Adding Another Time Series</summary>\n      <p>Use “+ New Time Series for Current Selection” to copy the region with the current Effective Time Range (keeps prior data unchanged).</p>\n    </details>\n\n    <details>\n      <summary>6. Fetching Data & Locking</summary>\n      <ul>\n        <li>“Get NO₂ Samples” downloads rectangle data.</li>\n        <li>“Get Center Point NO₂ Sample” creates a center‑point copy.</li>\n        <li>After data fetch, that selection’s time range is locked (no auto updates).</li>\n      </ul>\n    </details>\n\n    <details>\n      <summary>7. Editing Geometry</summary>\n      <ul>\n        <li>Editable only while no samples are fetched.</li>\n        <li>Reshaping keeps its (unfetched) time range.</li>\n        <li>Need a new period? Create a copy instead.</li>\n      </ul>\n    </details>\n\n    <details>\n      <summary>8. Multiple Custom Ranges</summary>\n      <ul>\n        <li>Stored as an array of ranges.</li>\n        <li>Display shows overall span plus count (e.g. “Jan 2 – Jan 5 (3 ranges)”).</li>\n        <li>Fetch merges data across all ranges.</li>\n      </ul>\n    </details>\n\n    <details>\n      <summary>9. Quick Legend</summary>\n      <ul>\n        <li><strong>Effective Time Range</strong>: Applied to new or unfetched current selection.</li>\n        <li><strong>Selection Time Range</strong>: Frozen once samples are fetched.</li>\n        <li><strong>Copy</strong>: Safe way to compare different periods.</li>\n      </ul>\n    </details>\n\n    <details>\n      <summary>10. Tips</summary>\n      <ul>\n        <li>Use “Latest” to jump to newest day.</li>\n        <li>Copy to compare new periods—don’t overwrite.</li>\n        <li>Subtitle under a selection shows its stored time range.</li>\n      </ul>\n    </details>\n\n    <v-divider class=\"my-4\" />\n    <div class=\"text-caption\">\n      Effective range changes never modify selections that already have data.\n    </div>\n  </v-card>\n</template>\n\n<script setup lang=\"ts\">\n// Generated by Copilot\n// No props currently; make reactive later if needed.\n</script>\n\n<style scoped>\n.time-range-guide details {\n  margin-bottom: 0.65rem;\n  border: 1px solid #3a4a5a;\n  border-radius: 6px;\n  padding: 0.55rem 0.85rem;\n  background: rgba(255,255,255,0.03);\n}\n\n.time-range-guide details[open] {\n  background: rgba(255,255,255,0.07);\n}\n\n.time-range-guide summary {\n  cursor: pointer;\n  font-weight: 600;\n  list-style: none;\n  outline: none;\n}\n\n.time-range-guide summary::-webkit-details-marker {\n  display: none;\n}\n\n.time-range-guide summary:focus-visible {\n  outline: 2px solid var(--accent-color, #068ede);\n  border-radius: 4px;\n}\n\n.time-range-guide ul,\n.time-range-guide ol {\n  margin: 0.4rem 0 0.25rem 1.1rem;\n  padding: 0;\n}\n\n.time-range-guide li {\n  margin-bottom: 0.25rem;\n}\n\n.time-range-guide p {\n  margin: 0.4rem 0 0.4rem;\n}\n</style>","import script from \"./UserGuide.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./UserGuide.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./UserGuide.vue?vue&type=style&index=0&id=ed90dba8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ed90dba8\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"text-red\"\n}\nconst _hoisted_2 = {\n  key: 1,\n  style: {\"width\":\"100%\",\"max-height\":\"120px\",\"overflow-y\":\"auto\",\"border-collapse\":\"collapse\"}\n}\nconst _hoisted_3 = {\n  class: \"pa-2\",\n  style: {\"border-bottom\":\"1px solid #eee\"}\n}\nconst _hoisted_4 = {\n  class: \"pa-2\",\n  style: {\"border-bottom\":\"1px solid #eee\"}\n}\nconst _hoisted_5 = {\n  key: 2,\n  class: \"mt-2\"\n}\n\n\ntype SampleTablePropType = { samples: Record<number, { value: number | null; date: Date }> | null, error?: string | null };\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'SampleTable',\n  props: {\n    samples: {},\n    error: {}\n  },\n  setup(__props: any) {\n\nconst _props = __props;\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    (_ctx.error)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, \"Error: \" + _toDisplayString(_ctx.error), 1))\n      : _createCommentVNode(\"\", true),\n    (_ctx.samples && Object.keys(_ctx.samples).length > 0)\n      ? (_openBlock(), _createElementBlock(\"table\", _hoisted_2, [\n          _cache[0] || (_cache[0] = _createElementVNode(\"thead\", null, [\n            _createElementVNode(\"tr\", null, [\n              _createElementVNode(\"th\", { class: \"font-weight-bold text-white\" }, \"Time\"),\n              _createElementVNode(\"th\", { class: \"font-weight-bold text-white\" }, \"Value\")\n            ])\n          ], -1)),\n          _createElementVNode(\"tbody\", null, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.samples, (result, time) => {\n              return (_openBlock(), _createElementBlock(\"tr\", { key: time }, [\n                _createElementVNode(\"td\", _hoisted_3, _toDisplayString(new Date(Number(time))), 1),\n                _createElementVNode(\"td\", _hoisted_4, _toDisplayString(result.value !== null ? result.value.toExponential(3) : 'N/A'), 1)\n              ]))\n            }), 128))\n          ])\n        ]))\n      : (_ctx.samples && Object.keys(_ctx.samples).length === 0)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, \"No data for this point/time.\"))\n        : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<template>\n  <div>\n    <div v-if=\"error\" class=\"text-red\">Error: {{ error }}</div>\n    <table v-if=\"samples && Object.keys(samples).length > 0\" style=\"width: 100%; max-height: 120px; overflow-y: auto; border-collapse: collapse;\">\n      <thead>\n        <tr>\n          <th class=\"font-weight-bold text-white\">Time</th>\n          <th class=\"font-weight-bold text-white\">Value</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"(result, time) in samples\" :key=\"time\">\n          <td class=\"pa-2\" style=\"border-bottom: 1px solid #eee;\">\n            {{ new Date(Number(time)) }}\n          </td>\n          <td class=\"pa-2\" style=\"border-bottom: 1px solid #eee;\">\n            {{ result.value !== null ? result.value.toExponential(3) : 'N/A' }}\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <div v-else-if=\"samples && Object.keys(samples).length === 0\" class=\"mt-2\">No data for this point/time.</div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { defineProps } from 'vue';\ntype SampleTablePropType = { samples: Record<number, { value: number | null; date: Date }> | null, error?: string | null };\nconst _props = defineProps<SampleTablePropType>();\n</script>\n","import script from \"./SampleTable.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./SampleTable.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","\n\n/**\n * @function atleast1d\n * Ensures that the input is at least 1-dimensional. If the input is a single value, it wraps it in an array.\n * If the input is already an array, it returns the array as is.\n * If the input is undefined, it returns undefined.\n * If the input is null, it returns an array with a single null element.\n */\n// The complicated typing ensures that if T is undefined, the return type is also undefined.\nexport function atleast1d<T>(value: T | T[]): T[] {\n  return (Array.isArray(value) ? value : [value]);\n}","import { getTimezoneOffset } from \"date-fns-tz\";\nimport type { MillisecondRange, TimeRange, UserSelection } from \"../types\";\n\nexport function formatSingleRange(range: MillisecondRange): string {\n  const startString = new Date(range.start).toLocaleDateString();\n  const endString = new Date(range.end).toLocaleDateString();\n  if (startString === endString) {\n    return startString;\n  }\n  return `${startString} - ${endString}`;\n}\n\nexport function formatTimeRange(ranges: MillisecondRange | MillisecondRange[]): string {\n  if (Array.isArray(ranges)) {\n    if (ranges.length === 0) {\n      return 'No time range set';\n    }\n    \n    if (ranges.length === 1) {\n      return formatSingleRange(ranges[0]); \n    } else {\n      // For multiple ranges, show the full span\n      const allStarts = ranges.map(r => r.start);\n      const allEnds = ranges.map(r => r.end);\n      const minStart = Math.min(...allStarts);\n      const maxEnd = Math.max(...allEnds);\n      return `${new Date(minStart).toLocaleDateString()} - ${new Date(maxEnd).toLocaleDateString()} (${ranges.length} ranges)`;\n    }\n  } else {\n    return formatSingleRange(ranges);\n  }\n}\n\nexport function getTimeRangeDisplay(sel: UserSelection): string {\n  if (!sel.timeRange || !sel.timeRange.range) {\n    return `No time range set for selection ${sel.id}`;\n  }\n  return formatTimeRange(sel.timeRange.range);\n}\n\nexport function rangeForSingleDay(day: Date, timezone: string): MillisecondRange {\n  const offset = getTimezoneOffset(timezone, day);\n  const dayUTC = day.getTime() - offset;\n  const start = dayUTC - (dayUTC % 86400000) - offset; // Start of the day in milliseconds\n  const end = start + (86400000 - 1); // End of the day in milliseconds\n  return { start, end };\n}\n\nexport function areEquivalentMsRanges(first: MillisecondRange, second: MillisecondRange): boolean {\n  return first.start === second.start && first.end === second.end;\n}\n\nexport function areEquivalentTimeRanges(first: TimeRange, second: TimeRange): boolean {\n  console.log(first, second);\n  if (first.id === second.id) {\n    return true;\n  }\n\n  const array = Array.isArray(first.range);\n  if (array !== Array.isArray(second.range)) {\n    return false;\n  }\n\n  if (array) {\n    const firstRange = first.range as MillisecondRange[];\n    const secondRange = second.range as MillisecondRange[];\n    return firstRange.length === secondRange.length &&\n      firstRange.every((rg, idx) => areEquivalentMsRanges(rg, secondRange[idx]));\n  } else {\n    return areEquivalentMsRanges(first.range as MillisecondRange, second.range as MillisecondRange);\n  }\n}\n","import { ref, computed, watch, Ref } from 'vue';\nimport { getTimezoneOffset } from 'date-fns-tz';\n\nconst ONEDAYMS = 1000 * 60 * 60 * 24;\n\nfunction isBad(value: unknown): value is null | undefined {\n  return value === null || value === undefined;\n}\n\nexport const useUniqueTimeSelection = (timestamps: Ref<number[]>) => {\n  const timeIndex = ref(0);\n  const singleDateSelected = ref<Date>(new Date());\n  const minIndex = ref<number>(0);\n  const maxIndex = ref<number>(0);\n  \n  const mode = ref<'single' | 'all'>('single');\n  const initialTimeSelection = ref<'first' | 'last'>('first');\n\n  function getOneDaysTimestamps(date: Date) {\n    if (isBad(date)) {\n      return [];\n    }\n    const mod = [] as {ts:number, idx: number}[];\n    timestamps.value.forEach((ts, idx) => {\n      if ((ts - date.getTime()) < ONEDAYMS && (ts - date.getTime()) > 0) {\n        mod.push({ ts, idx });\n      }\n    });\n    return mod;\n  }\n  \n  function getAllDaysTimestamps(date: Date) {\n    if (isBad(date)) {\n      return [];\n    }\n    // const mod = [] as {ts:number, idx: number}[];\n    // timestamps.value.forEach((ts, idx) => {\n    //   mod.push({ ts, idx });\n    // });\n    return timestamps.value.map((ts, idx) => ({ ts, idx }));\n  }\n\n  function setNearestDate(date: number | null) {\n    if (date == null) {\n      return;\n    }\n\n    const mod = mode.value === 'single' ? getOneDaysTimestamps(new Date(date)) : getAllDaysTimestamps(new Date(date));\n    if (mod.length > 0) {\n      minIndex.value = mod[0].idx;\n      maxIndex.value = mod[mod.length - 1].idx;\n      timeIndex.value = initialTimeSelection.value === 'first' ? minIndex.value : maxIndex.value;\n    } else {\n      console.warn(\"No timestamps found for the given date.\");\n    }\n  }\n\n  const timestamp = computed(() => {\n    if (timestamps.value.length === 0) {\n      return null;\n    }\n    const val = timestamps.value[timeIndex.value];\n    return val;\n  });\n\n  const date = computed(() => {\n    return timestamp.value ? new Date(timestamp.value) : null;\n  });\n\n  const offset = (date: Date) => getTimezoneOffset(\"US/Eastern\", date);\n\n  const uniqueDays = computed(() => {\n    const easternDates = timestamps.value.map(ts => new Date(ts + offset(new Date(ts))));\n    const days = easternDates.map(date => (new Date(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate())).getTime());\n    const unique = Array.from(new Set(days));\n    return unique.map(ts => new Date(ts));\n  });\n\n  const uniqueDaysIndex = (ts: number) => {\n    let date = new Date(ts + offset(new Date(ts)));\n    date = new Date(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate());\n    return uniqueDays.value.map(e => e.getTime()).indexOf(date.getTime());\n  };\n\n  function getUniqueDayIndex(date: Date | null | undefined): number {\n    if (isBad(date)) {\n      return 0;\n    }\n    return uniqueDays.value.findIndex(day => day.getTime() === date.getTime());\n  }\n\n  function moveBackwardOneDay() {\n    const currentIndex = getUniqueDayIndex(singleDateSelected.value);\n    if (currentIndex > 0) {\n      singleDateSelected.value = uniqueDays.value[currentIndex - 1];\n    }\n  }\n\n  function moveForwardOneDay() {\n    const nextIndex = getUniqueDayIndex(singleDateSelected.value) + 1;\n    if (nextIndex < uniqueDays.value.length) {\n      singleDateSelected.value = uniqueDays.value[nextIndex];\n    }\n  }\n\n  function nearestDate(date: Date): number {\n    const time = date.getTime();\n    const timestamp = timestamps.value.find(ts => ((ts - time) < ONEDAYMS) && (ts - time) >= 0);\n    if (timestamp !== undefined) {\n      return timestamp;\n    } else {\n      console.warn(\"No matching timestamp found, returning default value.\");\n      return timestamps.value[0];\n    }\n  }\n\n  function nearestDateIndex(date: Date): number {\n    const timestamp = date.getTime();\n    const index = timestamps.value.findIndex(ts => ((ts - timestamp) < ONEDAYMS) && (ts - timestamp) >= 0);\n    if (index < 0) {\n      console.log(\"No matching timestamp found, returning default index.\");\n      return 0;\n    }\n    return index;\n  }\n\n  watch(singleDateSelected, (value) => {\n    if (value) { \n      setNearestDate(value.getTime());\n    }\n  });\n  \n  watch(mode, () => {\n    setNearestDate(singleDateSelected.value.getTime());\n  });\n\n  watch(timestamps, (newTimestamps) => {\n    if (newTimestamps.length === 0) {\n      timeIndex.value = 0;\n      minIndex.value = 0;\n      maxIndex.value = 0;\n      return;\n    }\n    // Reset to first date if current date is out of range\n    if (timeIndex.value ==null || timeIndex.value >= newTimestamps.length) {\n      timeIndex.value = 0;\n      singleDateSelected.value = new Date(newTimestamps[0]);\n    } else {\n      setNearestDate(singleDateSelected.value.getTime());\n    }\n  }, { immediate: true });\n\n  return {\n    timeIndex,\n    timestamp,\n    date,\n    singleDateSelected,\n    maxIndex,\n    minIndex,\n    uniqueDays,\n    mode,\n    initialTimeSelection,\n    uniqueDaysIndex,\n    setNearestDate,\n    getUniqueDayIndex,\n    moveBackwardOneDay,\n    moveForwardOneDay,\n    nearestDate,\n    nearestDateIndex\n  };\n};","import { computed, type Ref } from 'vue';\nimport { toZonedTime, fromZonedTime, format as formatTz } from 'date-fns-tz';\nimport type { MillisecondRange } from '../types/datetime';\n\n/**\n * Composable for centralized timezone handling and formatting\n */\nexport function useTimezone(selectedTimezone: Ref<string>) {\n  \n  /**\n   * Convert UTC timestamp to timezone-aware date\n   */\n  function toTimezone(timestamp: number): Date {\n    const utcDate = new Date(timestamp);\n    return toZonedTime(utcDate, selectedTimezone.value);\n  }\n\n  /**\n   * Convert timezone-aware date to UTC timestamp\n   */\n  function fromTimezone(date: Date): number {\n    return fromZonedTime(date, selectedTimezone.value).getTime();\n  }\n\n  /**\n   * Set date to local midnight in selected timezone\n   */\n  function setToMidnight(date: Date): number {\n    const zonedDate = toZonedTime(date, selectedTimezone.value);\n    zonedDate.setHours(0, 0, 0, 0);\n    return fromZonedTime(zonedDate, selectedTimezone.value).getTime();\n  }\n\n  /**\n   * Set date to end of day in selected timezone\n   */\n  function setToEndOfDay(date: Date): number {\n    const zonedDate = toZonedTime(date, selectedTimezone.value);\n    zonedDate.setHours(23, 59, 59, 999);\n    return fromZonedTime(zonedDate, selectedTimezone.value).getTime();\n  }\n\n  /**\n   * Format timestamp with full date and time\n   */\n  function formatTimeLong(timestamp: number): string {\n    const utcDate = new Date(timestamp);\n    const zonedDate = toZonedTime(utcDate, selectedTimezone.value);\n    return formatTz(zonedDate, 'EEE, MMM d, yyyy \\'at\\' h:mm a', { timeZone: selectedTimezone.value });\n  }\n\n  /**\n   * Format duration with timezone prefix\n   */\n  function formatDuration(range: MillisecondRange): string {\n    const startUtc = new Date(range.start);\n    const endUtc = new Date(range.end);\n    const startZoned = toZonedTime(startUtc, selectedTimezone.value);\n    const endZoned = toZonedTime(endUtc, selectedTimezone.value);\n    \n    const startTime = startZoned.toLocaleTimeString('en-US', {\n      hour: 'numeric',\n      minute: '2-digit',\n      hour12: true\n    });\n    const endTime = endZoned.toLocaleTimeString('en-US', {\n      hour: 'numeric',\n      minute: '2-digit',\n      hour12: true\n    });\n    \n    return `${selectedTimezone.value}: ${startTime} - ${endTime}`;\n  }\n\n  /**\n   * Format timezone range with date and time\n   */\n  function formatTimezoneRange(range: MillisecondRange): string {\n    const startUtc = new Date(range.start);\n    const endUtc = new Date(range.end);\n    const startZoned = toZonedTime(startUtc, selectedTimezone.value);\n    const endZoned = toZonedTime(endUtc, selectedTimezone.value);\n    \n    const startDate = startZoned.toLocaleDateString('en-US', { \n      month: 'short', \n      day: 'numeric' \n    });\n    const startTime = startZoned.toLocaleTimeString('en-US', {\n      hour: 'numeric',\n      minute: '2-digit',\n      hour12: true\n    });\n    const endTime = endZoned.toLocaleTimeString('en-US', {\n      hour: 'numeric',\n      minute: '2-digit',\n      hour12: true\n    });\n    \n    return `${startDate} ${startTime} - ${endTime}`;\n  }\n\n  /**\n   * Format UTC range\n   */\n  function formatUTCRange(range: MillisecondRange): string {\n    const startUtc = new Date(range.start);\n    const endUtc = new Date(range.end);\n    \n    const startDate = startUtc.toLocaleDateString('en-US', { \n      month: 'short', \n      day: 'numeric',\n      timeZone: 'UTC'\n    });\n    const startTime = startUtc.toLocaleTimeString('en-US', {\n      hour: 'numeric',\n      minute: '2-digit',\n      hour12: true,\n      timeZone: 'UTC'\n    });\n    const endTime = endUtc.toLocaleTimeString('en-US', {\n      hour: 'numeric',\n      minute: '2-digit',\n      hour12: true,\n      timeZone: 'UTC'\n    });\n    \n    return `${startDate} ${startTime} - ${endTime}`;\n  }\n\n  /**\n   * Format time string for display\n   */\n  function formatTime(timeString: string): string {\n    const [hour, minute] = timeString.split(':').map(Number);\n    const date = new Date();\n    date.setHours(hour, minute, 0, 0);\n    return date.toLocaleTimeString('en-US', {\n      hour: 'numeric',\n      minute: '2-digit',\n      hour12: true\n    });\n  }\n\n  /**\n   * Format date for display\n   */\n  function formatDateDisplay(date: Date | null): string {\n    return date?.toDateString() || '';\n  }\n\n  // Computed properties for reactive timezone info\n  const timezoneInfo = computed(() => ({\n    name: selectedTimezone.value,\n    offset: new Date().toLocaleString('en', {\n      timeZone: selectedTimezone.value,\n      timeZoneName: 'short'\n    }).split(' ').pop() || ''\n  }));\n\n  return {\n    // Core timezone operations\n    toTimezone,\n    fromTimezone,\n    setToMidnight,\n    setToEndOfDay,\n    \n    // Formatting functions\n    formatTimeLong,\n    formatDuration,\n    formatTimezoneRange,\n    formatUTCRange,\n    formatTime,\n    formatDateDisplay,\n    \n    // Computed properties\n    timezoneInfo\n  };\n}","import { ref, computed, watch } from 'vue';\nimport type { Ref } from 'vue';\nimport { useTimezone } from './useTimezone';\nimport type { \n  MillisecondRange,\n  SelectionType \n} from '@/types/datetime';\n\ninterface UseDateTimeSelectorOptions {\n  currentDate?: Ref<Date>;\n  selectedTimezone?: Ref<string>;\n}\n\n/**\n * Custom hook for date/time selection with optional configuration\n * @param options - Optional configuration object with currentDate and selectedTimezone refs\n */\nexport function useDateTimeSelector(\n  options: UseDateTimeSelectorOptions = {}\n) {\n  const { currentDate, selectedTimezone: initialTimezone } = options;\n  \n  // Initialize timezone handling\n  const selectedTimezone = initialTimezone || ref<string>(\n    Intl.DateTimeFormat().resolvedOptions().timeZone\n  );\n  \n  const { \n    toTimezone, \n    fromTimezone, \n    setToMidnight, \n    setToEndOfDay,\n    formatTime \n  } = useTimezone(selectedTimezone);\n  \n  // Extend selection type locally to include 'singledate' without altering global type\n  const selectionType = ref<SelectionType | 'singledate'>('weekday');\n  \n  // Weekday selection state\n  const selectedDayOfWeek = ref<number>(1); // Default to Monday\n  const selectedTime = ref<string>('09:00');\n  const instancesBack = ref<number>(4);\n  const timePlusMinus = ref<number>(1); // +/- 1 hour for hour selection\n  \n  // Track if user has manually set the weekday start date\n  const hasManualWeekdayStartDate = ref<boolean>(false);\n\n  // Initialize weekdayStartDateTimestamp from currentDate option if provided\n  const weekdayStartDateTimestamp = ref<number>(\n    currentDate?.value?.getTime() || new Date().getTime()\n  );\n  const startDate = ref<number>(0);\n  const endDate = ref<number>(0);\n  \n  // Computed properties for date picker integration (convert timestamps to/from date objects)\n  const weekdayStartDate = computed({\n    get: () => {\n      if (hasManualWeekdayStartDate.value && weekdayStartDateTimestamp.value > 0) {\n        return new Date(weekdayStartDateTimestamp.value).toISOString().split('T')[0];\n      }\n      return new Date(weekdayStartDateTimestamp.value).toISOString().split('T')[0];\n    },\n    set: (value: string) => {\n      const date = new Date(value + 'T00:00:00');\n      setWeekdayStartTimestamp(date.getTime());\n    }\n  });\n  \n  const dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n  \n  // New methods for direct timestamp manipulation\n  function setWeekdayStartTimestamp(timestamp: number): void {\n    weekdayStartDateTimestamp.value = timestamp;\n    hasManualWeekdayStartDate.value = timestamp > 0;\n  }\n  \n  // Generate millisecond ranges\n  function generateMillisecondRanges(): MillisecondRange[] {\n    if (selectionType.value === 'weekday') {\n      return generateWeekdayRanges();\n    } else if (selectionType.value === 'singledate') {\n      return generateSingleDateRange();\n    } else {\n      return generateDateRangeRanges();\n    }\n  }\n  \n  // Parse time string into hour and minute\n  const parsedTime = computed(() => {\n    const [hour, minute] = selectedTime.value.split(':').map(Number);\n    return { hour, minute };\n  });\n  \n  function generateWeekdayRanges(): MillisecondRange[] {\n    // Determine base timestamp: use manual timestamp if set, otherwise current date\n    const baseTimestamp = hasManualWeekdayStartDate.value && weekdayStartDateTimestamp.value > 0\n      ? weekdayStartDateTimestamp.value\n      : weekdayStartDateTimestamp.value;\n    \n    // Create timezone-aware date for calculations  \n    const baseDate = toTimezone(baseTimestamp);\n    \n    const targetDayOfWeek = selectedDayOfWeek.value;\n    \n    // Find the target day occurrence - use baseDate if it already matches, otherwise find the most recent occurrence\n    const currentDate = new Date(baseDate);\n    \n    // Only search backwards if the base date doesn't already match the target day\n    if (currentDate.getDay() !== targetDayOfWeek) {\n      while (currentDate.getDay() !== targetDayOfWeek) {\n        currentDate.setDate(currentDate.getDate() - 1);\n      }\n    }\n    \n    // Generate ranges for the specified number of instances back\n    const ranges = Array.from({ length: instancesBack.value }, (_, i) => {\n      const rangeDate = new Date(currentDate);\n      rangeDate.setDate(currentDate.getDate() - (i * 7)); // Go back by weeks\n      \n      // Set the specific time\n      rangeDate.setHours(parsedTime.value.hour, parsedTime.value.minute, 0, 0);\n      \n      // Convert to UTC timestamp for the API\n      const startTime = fromTimezone(rangeDate);\n      const endTime = startTime + (timePlusMinus.value * 60 * 60 * 1000); // Add 1 hour\n      \n      return {\n        start: startTime,\n        end: endTime\n      };\n    });\n    \n    return ranges.sort((a, b) => - (a.start - b.start));\n  }\n  \n  function generateDateRangeRanges(): MillisecondRange[] {\n    if (startDate.value === 0 || endDate.value === 0) return [];\n    \n    // Use timestamps directly - they should already be set to appropriate times (midnight, end of day, etc.)\n    const startMs = startDate.value;\n    const endMs = endDate.value;\n    \n    return [{\n      start: startMs,\n      end: endMs\n    }];\n  }\n  \n  // Single date (timestamp at timezone-local midnight) state\n  const singleDate = ref<number>(0);\n  \n  function setSingleDateTimestamp(ts: number) {\n    // Normalize to midnight in the selected timezone\n    const midnightTs = setToMidnight(new Date(ts));\n    singleDate.value = midnightTs;\n  }\n  \n  // Initialize singleDate from parent currentDate if not already set\n  if (singleDate.value === 0) {\n    const initialParentTs = currentDate?.value?.getTime();\n    if (initialParentTs) {\n      setSingleDateTimestamp(initialParentTs);\n    }\n  }\n  \n  function generateSingleDateRange(): MillisecondRange[] {\n    if (singleDate.value === 0) return [];\n    const start = singleDate.value;\n    const end = setToEndOfDay(new Date(singleDate.value));\n    return [{ start, end }];\n  }\n\n  // Watch for currentDate changes and update weekdayStartDateTimestamp if not manually set\n  if (currentDate) {\n    watch(currentDate, (newCurrentDate) => {\n      if (!hasManualWeekdayStartDate.value) {\n        weekdayStartDateTimestamp.value = newCurrentDate.getTime();\n      }\n      // If singleDate not manually set yet (still 0), default it from parent\n      if (singleDate.value === 0) {\n        setSingleDateTimestamp(newCurrentDate.getTime());\n      }\n    });\n  }\n  \n  return {\n    // State\n    selectionType,\n    selectedDayOfWeek,\n    selectedTime,\n    instancesBack,\n    dayNames,\n    timePlusMinus,\n    singleDate,\n    \n    // Computed properties for date picker integration\n    weekdayStartDate,\n    startDate,\n    endDate,\n    \n    // New timestamp methods\n    setWeekdayStartTimestamp,\n    setStartTimestamp: (timestamp: number) => { startDate.value = timestamp; },\n    setEndTimestamp: (timestamp: number) => { endDate.value = timestamp; },\n    setSingleDateTimestamp,\n    \n    // Timezone utilities\n    setToMidnight,\n    setToEndOfDay,\n    \n    // Utilities\n    generateMillisecondRanges,\n    formatTime,\n    generateSingleDateRange\n  };\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveComponent as _resolveComponent, createVNode as _createVNode, isRef as _isRef, withCtx as _withCtx, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"weekday-pattern-section\"\n}\nconst _hoisted_2 = { class: \"mb-4\" }\nconst _hoisted_3 = { class: \"mb-4\" }\nconst _hoisted_4 = { class: \"mb-4\" }\nconst _hoisted_5 = { class: \"d-flex align-center ga-2\" }\nconst _hoisted_6 = { class: \"mb-4\" }\nconst _hoisted_7 = {\n  key: 0,\n  class: \"date-range-section\"\n}\nconst _hoisted_8 = { class: \"mb-4\" }\nconst _hoisted_9 = { class: \"mb-4\" }\nconst _hoisted_10 = {\n  key: 0,\n  class: \"single-date-section\"\n}\nconst _hoisted_11 = { class: \"mb-4\" }\n\nimport { watch, computed, ref, onMounted } from 'vue';\nimport DatePicker from '@vuepic/vue-datepicker';\nimport '@vuepic/vue-datepicker/dist/main.css';\nimport { useTimezone } from './useTimezone';\nimport { useDateTimeSelector } from './useDateTimeSelector';\nimport type { MillisecondRange } from '../types/datetime';\n\n// === INTERFACES === \n// === PROPS ===\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'DateTimeRangeSelection',\n  props: {\n    currentDate: {},\n    selectedTimezone: {},\n    defaultStartDate: {},\n    defaultEndDate: {},\n    allowedDates: {},\n    validTimes: {}\n  },\n  emits: [\"ranges-change\"],\n  setup(__props: any, { emit: __emit }) {\n\n// === IMPORTS ===\nconst props = __props;\n\n// === EMITS ===\nconst emit = __emit;\n\n// === COMPOSABLE SETUP ===\n// Create refs for the current date and timezone to pass to the composable\nconst currentDateRef = ref(props.currentDate);\nconst timezoneRef = ref(props.selectedTimezone);\n\n// Initialize timezone handling\nconst { setToMidnight, setToEndOfDay, formatDateDisplay } = useTimezone(timezoneRef);\n\n// Initialize the datetime selector composable with optional parameters\nconst {\n  selectionType,\n  selectedDayOfWeek,\n  selectedTime,\n  instancesBack,\n  timePlusMinus,\n  weekdayStartDate,\n  startDate,\n  endDate,\n  setWeekdayStartTimestamp,\n  setStartTimestamp: setStartTimestampInternal,\n  setEndTimestamp: setEndTimestampInternal,\n  dayNames,\n  generateMillisecondRanges,\n  // single date additions\n  singleDate,\n  setSingleDateTimestamp,\n  generateSingleDateRange\n} = useDateTimeSelector({\n  currentDate: currentDateRef,\n  selectedTimezone: timezoneRef\n});\n\n// === REFS ===\nconst weekdayCalendar = ref();\nconst startDateCalendar = ref();\nconst endDateCalendar = ref();\nconst singleDateCalendar = ref();\n\n// === PICKER STATE ===\n// Direct date objects for date pickers - no unnecessary timestamp conversion\nconst weekdayStartDateObj = ref<Date | null>(null);\nconst startDateObj = ref<Date | null>(null);\nconst endDateObj = ref<Date | null>(null);\nconst singleDateObj = ref<Date | null>(null);\n\n// Day options for v-select\nconst dayOptions = computed(() => \n  dayNames.map((day, index) => ({ title: day, value: index }))\n);\n\n// Generate ranges for visualization\n// const ranges = computed(() => {\n//   return generateMillisecondRanges();\n// });\n\n// Validation rules\nconst instanceRules = computed(() => [\n  (v: number) => v >= 1 && v <= 10 || 'Must be between 1 and 10'\n]);\n\n// === METHODS ===\n// Update custom range button handler\nfunction updateCustomRange() {\n  const currentRanges = selectionType.value === 'singledate'\n    ? generateSingleDateRange()\n    : generateMillisecondRanges();\n  emit('ranges-change', currentRanges, selectionType.value);\n}\n\n// Date change handlers\nfunction handleWeekdayDateChange(value: Date) {\n  if (value != null) {\n    if (value.getTime() !== weekdayStartDateObj.value?.getTime()) {\n      weekdayStartDateObj.value = value;\n      // Update composable state directly\n      setWeekdayStartTimestamp(value.getTime());\n      weekdayCalendar.value?.closeMenu();\n    }\n  }\n}\n\nfunction handleStartDateChange(value: Date) {\n  if (value != null) {\n    if (value.getTime() !== startDateObj.value?.getTime()) {\n      startDateObj.value = value;\n      // Convert to timestamp and update composable\n      const timestamp = setToMidnight(value);\n      setStartTimestampInternal(timestamp);\n      startDateCalendar.value?.closeMenu();\n    }\n  }\n}\n\nfunction handleEndDateChange(value: Date) {\n  if (value != null) {\n    if (value.getTime() !== endDateObj.value?.getTime()) {\n      endDateObj.value = value;\n      // Convert to timestamp and update composable\n      const timestamp = setToEndOfDay(value);\n      setEndTimestampInternal(timestamp);\n      endDateCalendar.value?.closeMenu();\n    }\n  }\n}\n\nfunction handleSingleDateChange(value: Date) {\n  if (value && value.getTime() !== singleDateObj.value?.getTime()) {\n    singleDateObj.value = value;\n    setSingleDateTimestamp(value.getTime());\n    singleDateCalendar.value?.closeMenu();\n  }\n}\n\n// Formatting functions\n// Formatting functions moved to useTimezone composable\n\n// === LIFECYCLE HOOKS ===\nonMounted(() => {\n  // Initialize default dates\n  if (props.defaultStartDate) {\n    startDateObj.value = props.defaultStartDate;\n    const timestamp = setToMidnight(props.defaultStartDate);\n    setStartTimestampInternal(timestamp);\n  }\n  if (props.defaultEndDate) {\n    endDateObj.value = props.defaultEndDate;\n    const timestamp = setToEndOfDay(props.defaultEndDate);\n    setEndTimestampInternal(timestamp);\n  } else {\n    // Default end date to today\n    const today = new Date();\n    endDateObj.value = today;\n    const timestamp = setToEndOfDay(today);\n    setEndTimestampInternal(timestamp);\n  }\n  \n  // Initialize weekday start date\n  if (weekdayStartDate.value) {\n    weekdayStartDateObj.value = new Date(weekdayStartDate.value + 'T00:00:00');\n  }\n\n  if (singleDate.value > 0 && !singleDateObj.value) {\n    singleDateObj.value = new Date(singleDate.value);\n  }\n});\n\n// === WATCHERS ===\n// Watch for prop changes and update refs\nwatch(() => props.currentDate, (newDate) => {\n  currentDateRef.value = newDate;\n});\n\nwatch(() => props.selectedTimezone, (newTimezone) => {\n  timezoneRef.value = newTimezone;\n});\n\n// Keep weekdayStartDateObj in sync with the composable's weekdayStartDate\nwatch(() => weekdayStartDate.value, (newDateString) => {\n  const newDate = newDateString ? new Date(newDateString + 'T00:00:00') : null;\n  if (newDate?.getTime() !== weekdayStartDateObj.value?.getTime()) {\n    weekdayStartDateObj.value = newDate;\n  }\n});\n\n// Keep singleDateObj in sync with the composable's singleDate\nwatch(() => singleDate.value, (newTs) => {\n  if (newTs > 0) {\n    const newDate = new Date(newTs);\n    if (newDate.getTime() !== singleDateObj.value?.getTime()) {\n      singleDateObj.value = newDate;\n    }\n  } else {\n    singleDateObj.value = null;\n  }\n});\n\n// Sync date objects with composable timestamps (one-way: composable → UI)\nwatch(() => startDate.value, (newTimestamp) => {\n  const newDate = newTimestamp > 0 ? new Date(newTimestamp) : null;\n  if (newDate?.getTime() !== startDateObj.value?.getTime()) {\n    startDateObj.value = newDate;\n  }\n});\n\nwatch(() => endDate.value, (newTimestamp) => {\n  const newDate = newTimestamp > 0 ? new Date(newTimestamp) : null;\n  if (newDate?.getTime() !== endDateObj.value?.getTime()) {\n    endDateObj.value = newDate;\n  }\n});\n\n// Ranges are now only emitted when the Update Custom Range button is clicked\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_radio = _resolveComponent(\"v-radio\")!\n  const _component_v_radio_group = _resolveComponent(\"v-radio-group\")!\n  const _component_v_select = _resolveComponent(\"v-select\")!\n  const _component_v_chip = _resolveComponent(\"v-chip\")!\n  const _component_v_number_input = _resolveComponent(\"v-number-input\")!\n  const _component_v_expand_transition = _resolveComponent(\"v-expand-transition\")!\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_card_text = _resolveComponent(\"v-card-text\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n\n  return (_openBlock(), _createBlock(_component_v_card, {\n    class: \"datetime-range-selector\",\n    elevation: \"2\"\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_component_v_card_text, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_radio_group, {\n            modelValue: _unref(selectionType),\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => (_isRef(selectionType) ? (selectionType).value = $event : null)),\n            row: \"\",\n            density: \"compact\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_v_radio, {\n                label: \"Weekday Pattern\",\n                value: \"weekday\",\n                density: \"compact\"\n              }),\n              _createVNode(_component_v_radio, {\n                label: \"Date Range\",\n                value: \"daterange\",\n                density: \"compact\"\n              }),\n              _createVNode(_component_v_radio, {\n                label: \"Single Date\",\n                value: \"singledate\",\n                density: \"compact\"\n              })\n            ]),\n            _: 1\n          }, 8, [\"modelValue\"]),\n          _createVNode(_component_v_expand_transition, null, {\n            default: _withCtx(() => [\n              (_unref(selectionType) === 'weekday')\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                    _createElementVNode(\"div\", _hoisted_2, [\n                      _cache[5] || (_cache[5] = _createElementVNode(\"label\", { class: \"text-subtitle-2 mb-2 d-block\" }, \"Reference Date\", -1)),\n                      _createVNode(_unref(DatePicker), {\n                        ref_key: \"weekdayCalendar\",\n                        ref: weekdayCalendar,\n                        \"model-value\": weekdayStartDateObj.value,\n                        onInternalModelChange: handleWeekdayDateChange,\n                        \"allowed-dates\": _ctx.allowedDates,\n                        format: _unref(formatDateDisplay),\n                        \"preview-format\": _unref(formatDateDisplay),\n                        clearable: false,\n                        \"text-input\": \"\",\n                        teleport: true,\n                        dark: \"\",\n                        \"year-range\": [_ctx.allowedDates ? _ctx.allowedDates[0].getFullYear() : 2023, _ctx.allowedDates ? _ctx.allowedDates[_ctx.allowedDates.length - 1].getFullYear() : new Date().getFullYear()]\n                      }, null, 8, [\"model-value\", \"allowed-dates\", \"format\", \"preview-format\", \"year-range\"])\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_3, [\n                      _createVNode(_component_v_select, {\n                        modelValue: _unref(selectedDayOfWeek),\n                        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => (_isRef(selectedDayOfWeek) ? (selectedDayOfWeek).value = $event : null)),\n                        items: dayOptions.value,\n                        label: \"Day of Week\",\n                        \"prepend-inner-icon\": \"mdi-calendar-week\",\n                        density: \"compact\",\n                        variant: \"outlined\",\n                        \"hide-details\": \"\"\n                      }, null, 8, [\"modelValue\", \"items\"])\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_4, [\n                      _cache[6] || (_cache[6] = _createElementVNode(\"label\", { class: \"text-subtitle-2 mb-2 d-block\" }, \"Time\", -1)),\n                      _createElementVNode(\"div\", _hoisted_5, [\n                        _withDirectives(_createElementVNode(\"input\", {\n                          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => (_isRef(selectedTime) ? (selectedTime).value = $event : null)),\n                          type: \"time\",\n                          class: \"time-input\"\n                        }, null, 512), [\n                          [_vModelText, _unref(selectedTime)]\n                        ]),\n                        _createVNode(_component_v_chip, {\n                          size: \"small\",\n                          color: \"primary\",\n                          variant: \"tonal\"\n                        }, {\n                          default: _withCtx(() => [\n                            _createTextVNode(_toDisplayString(_ctx.selectedTimezone), 1)\n                          ]),\n                          _: 1\n                        }),\n                        _withDirectives(_createElementVNode(\"input\", {\n                          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => (_isRef(timePlusMinus) ? (timePlusMinus).value = $event : null)),\n                          type: \"number\",\n                          min: \"-12\",\n                          max: \"12\",\n                          step: \"0.5\",\n                          class: \"time-input\",\n                          style: {\"width\":\"80px\"},\n                          placeholder: \"± hours\"\n                        }, null, 512), [\n                          [_vModelText, _unref(timePlusMinus)]\n                        ])\n                      ])\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_6, [\n                      _createVNode(_component_v_number_input, {\n                        modelValue: _unref(instancesBack),\n                        \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => (_isRef(instancesBack) ? (instancesBack).value = $event : null)),\n                        label: \"Number of Instances\",\n                        rules: instanceRules.value,\n                        min: 1,\n                        max: 10,\n                        density: \"compact\",\n                        variant: \"outlined\",\n                        \"control-variant\": \"split\"\n                      }, null, 8, [\"modelValue\", \"rules\"])\n                    ])\n                  ]))\n                : _createCommentVNode(\"\", true)\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_v_expand_transition, null, {\n            default: _withCtx(() => [\n              (_unref(selectionType) === 'daterange')\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n                    _createElementVNode(\"div\", _hoisted_8, [\n                      _cache[7] || (_cache[7] = _createElementVNode(\"label\", { class: \"text-subtitle-2 mb-2 d-block\" }, \"Start Date\", -1)),\n                      _createVNode(_unref(DatePicker), {\n                        ref_key: \"startDateCalendar\",\n                        ref: startDateCalendar,\n                        \"model-value\": startDateObj.value,\n                        onInternalModelChange: handleStartDateChange,\n                        \"allowed-dates\": _ctx.allowedDates,\n                        \"max-date\": endDateObj.value ?? new Date(),\n                        format: _unref(formatDateDisplay),\n                        \"preview-format\": _unref(formatDateDisplay),\n                        \"text-input\": \"\",\n                        teleport: true,\n                        dark: \"\",\n                        \"year-range\": [_ctx.allowedDates ? _ctx.allowedDates[0].getFullYear() : 2023, _ctx.allowedDates ? _ctx.allowedDates[_ctx.allowedDates.length - 1].getFullYear() : new Date().getFullYear()]\n                      }, null, 8, [\"model-value\", \"allowed-dates\", \"max-date\", \"format\", \"preview-format\", \"year-range\"])\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_9, [\n                      _cache[8] || (_cache[8] = _createElementVNode(\"label\", { class: \"text-subtitle-2 mb-2 d-block\" }, \"End Date\", -1)),\n                      _createVNode(_unref(DatePicker), {\n                        ref_key: \"endDateCalendar\",\n                        ref: endDateCalendar,\n                        \"model-value\": endDateObj.value,\n                        onInternalModelChange: handleEndDateChange,\n                        \"allowed-dates\": _ctx.allowedDates,\n                        \"min-date\": startDateObj.value ?? new Date(0),\n                        format: _unref(formatDateDisplay),\n                        \"preview-format\": _unref(formatDateDisplay),\n                        \"text-input\": \"\",\n                        teleport: true,\n                        dark: \"\",\n                        \"year-range\": [_ctx.allowedDates ? _ctx.allowedDates[0].getFullYear() : 2023, _ctx.allowedDates ? _ctx.allowedDates[_ctx.allowedDates.length - 1].getFullYear() : new Date().getFullYear()]\n                      }, null, 8, [\"model-value\", \"allowed-dates\", \"min-date\", \"format\", \"preview-format\", \"year-range\"])\n                    ])\n                  ]))\n                : _createCommentVNode(\"\", true)\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_v_expand_transition, null, {\n            default: _withCtx(() => [\n              (_unref(selectionType) === 'singledate')\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [\n                    _createElementVNode(\"div\", _hoisted_11, [\n                      _cache[9] || (_cache[9] = _createElementVNode(\"label\", { class: \"text-subtitle-2 mb-2 d-block\" }, \"Date\", -1)),\n                      _createVNode(_unref(DatePicker), {\n                        ref_key: \"singleDateCalendar\",\n                        ref: singleDateCalendar,\n                        \"model-value\": singleDateObj.value,\n                        onInternalModelChange: handleSingleDateChange,\n                        \"allowed-dates\": _ctx.allowedDates,\n                        format: _unref(formatDateDisplay),\n                        \"preview-format\": _unref(formatDateDisplay),\n                        clearable: false,\n                        \"text-input\": \"\",\n                        teleport: true,\n                        dark: \"\",\n                        \"year-range\": [_ctx.allowedDates ? _ctx.allowedDates[0].getFullYear() : 2023, _ctx.allowedDates ? _ctx.allowedDates[_ctx.allowedDates.length - 1].getFullYear() : new Date().getFullYear()]\n                      }, null, 8, [\"model-value\", \"allowed-dates\", \"format\", \"preview-format\", \"year-range\"])\n                    ])\n                  ]))\n                : _createCommentVNode(\"\", true)\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_v_btn, {\n            color: \"primary\",\n            variant: \"elevated\",\n            class: \"mb-4\",\n            onClick: updateCustomRange\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_v_icon, { class: \"mr-2\" }, {\n                default: _withCtx(() => [...(_cache[10] || (_cache[10] = [\n                  _createTextVNode(\"mdi-update\", -1)\n                ]))]),\n                _: 1\n              }),\n              _cache[11] || (_cache[11] = _createTextVNode(\" Confirm Selection \", -1))\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","<template>\n  <v-card class=\"datetime-range-selector\" elevation=\"2\">\n\n    <v-card-text>\n      <!-- Selection Type Radio Buttons -->\n      <v-radio-group \n        v-model=\"selectionType\" \n        row \n        density=\"compact\"\n      >\n        <v-radio \n          label=\"Weekday Pattern\" \n          value=\"weekday\"\n          density=\"compact\"\n        />\n        <v-radio \n          label=\"Date Range\" \n          value=\"daterange\"\n          density=\"compact\"\n        />\n        <v-radio \n          label=\"Single Date\" \n            value=\"singledate\"\n          density=\"compact\"\n        />\n      </v-radio-group>\n\n      <!-- Weekday Pattern Section -->\n      <v-expand-transition>\n        <div v-if=\"selectionType === 'weekday'\" class=\"weekday-pattern-section\">\n          <!-- Reference Date -->\n          <div class=\"mb-4\">\n            <label class=\"text-subtitle-2 mb-2 d-block\">Reference Date</label>\n            <date-picker\n              ref=\"weekdayCalendar\"\n              :model-value=\"weekdayStartDateObj\"\n              @internal-model-change=\"handleWeekdayDateChange\"\n              :allowed-dates=\"allowedDates\"\n              :format=\"formatDateDisplay\"\n              :preview-format=\"formatDateDisplay\"\n              :clearable=\"false\"\n              text-input\n              :teleport=\"true\"\n              dark\n              :year-range=\"[allowedDates ? allowedDates[0].getFullYear() : 2023, allowedDates ? allowedDates[allowedDates.length - 1].getFullYear() : new Date().getFullYear()]\"\n            />\n          </div>\n\n          <!-- Day of Week Selection -->\n          <div class=\"mb-4\">\n            <v-select\n              v-model=\"selectedDayOfWeek\"\n              :items=\"dayOptions\"\n              label=\"Day of Week\"\n              prepend-inner-icon=\"mdi-calendar-week\"\n              density=\"compact\"\n              variant=\"outlined\"\n              hide-details\n            />\n          </div>\n\n          <!-- Time Selection -->\n          <div class=\"mb-4\">\n            <label class=\"text-subtitle-2 mb-2 d-block\">Time</label>\n            <div class=\"d-flex align-center ga-2\">\n              <input\n                v-model=\"selectedTime\"\n                type=\"time\"\n                class=\"time-input\"\n              />\n              <v-chip size=\"small\" color=\"primary\" variant=\"tonal\">\n                {{ selectedTimezone }}\n              </v-chip>\n              <!-- add time plus minus number input. use +- icon and should step in .5 hour increments -->\n              \n              <input \n                v-model=\"timePlusMinus\"\n                type=\"number\"\n                min=\"-12\"\n                max=\"12\"\n                step=\"0.5\"\n                class=\"time-input\"\n                style=\"width: 80px;\"\n                placeholder=\"± hours\"\n              />\n            </div>\n          </div>\n\n          <!-- Number of Instances -->\n          <div class=\"mb-4\">\n            <v-number-input\n              v-model=\"instancesBack\"\n              label=\"Number of Instances\"\n              :rules=\"instanceRules\"\n              :min=\"1\"\n              :max=\"10\"\n              density=\"compact\"\n              variant=\"outlined\"\n              control-variant=\"split\"\n            />\n          </div>\n        </div>\n      </v-expand-transition>\n\n      <!-- Date Range Section -->\n      <v-expand-transition>\n        <div v-if=\"selectionType === 'daterange'\" class=\"date-range-section\">\n          <!-- Start Date -->\n          <div class=\"mb-4\">\n            <label class=\"text-subtitle-2 mb-2 d-block\">Start Date</label>\n            <date-picker\n              ref=\"startDateCalendar\"\n              :model-value=\"startDateObj\"\n              @internal-model-change=\"handleStartDateChange\"\n              :allowed-dates=\"allowedDates\"\n              :max-date=\"endDateObj ?? new Date()\"\n              :format=\"formatDateDisplay\"\n              :preview-format=\"formatDateDisplay\"\n              text-input\n              :teleport=\"true\"\n              dark\n              :year-range=\"[allowedDates ? allowedDates[0].getFullYear() : 2023, allowedDates ? allowedDates[allowedDates.length - 1].getFullYear() : new Date().getFullYear()]\"\n            />\n          </div>\n\n          <!-- End Date -->\n          <div class=\"mb-4\">\n            <label class=\"text-subtitle-2 mb-2 d-block\">End Date</label>\n            <date-picker\n              ref=\"endDateCalendar\"\n              :model-value=\"endDateObj\"\n              @internal-model-change=\"handleEndDateChange\"\n              :allowed-dates=\"allowedDates\"\n              :min-date=\"startDateObj ?? new Date(0)\"\n              :format=\"formatDateDisplay\"\n              :preview-format=\"formatDateDisplay\"\n              text-input\n              :teleport=\"true\"\n              dark\n              :year-range=\"[allowedDates ? allowedDates[0].getFullYear() : 2023, allowedDates ? allowedDates[allowedDates.length - 1].getFullYear() : new Date().getFullYear()]\"\n            />\n          </div>\n        </div>\n      </v-expand-transition>\n\n      <!-- Single Date Section -->\n      <v-expand-transition>\n        <div v-if=\"selectionType === 'singledate'\" class=\"single-date-section\">\n          <div class=\"mb-4\">\n            <label class=\"text-subtitle-2 mb-2 d-block\">Date</label>\n            <date-picker\n              ref=\"singleDateCalendar\"\n              :model-value=\"singleDateObj\"\n              @internal-model-change=\"handleSingleDateChange\"\n              :allowed-dates=\"allowedDates\"\n              :format=\"formatDateDisplay\"\n              :preview-format=\"formatDateDisplay\"\n              :clearable=\"false\"\n              text-input\n              :teleport=\"true\"\n              dark\n              :year-range=\"[allowedDates ? allowedDates[0].getFullYear() : 2023, allowedDates ? allowedDates[allowedDates.length - 1].getFullYear() : new Date().getFullYear()]\"\n            />\n          </div>\n        </div>\n      </v-expand-transition>\n\n      <!-- Update Custom Range Button -->\n      <v-btn\n        color=\"primary\"\n        variant=\"elevated\"\n        class=\"mb-4\"\n        @click=\"updateCustomRange\"\n      >\n        <v-icon class=\"mr-2\">mdi-update</v-icon>\n        Confirm Selection \n      </v-btn>\n\n      <!-- Timeline Visualization -->\n      <!-- <v-divider class=\"my-4\" />\n      \n      <TimelineVisualization\n        :ranges=\"ranges\"\n        :selected-timezone=\"selectedTimezone\"\n        :mode=\"selectionType\"\n      /> -->\n    </v-card-text>\n  </v-card>\n</template>\n\n<script setup lang=\"ts\">\n// === IMPORTS ===\nimport { watch, computed, ref, onMounted } from 'vue';\nimport DatePicker from '@vuepic/vue-datepicker';\nimport '@vuepic/vue-datepicker/dist/main.css';\nimport { useTimezone } from './useTimezone';\nimport { useDateTimeSelector } from './useDateTimeSelector';\nimport type { MillisecondRange } from '../types/datetime';\n\n// === INTERFACES === \n// === PROPS ===\nconst props = defineProps<{\n  currentDate: Date;\n  selectedTimezone: string;\n  defaultStartDate?: Date;\n  defaultEndDate?: Date;\n  allowedDates?: Date[];\n  validTimes?: string[];\n}>();\n\n// === EMITS ===\nconst emit = defineEmits<{\n  'ranges-change': [ranges: MillisecondRange[], selectionType: string]\n}>();\n\n// === COMPOSABLE SETUP ===\n// Create refs for the current date and timezone to pass to the composable\nconst currentDateRef = ref(props.currentDate);\nconst timezoneRef = ref(props.selectedTimezone);\n\n// Initialize timezone handling\nconst { setToMidnight, setToEndOfDay, formatDateDisplay } = useTimezone(timezoneRef);\n\n// Initialize the datetime selector composable with optional parameters\nconst {\n  selectionType,\n  selectedDayOfWeek,\n  selectedTime,\n  instancesBack,\n  timePlusMinus,\n  weekdayStartDate,\n  startDate,\n  endDate,\n  setWeekdayStartTimestamp,\n  setStartTimestamp: setStartTimestampInternal,\n  setEndTimestamp: setEndTimestampInternal,\n  dayNames,\n  generateMillisecondRanges,\n  // single date additions\n  singleDate,\n  setSingleDateTimestamp,\n  generateSingleDateRange\n} = useDateTimeSelector({\n  currentDate: currentDateRef,\n  selectedTimezone: timezoneRef\n});\n\n// === REFS ===\nconst weekdayCalendar = ref();\nconst startDateCalendar = ref();\nconst endDateCalendar = ref();\nconst singleDateCalendar = ref();\n\n// === PICKER STATE ===\n// Direct date objects for date pickers - no unnecessary timestamp conversion\nconst weekdayStartDateObj = ref<Date | null>(null);\nconst startDateObj = ref<Date | null>(null);\nconst endDateObj = ref<Date | null>(null);\nconst singleDateObj = ref<Date | null>(null);\n\n// Day options for v-select\nconst dayOptions = computed(() => \n  dayNames.map((day, index) => ({ title: day, value: index }))\n);\n\n// Generate ranges for visualization\n// const ranges = computed(() => {\n//   return generateMillisecondRanges();\n// });\n\n// Validation rules\nconst instanceRules = computed(() => [\n  (v: number) => v >= 1 && v <= 10 || 'Must be between 1 and 10'\n]);\n\n// === METHODS ===\n// Update custom range button handler\nfunction updateCustomRange() {\n  const currentRanges = selectionType.value === 'singledate'\n    ? generateSingleDateRange()\n    : generateMillisecondRanges();\n  emit('ranges-change', currentRanges, selectionType.value);\n}\n\n// Date change handlers\nfunction handleWeekdayDateChange(value: Date) {\n  if (value != null) {\n    if (value.getTime() !== weekdayStartDateObj.value?.getTime()) {\n      weekdayStartDateObj.value = value;\n      // Update composable state directly\n      setWeekdayStartTimestamp(value.getTime());\n      weekdayCalendar.value?.closeMenu();\n    }\n  }\n}\n\nfunction handleStartDateChange(value: Date) {\n  if (value != null) {\n    if (value.getTime() !== startDateObj.value?.getTime()) {\n      startDateObj.value = value;\n      // Convert to timestamp and update composable\n      const timestamp = setToMidnight(value);\n      setStartTimestampInternal(timestamp);\n      startDateCalendar.value?.closeMenu();\n    }\n  }\n}\n\nfunction handleEndDateChange(value: Date) {\n  if (value != null) {\n    if (value.getTime() !== endDateObj.value?.getTime()) {\n      endDateObj.value = value;\n      // Convert to timestamp and update composable\n      const timestamp = setToEndOfDay(value);\n      setEndTimestampInternal(timestamp);\n      endDateCalendar.value?.closeMenu();\n    }\n  }\n}\n\nfunction handleSingleDateChange(value: Date) {\n  if (value && value.getTime() !== singleDateObj.value?.getTime()) {\n    singleDateObj.value = value;\n    setSingleDateTimestamp(value.getTime());\n    singleDateCalendar.value?.closeMenu();\n  }\n}\n\n// Formatting functions\n// Formatting functions moved to useTimezone composable\n\n// === LIFECYCLE HOOKS ===\nonMounted(() => {\n  // Initialize default dates\n  if (props.defaultStartDate) {\n    startDateObj.value = props.defaultStartDate;\n    const timestamp = setToMidnight(props.defaultStartDate);\n    setStartTimestampInternal(timestamp);\n  }\n  if (props.defaultEndDate) {\n    endDateObj.value = props.defaultEndDate;\n    const timestamp = setToEndOfDay(props.defaultEndDate);\n    setEndTimestampInternal(timestamp);\n  } else {\n    // Default end date to today\n    const today = new Date();\n    endDateObj.value = today;\n    const timestamp = setToEndOfDay(today);\n    setEndTimestampInternal(timestamp);\n  }\n  \n  // Initialize weekday start date\n  if (weekdayStartDate.value) {\n    weekdayStartDateObj.value = new Date(weekdayStartDate.value + 'T00:00:00');\n  }\n\n  if (singleDate.value > 0 && !singleDateObj.value) {\n    singleDateObj.value = new Date(singleDate.value);\n  }\n});\n\n// === WATCHERS ===\n// Watch for prop changes and update refs\nwatch(() => props.currentDate, (newDate) => {\n  currentDateRef.value = newDate;\n});\n\nwatch(() => props.selectedTimezone, (newTimezone) => {\n  timezoneRef.value = newTimezone;\n});\n\n// Keep weekdayStartDateObj in sync with the composable's weekdayStartDate\nwatch(() => weekdayStartDate.value, (newDateString) => {\n  const newDate = newDateString ? new Date(newDateString + 'T00:00:00') : null;\n  if (newDate?.getTime() !== weekdayStartDateObj.value?.getTime()) {\n    weekdayStartDateObj.value = newDate;\n  }\n});\n\n// Keep singleDateObj in sync with the composable's singleDate\nwatch(() => singleDate.value, (newTs) => {\n  if (newTs > 0) {\n    const newDate = new Date(newTs);\n    if (newDate.getTime() !== singleDateObj.value?.getTime()) {\n      singleDateObj.value = newDate;\n    }\n  } else {\n    singleDateObj.value = null;\n  }\n});\n\n// Sync date objects with composable timestamps (one-way: composable → UI)\nwatch(() => startDate.value, (newTimestamp) => {\n  const newDate = newTimestamp > 0 ? new Date(newTimestamp) : null;\n  if (newDate?.getTime() !== startDateObj.value?.getTime()) {\n    startDateObj.value = newDate;\n  }\n});\n\nwatch(() => endDate.value, (newTimestamp) => {\n  const newDate = newTimestamp > 0 ? new Date(newTimestamp) : null;\n  if (newDate?.getTime() !== endDateObj.value?.getTime()) {\n    endDateObj.value = newDate;\n  }\n});\n\n// Ranges are now only emitted when the Update Custom Range button is clicked\n</script>\n\n<style scoped>\n/* === COMPONENT STYLES === */\n.datetime-range-selector {\n  /* Component-specific styles can be added here */\n}\n\n/* === SECTION STYLES === */\n.weekday-pattern-section,\n.date-range-section,\n.single-date-section {\n  /* Section-specific styles */\n}\n\n\n/* === INPUT STYLES === */\n.time-input {\n  width: 100%;\n  padding: 8px 12px;\n  border: 1px solid rgba(255, 255, 255, 0.23);\n  border-radius: 4px;\n  background: transparent;\n  color: inherit;\n  font-family: inherit;\n  font-size: 14px;\n  transition: border-color 0.2s ease, box-shadow 0.2s ease;\n}\n\n.time-input:focus {\n  outline: none;\n  border-color: rgb(var(--v-theme-primary));\n  box-shadow: 0 0 0 2px rgba(var(--v-theme-primary), 0.2);\n}\n\n</style>\n","import script from \"./DateTimeRangeSelection.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./DateTimeRangeSelection.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./DateTimeRangeSelection.vue?vue&type=style&index=0&id=91fe8a8e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-91fe8a8e\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass } from \"vue\"\n\nconst _hoisted_1 = { class: \"time-chips-container\" }\nconst _hoisted_2 = { class: \"chips-grid\" }\nconst _hoisted_3 = [\"onClick\"]\nconst _hoisted_4 = { class: \"chip-content\" }\nconst _hoisted_5 = {\n  key: 0,\n  class: \"chip-date\"\n}\nconst _hoisted_6 = {\n  key: 1,\n  class: \"chip-time\"\n}\n\nimport { computed } from 'vue';\n\ninterface Props {\n  timestamps: number[]\n  selectedIndex?: number\n  reverse?: boolean,\n  useUtc?: boolean,\n  dateOnly?: boolean\n  hourOnly?: boolean\n}\n\ninterface Emits {\n  (e: 'select', payload: { value: number; index: number }): void\n}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'TimeChips',\n  props: {\n    timestamps: {},\n    selectedIndex: { default: -1 },\n    reverse: { type: Boolean, default: false },\n    useUtc: { type: Boolean, default: false },\n    dateOnly: { type: Boolean, default: false },\n    hourOnly: { type: Boolean, default: false }\n  },\n  emits: [\"select\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props;\n\nconst emit = __emit;\n\n\nconst formatDate = (timestamp: number): string => {\n  if (props.useUtc) {\n    const date = new Date(timestamp);\n    timestamp = date.getTime() + date.getTimezoneOffset() * 60*1000; // Adjust for UTC offset\n  }\n  const date = new Date(timestamp);\n  return date.toLocaleDateString('en-US', {\n    month: 'short',\n    year: 'numeric'\n  });\n};\n\nconst formatTime = (timestamp: number): string => {\n  if (props.useUtc) {\n    const date = new Date(timestamp);\n    timestamp = date.getTime() + date.getTimezoneOffset() * 60*1000; // Adjust for UTC offset\n  }\n  const date = new Date(timestamp);\n  return date.toLocaleTimeString('en-US', {\n    hour: '2-digit',\n    minute: '2-digit',\n    hour12: true\n  });\n};\n\n\n\nconst timestampsComputed = computed(() => \n  props.reverse ? [...props.timestamps].sort((a,b) => b-a) : [...props.timestamps].sort((a,b) => a-b)\n);\n\nconst formattedDates = computed(() => \n  timestampsComputed.value.map(timestamp => formatDate(timestamp))\n);\n\nconst formattedTimes = computed(() => \n  timestampsComputed.value.map(timestamp => formatTime(timestamp))\n);\nconst handleChipClick = (value: number, index: number) => {\n  emit('select', { value, index });\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(timestampsComputed.value, (timestamp, index) => {\n        return (_openBlock(), _createElementBlock(\"button\", {\n          key: timestamp,\n          class: _normalizeClass([\n          'time-chip',\n          { 'active': index === _ctx.selectedIndex }\n        ]),\n          onClick: ($event: any) => (handleChipClick(timestamp, index))\n        }, [\n          _createElementVNode(\"div\", _hoisted_4, [\n            (!_ctx.hourOnly)\n              ? (_openBlock(), _createElementBlock(\"span\", _hoisted_5, _toDisplayString(formattedDates.value[index]), 1))\n              : _createCommentVNode(\"\", true),\n            (!_ctx.dateOnly)\n              ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, _toDisplayString(formattedTimes.value[index]), 1))\n              : _createCommentVNode(\"\", true)\n          ])\n        ], 10, _hoisted_3))\n      }), 128))\n    ])\n  ]))\n}\n}\n\n})","<script setup lang=\"ts\">\nimport { computed } from 'vue';\n\ninterface Props {\n  timestamps: number[]\n  selectedIndex?: number\n  reverse?: boolean,\n  useUtc?: boolean,\n  dateOnly?: boolean\n  hourOnly?: boolean\n}\n\ninterface Emits {\n  (e: 'select', payload: { value: number; index: number }): void\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  selectedIndex: -1,\n  reverse: false,\n  useUtc: false,\n  dateOnly: false,\n  hourOnly: false\n});\n\nconst emit = defineEmits<Emits>();\n\n\nconst formatDate = (timestamp: number): string => {\n  if (props.useUtc) {\n    const date = new Date(timestamp);\n    timestamp = date.getTime() + date.getTimezoneOffset() * 60*1000; // Adjust for UTC offset\n  }\n  const date = new Date(timestamp);\n  return date.toLocaleDateString('en-US', {\n    month: 'short',\n    year: 'numeric'\n  });\n};\n\nconst formatTime = (timestamp: number): string => {\n  if (props.useUtc) {\n    const date = new Date(timestamp);\n    timestamp = date.getTime() + date.getTimezoneOffset() * 60*1000; // Adjust for UTC offset\n  }\n  const date = new Date(timestamp);\n  return date.toLocaleTimeString('en-US', {\n    hour: '2-digit',\n    minute: '2-digit',\n    hour12: true\n  });\n};\n\n\n\nconst timestampsComputed = computed(() => \n  props.reverse ? [...props.timestamps].sort((a,b) => b-a) : [...props.timestamps].sort((a,b) => a-b)\n);\n\nconst formattedDates = computed(() => \n  timestampsComputed.value.map(timestamp => formatDate(timestamp))\n);\n\nconst formattedTimes = computed(() => \n  timestampsComputed.value.map(timestamp => formatTime(timestamp))\n);\nconst handleChipClick = (value: number, index: number) => {\n  emit('select', { value, index });\n};\n</script>\n\n<template>\n  <div class=\"time-chips-container\">\n    <div class=\"chips-grid\">\n      <button\n        v-for=\"(timestamp, index) in timestampsComputed\"\n        :key=\"timestamp\"\n        :class=\"[\n          'time-chip',\n          { 'active': index === selectedIndex }\n        ]\"\n        @click=\"handleChipClick(timestamp, index)\"\n      >\n        <div class=\"chip-content\">\n          <span \n            v-if=\"!hourOnly\"\n            class=\"chip-date\">{{ formattedDates[index] }}</span>\n          <span \n            v-if=\"!dateOnly\"\n            class=\"chip-time\">{{ formattedTimes[index] }}</span>\n        </div>\n      </button>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.time-chips-container {\n  width: 100%;\n  max-height: 300px;\n  background: transparent;\n  border-radius: 8px;\n  padding: 12px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  border: 1px solid #e5e7eb;\n  overflow: hidden;\n}\n\n.chips-grid {\n  /* display: grid; */\n  /* grid-template-columns: repeat(5, 1fr); */\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-evenly;\n  gap: 8px;\n  max-height: 276px;\n  overflow-y: auto;\n}\n\n\n\n.time-chip {\n  flex-basis: 15%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: fit-content;\n  padding: 8px;\n  background: #f8fafc;\n  border: 1px solid #e2e8f0;\n  border-radius: 8px;\n  color: #475569;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  outline: none;\n  user-select: none;\n}\n\n.time-chip:hover {\n  background: #8cc5ff;\n  border-color: #cbd5e1;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n}\n\n.time-chip:active {\n  background: #8cc5ff;\n}\n\n.time-chip.active {\n  background: #3b82f6;\n  border-color: #3b82f6;\n  color: #ffffff;\n  box-shadow: 0 2px 12px rgba(59, 130, 246, 0.3);\n}\n\n.time-chip.active:hover {\n  background: #2563eb;\n  border-color: #2563eb;\n}\n\n.chip-content {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 2px;\n  text-align: center;\n  line-height: 1.2;\n}\n\n.chip-date {\n  font-size: 11px;\n  font-weight: 600;\n  opacity: 0.9;\n}\n\n.chip-time {\n  font-size: 10px;\n  font-weight: 500;\n  opacity: 0.8;\n}\n\n.time-chip.active .chip-date,\n.time-chip.active .chip-time {\n  opacity: 1;\n}\n\n@media (max-width: 768px) {\n  .time-chips-container {\n    padding: 8px;\n    max-height: 250px;\n  }\n  \n  .chips-grid {\n    grid-template-columns: repeat(3, 1fr);\n    gap: 6px;\n    max-height: 234px;\n  }\n  \n  .time-chip {\n    height: 48px;\n    padding: 6px;\n  }\n  \n  .chip-date {\n    font-size: 10px;\n  }\n  \n  .chip-time {\n    font-size: 9px;\n  }\n}\n</style>","import script from \"./TimeChips.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./TimeChips.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./TimeChips.vue?vue&type=style&index=0&id=20cd57df&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-20cd57df\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withKeys as _withKeys, mergeProps as _mergeProps, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport { ref } from 'vue';\n\nexport default /*@__PURE__*/_defineComponent({\n  ...{ inheritAttrs: false },\n  __name: 'CTextField',\n  props: {\n    title: {},\n    label: {},\n    buttonColor: {},\n    confirmText: { default: 'Done' },\n    minWidth: { default: 300 },\n    width: { default: '50%' }\n  },\n  emits: [\"update:modelValue\", \"confirm\", \"cancel\"],\n  setup(__props: any, { emit: __emit }) {\n\n\n\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst props = __props;\n\n// const modelValue = defineModel('modelValue', { type: String, required: true });\n\nconst emit = __emit;\n\nconst local = ref('');\n// watch(modelValue, v => { \n//   if (v !== local.value) {\n//     local.value = v; \n//   }\n// });\n\n// don't update the model value\n// watch(local, v => emit('update:modelValue', v));\n\nfunction onConfirm() {\n  if (!local.value.trim()) return;\n  emit('confirm', local.value.trim());\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_card_title = _resolveComponent(\"v-card-title\")!\n  const _component_v_text_field = _resolveComponent(\"v-text-field\")!\n  const _component_v_spacer = _resolveComponent(\"v-spacer\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_card_actions = _resolveComponent(\"v-card-actions\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n\n  return (_openBlock(), _createBlock(_component_v_card, {\n    class: \"mx-auto px-3 py-2\",\n    \"min-width\": _ctx.minWidth,\n    width: _ctx.width\n  }, {\n    default: _withCtx(() => [\n      _renderSlot(_ctx.$slots, \"title\", {}, () => [\n        _createVNode(_component_v_card_title, null, {\n          default: _withCtx(() => [\n            _createTextVNode(_toDisplayString(_ctx.title), 1)\n          ]),\n          _: 1\n        })\n      ]),\n      _createVNode(_component_v_text_field, _mergeProps({ class: \"mb-2 px-2\" }, _ctx.$attrs, {\n        modelValue: local.value,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((local).value = $event)),\n        label: _ctx.label,\n        \"hide-details\": \"\",\n        autofocus: \"\",\n        onKeyup: _withKeys(onConfirm, [\"enter\"])\n      }), null, 16, [\"modelValue\", \"label\"]),\n      _createVNode(_component_v_card_actions, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_spacer),\n          _createVNode(_component_v_btn, {\n            variant: \"text\",\n            onClick: _cache[1] || (_cache[1] = ($event: any) => (emit('cancel')))\n          }, {\n            default: _withCtx(() => [...(_cache[2] || (_cache[2] = [\n              _createTextVNode(\"Cancel\", -1)\n            ]))]),\n            _: 1\n          }),\n          _createVNode(_component_v_btn, {\n            color: _ctx.buttonColor,\n            variant: \"flat\",\n            disabled: !local.value.trim(),\n            onClick: onConfirm\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(_ctx.confirmText), 1)\n            ]),\n            _: 1\n          }, 8, [\"color\", \"disabled\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _: 3\n  }, 8, [\"min-width\", \"width\"]))\n}\n}\n\n})","<template>\n  <v-card \n    class=\"mx-auto px-3 py-2\" \n    :min-width=\"minWidth\" \n    :width=\"width\"\n    >\n    <slot name=\"title\">\n      <v-card-title>\n        {{ title }}\n      </v-card-title>\n    </slot>\n    <v-text-field\n      class=\"mb-2 px-2\"\n      v-bind=\"$attrs\"\n      v-model=\"local\"\n      :label=\"label\"\n      hide-details\n      autofocus\n      @keyup.enter=\"onConfirm\"\n    />\n    <v-card-actions>\n      <v-spacer />\n      <v-btn variant=\"text\" @click=\"emit('cancel')\">Cancel</v-btn>\n      <v-btn\n        :color=\"buttonColor\"\n        variant=\"flat\"\n        :disabled=\"!local.trim()\"\n        @click=\"onConfirm\"\n      >{{ confirmText }}</v-btn>\n    </v-card-actions>\n    \n  </v-card>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from 'vue';\ndefineOptions({ inheritAttrs: false });\n\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst props = withDefaults(defineProps<{\n  title?: string;\n  label?: string;\n  buttonColor?: string;\n  confirmText?: string;\n  minWidth?: string | number;\n  width?: string | number;\n}>(), {\n  confirmText: 'Done',\n  minWidth: 300,\n  width: '50%',\n});\n\n// const modelValue = defineModel('modelValue', { type: String, required: true });\n\nconst emit = defineEmits<{\n  (e:'update:modelValue', v:string): void;\n  (e:'confirm', v:string): void;\n  (e:'cancel'): void;\n}>();\n\nconst local = ref('');\n// watch(modelValue, v => { \n//   if (v !== local.value) {\n//     local.value = v; \n//   }\n// });\n\n// don't update the model value\n// watch(local, v => emit('update:modelValue', v));\n\nfunction onConfirm() {\n  if (!local.value.trim()) return;\n  emit('confirm', local.value.trim());\n}\n</script>","import script from \"./CTextField.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./CTextField.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { Ref, ref, onMounted, onUnmounted } from 'vue';\nimport M, { Map, AttributionControl } from 'maplibre-gl';\nimport { InitMapOptions, LatLngPair } from '@/types';\n\n\nconst scale = window.devicePixelRatio;\nconst retinaParam = scale > 1 ? '@2x' : '';\n\nexport interface MapLibreComposable {\n    map: Ref<M.Map | null>;\n    createMap: () => Ref<M.Map>;\n    setView: (latlng: LatLngPair, zoom: number) => void;\n    resetView: () => void;\n    cleanupMap: () => void;\n    getCenter: () => M.LngLat;\n  }\n  \n\n  \nexport function useMap(id=\"map\", options: InitMapOptions, _showRoads: Ref<boolean>, onReady?: (map: M.Map) => void): MapLibreComposable {\n  // Something to know about MatLibre it likes longitude, latitude as opposed\n  // to leaflet which uses latitude, longitude\n  // this is where our map will be\n  const map = ref<M.Map | null>(null);\n  \n  async function addStates(map: M.Map) {\n    fetch(\"states.geojson\")\n      .then(response => response.json())\n      .then(data => {\n        map.addSource('states-custom', {\n          'type': 'geojson',\n          'data': data\n        });\n        map.addLayer({\n          'id': 'states-custom',\n          'type': 'line',\n          'source': 'states-custom',\n          'paint': {\n            'line-color': 'black',\n            'line-width': 0.5,\n            'line-opacity': 0.8,\n          }\n        });\n      });\n  }\n  \n  async function addCoastlines(map: M.Map) {\n    fetch(\"coastlines.geojson\")\n      .then(response => response.json())\n      .then(data => {\n        map.addSource('coastline-custom', {\n          'type': 'geojson',\n          'data': data\n        });\n        map.addLayer({\n          'id': 'coastline-custom',\n          'type': 'line',\n          'source': 'coastline-custom',\n          'paint': {\n            'line-color': 'black',\n            'line-width': 1,\n            'line-opacity': 0.8,\n          }\n        });\n      });\n  }\n  \n  \n  \n  function addLabels(map: M.Map) {\n    map.addSource('stamen-toner-labels', {\n      type: 'raster',\n      tiles: [`https://tiles.stadiamaps.com/tiles/stamen_toner_labels/{z}/{x}/{y}${retinaParam}.png`],\n      tileSize: 256,\n    });\n\n    map.addLayer({\n      id: 'stamen-toner-labels',\n      type: 'raster',\n      source: 'stamen-toner-labels',\n      minzoom: 0,\n      maxzoom: 20\n    });\n    \n    map.moveLayer('stamen-toner-labels');\n  }\n  \n  function setupMap() {\n    if (map.value === null) return;\n    \n    // Need to use weird type assertion to avoid\n    // Type instantiation is excessively deep and possibly infinite.ts(2589)\n    // See discussion here https://github.com/mapbox/mapbox-gl-js/issues/13203#issuecomment-2634013147\n    const libreMap = map.value as unknown as M.Map;\n    addCoastlines(libreMap);\n    addStates(libreMap);\n    addLabels(libreMap);\n    \n    \n    if (onReady !== undefined) {\n      onReady(libreMap);\n    }\n  }\n\n  function cleanupMap() {\n    if (map.value) {\n      map.value.remove();\n      map.value = null;\n    }\n  }\n  \n  // { MapLibre Demo Tiles\n  //   container: id,\n  //   style: 'https://demotiles.maplibre.org/style.json', // style URL\n  //   center: options.loc ? [options.loc[1], options.loc[0]] : [0, 0], // starting position [lng, lat]\n  //   zoom: options.zoom ?? 1 // starting zoom\n  // }\n  \n  // { \n  //   container: id,\n  //   style: 'https://tiles.openfreemap.org/styles/liberty', // style URL\n  //   center: options.loc ? [options.loc[1], options.loc[0]] : [0, 0], // starting position [lng, lat]\n  //   zoom: options.zoom ?? 1, // starting zoom,\n  //   attributionControl: false\n  // }\n  \n  // { CartoDB Positron\n  //   container: id,\n  //   style: 'https://{s}.basemaps.cartocdn.com/mapboxgl/style_tpl.json', // style URL\n  //   center: options.loc ? [options.loc[1], options.loc[0]] : [0, 0], // starting position [lng, lat]\n  //   zoom: options.zoom ?? 1 // starting zoom\n  // }  \n  // https://github.com/CartoDB/basemap-styles other \"basemap\" styles\n  function createMap(): Ref<M.Map> {\n    const _map = new M.Map({\n      container: id,\n      // style: 'https://tiles.openfreemap.org/styles/liberty', // style URL\n      style: 'https://basemaps.cartocdn.com/gl/positron-nolabels-gl-style/style.json',\n      center: options.loc ? [options.loc[1], options.loc[0]] : [0, 0], // starting position [lng, lat]\n      zoom: options.zoom ?? 1, // starting zoom,\n      attributionControl: false\n    }).addControl(new AttributionControl({\n      compact: true,\n    }));\n    \n    _map.on('style.load', setupMap);\n    \n    map.value = _map;\n    return map as unknown as Ref<M.Map>;\n  }\n\n  function setView(latlng: LatLngPair, zoom: number) {\n    if (map.value) {\n      map.value.setCenter([latlng[1], latlng[0]]);\n      map.value.setZoom(zoom);\n    }\n  }\n  \n  function getCenter() {\n    if (map.value) {\n      return map.value.getCenter();\n    }\n  }\n  \n  // function getZoom() {\n  //   if (map.value) {\n  //     return map.value.getZoom();\n  //   }\n  // }\n  \n  function resetView() {\n    if (map.value) {\n      setView(options.loc, options.zoom);\n    }\n  }\n  \n  onMounted(() => {\n    \n  });\n\n  onUnmounted(() => {\n    cleanupMap();\n  });\n\n  return {\n    map: map as Ref<M.Map | null>,\n    createMap,\n    setView,\n    resetView,\n    cleanupMap,\n    getCenter\n  } as MapLibreComposable;\n}\n","import { IControl, Map } from \"maplibre-gl\";\nimport { LngLatPair } from \"@/types\";\n\nexport class CDSMaplibreHomeTool implements IControl {\n  private _container: HTMLElement | undefined;\n  private _button: HTMLButtonElement | undefined;\n  private _homeIcon: HTMLImageElement | undefined;\n  private _map: Map | undefined;\n  private _centerLonLat: [number, number];\n  private _zoom: number;\n  private _onHome: CallableFunction;\n    \n  constructor(centerLonLat: LngLatPair, zoom: number, onHome: CallableFunction ) {\n    this._centerLonLat = centerLonLat;\n    this._zoom = zoom;\n    this._onHome = onHome;\n  }\n    \n  onAdd(map: Map): HTMLElement {\n    \n    this._map = map;\n    this._container = document.createElement('div');\n    this._container.className = 'maplibregl-ctrl maplibregl-ctrl-group maplibre-control-cds-home';\n    \n    this._button = document.createElement('button');\n    this._button.className = 'maplibregl-ctrl-icon maplibre-control-cds-home-button';\n    this._button.type = 'button';\n    this._button.title = 'Home';\n    this._button.addEventListener('click', this._goHome.bind(this));\n    \n    this._homeIcon = document.createElement('img');\n    this._homeIcon.style.padding = '5px';\n    // SVG icon from Font Awesome https://fontawesome.com/icons/house?f=classic&s=solid (free one)\n    const svg = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 576 512\"><!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d=\"M575.8 255.5c0 18-15 32.1-32 32.1l-32 0 .7 160.2c0 2.7-.2 5.4-.5 8.1l0 16.2c0 22.1-17.9 40-40 40l-16 0c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1L416 512l-24 0c-22.1 0-40-17.9-40-40l0-24 0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32l0 64 0 24c0 22.1-17.9 40-40 40l-24 0-31.9 0c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2l-16 0c-22.1 0-40-17.9-40-40l0-112c0-.9 0-1.9 .1-2.8l0-69.7-32 0c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z\"/></svg>';\n    this._homeIcon.src = `data:image/svg+xml,${encodeURIComponent(svg)}`;\n    \n    this._button.appendChild(this._homeIcon);\n    this._container.appendChild(this._button);\n    \n    return this._container;\n  }\n  \n  onRemove(): void {\n    // remove the event listener & element\n    this._container?.removeEventListener('click', this._goHome);\n    if (this._container && this._container.parentNode) {\n      this._container.parentNode.removeChild(this._container);\n    }\n  }\n  \n  _goHome() {\n    if (this._map) {\n      this._map.flyTo({\n        center: this._centerLonLat,\n        zoom: this._zoom\n      });\n      this._onHome();\n    }\n  }\n    \n    \n}","import { Ref, ref, watch } from 'vue';\nimport { Map, NavigationControl } from 'maplibre-gl';\nimport 'maplibre-gl/dist/maplibre-gl.css';\nimport { CDSMaplibreHomeTool } from './MaplibreHomeTool';\nimport { LatLngPair, LngLatPair } from '@/types';\n\nexport function usezoomhome(map: Ref<Map | null>, home: LatLngPair, zoom: number, callback: CallableFunction = () => null) {\n\n  const startingCenter = [home[1], home[0]] as LngLatPair;\n  const zoomHome: Ref<null | CDSMaplibreHomeTool> = ref(null);\n  \n\n  \n  function createControl() {\n    const control = new CDSMaplibreHomeTool(startingCenter, zoom, callback);\n    return control;\n  }\n  \n  \n  if (map.value !== null) {\n    map.value.addControl(new NavigationControl({showCompass: false}), 'top-left');\n    zoomHome.value = createControl();\n    map.value.addControl(zoomHome.value, 'top-left');\n  }\n  \n  watch(map, (newValue) => {\n    if (newValue !== null) {\n      newValue.addControl(new NavigationControl({showCompass: false}), 'top-left');\n      zoomHome.value = createControl();\n      newValue.addControl(zoomHome.value, 'top-left');\n    }\n  });\n  \n  \n  return zoomHome.value;\n\n}\n","import {ref, watch, Ref, onUnmounted} from 'vue';\n\n\nimport fieldOfRegard from \"@/assets/TEMPO_FOR.json\";\nimport augustFieldOfRegard from \"@/assets/august_for.json\";\n\n\nimport M from 'maplibre-gl';\n\nexport interface MaplibreFieldOfRegardComposable {\n  addFieldOfRegard: () => void;\n  showFieldOfRegard: Ref<boolean>;\n  updateFieldOfRegard: () => void;\n  fieldOfRegardLayer: Ref<M.GeoJSONSource | null>;\n}\n\nexport function useFieldOfRegard(\n  date: Ref<Date | null>,\n  map: Ref<M.Map | null>\n): MaplibreFieldOfRegardComposable {\n\n  const showFieldOfRegard = ref(true);\n  let usingAugust = true as boolean | null;\n  const fieldOfRegardLayer = ref<M.GeoJSONSource | null>(null);\n  const fieldOfRegardLayerId = 'field-of-regard';\n\n\n  function createFoRLayer() {\n    if (!map.value) {\n      console.warn(\"Map is not initialized, cannot create Field of Regard layer.\");\n      return;\n    }\n    // Create the Source if it doesn't exist\n    let source = map.value.getSource(fieldOfRegardLayerId);\n    if (source === undefined) {\n      map.value.addSource(fieldOfRegardLayerId, {\n        'type': 'geojson',\n        data: fieldOfRegard as GeoJSON.GeometryCollection,\n      });\n\n      source = map.value.getSource(fieldOfRegardLayerId);\n    }\n\n    // Create the layer if it doesn't exist\n    let layer = map.value.getLayer(fieldOfRegardLayerId);\n    if (layer === undefined) {\n      map.value.addLayer({\n        id: fieldOfRegardLayerId,\n        type: 'line',\n        source: fieldOfRegardLayerId,\n        paint: {\n          \"line-color\": \"#c10124\",\n          \"line-width\": 1,\n          \"line-opacity\": 0.8,\n        }\n      });\n\n      layer = map.value.getLayer(fieldOfRegardLayerId);\n    }\n\n    if (source) {\n      fieldOfRegardLayer.value = source as M.GeoJSONSource;\n    }\n  }\n\n  function clearFoR() {\n    if (fieldOfRegardLayer.value) {\n      if (fieldOfRegardLayer.value.map.getLayer(fieldOfRegardLayerId)) {\n        fieldOfRegardLayer.value.map\n          .removeLayer(fieldOfRegardLayerId)\n          .removeSource(fieldOfRegardLayerId);\n      }\n    }\n  }\n\n\n  function updateFieldOfRegard() {\n\n    if (date.value !== null && date.value.getUTCFullYear() === 2023 && date.value.getUTCMonth() === 7) {\n      fieldOfRegardLayer.value?.setData(augustFieldOfRegard as GeoJSON.GeometryCollection);\n      usingAugust = true;\n    } else {\n      if (usingAugust) { // only want this to run if it has to\n        fieldOfRegardLayer.value?.setData(fieldOfRegard as GeoJSON.GeometryCollection);\n        usingAugust = false;\n      }\n    }\n  }\n\n  function addFieldOfRegard() {\n    if (showFieldOfRegard.value && map.value) {\n      if (map.value.loaded()) {\n        createFoRLayer();\n      } else {\n        map.value.on('style.load', () => {\n          createFoRLayer();\n        });\n      }\n    }\n  }\n\n  watch(showFieldOfRegard, (show: boolean) => {\n    if (show) {\n      createFoRLayer();\n    } else if (map.value) {\n      clearFoR();\n    }\n  });\n\n  watch(date, updateFieldOfRegard);\n\n\n  onUnmounted(() => {\n    if (map.value) {\n      clearFoR();\n    }\n  });\n\n  return {\n    addFieldOfRegard,\n    showFieldOfRegard,\n    updateFieldOfRegard,\n    fieldOfRegardLayer: fieldOfRegardLayer as Ref<M.GeoJSONSource | null>,\n  };\n}\n","import {Ref, ref, watch} from 'vue';\nimport M, {Marker} from 'maplibre-gl';\nimport { LatLngPair } from '@/types';\n\n\nexport interface MaplibreLocationMarker {\n  locationMarker: Ref<M.Marker | null>;\n  setMarker: (latlng: LatLngPair) => void;\n  removeMarker: () => void;\n  showLocationMarker: Ref<boolean>;\n}\n\nexport function useLocationMarker( map: Ref<M.Map | null>, show: boolean): MaplibreLocationMarker {\n  \n  const showLocationMarker = ref(show);\n  const locationMarker = ref<null | Marker>(null);\n  \n  \n  const addToMap = () => {\n    if (locationMarker.value !== null && map.value !== null) {\n      locationMarker.value.addTo(map.value);\n    }\n  };\n  \n  function setMarker(latlng: LatLngPair) {\n    if (!map.value) return ;\n    \n    const lnglat = [latlng[1], latlng[0]] as M.LngLatLike;\n    \n    if (locationMarker.value == null) {\n      \n      locationMarker.value = new M.Marker()\n        .setLngLat(lnglat);\n      \n    } else {\n      locationMarker.value.setLngLat(lnglat);\n    }\n    \n    if (showLocationMarker.value) {\n      addToMap();\n    }\n  }\n  \n  function removeMarker() {\n    locationMarker.value?.remove();\n  }\n  \n  watch(showLocationMarker, (show: boolean) => {\n    if (show) {\n      addToMap();\n    } else {\n      removeMarker();\n    }\n  });\n  \n  return {\n    locationMarker: locationMarker as Ref<M.Marker | null>,\n    setMarker,\n    removeMarker,\n    showLocationMarker\n  };\n}","import { onMounted, onUnmounted, ref, watch } from \"vue\";\nimport { Map, MapMouseEvent } from \"maplibre-gl\";\n\nimport { UseSelectionOptions } from \"../../types\";\n\nexport function baseUseSelection<SelectionInfo>(\n  options: UseSelectionOptions<Map, MapMouseEvent, SelectionInfo>,\n) {\n\n  const { map, handler, startActive } = options;\n  const active = ref(startActive ?? false);\n\n  onMounted(() => {\n    const mMap = map.value;\n    if (active.value && mMap) {\n      updateListeners(mMap, active.value);\n    }\n  });\n\n  function updateListeners(map: Map, active: boolean) {\n    if (active) {\n      map.dragPan.disable();\n      map.scrollZoom.disable();\n      if (handler.onMousedown) {\n        map.on(\"mousedown\", handler.onMousedown);\n      }\n      if (handler.onMouseup) {\n        map.on(\"mouseup\", handler.onMouseup);\n      }\n      if (handler.onMousemove) {\n        map.on(\"mousemove\", handler.onMousemove);\n      }\n    } else {\n      map.dragPan.enable();\n      map.scrollZoom.enable();\n      if (handler.onMousedown) {\n        map.off(\"mousedown\", handler.onMousedown);\n      }\n      if (handler.onMouseup) {\n        map.off(\"mouseup\", handler.onMouseup);\n      }\n      if (handler.onMousemove) {\n        map.off(\"mousemove\", handler.onMousemove);\n      }\n    }\n  }\n\n  watch(active, (nowActive: boolean) => {\n    const mMap = map.value;\n    if (mMap !== null) {\n      updateListeners(mMap, nowActive);\n      mMap.getCanvas().style.cursor = nowActive ? 'crosshair' : '';\n    }\n  });\n\n  // If we're going to take in the map as a ref,\n  // we might as well update if its value does\n  watch(map, (newMap: Map | null) => {\n    if (newMap !== null) {\n      updateListeners(newMap, active.value);\n    }\n  });\n\n  onUnmounted(() => {\n    // The map will probably be destroyed along with the component using this composable\n    // But if not, we should remove handlers\n    const mMap = map.value;\n    if (mMap !== null && active.value) {\n      updateListeners(mMap, false);\n    }\n  });\n\n  return {\n    active,\n    selectionInfo: handler.selectionInfo,\n  };\n\n}\n","import { ref, type Ref } from \"vue\";\nimport { GeoJSONSource, LngLat, Map, MapMouseEvent } from \"maplibre-gl\";\nimport { v4 } from \"uuid\";\n\nimport type { RectangleSelectionInfo, SelectionHandler } from \"../../types\";\nimport type { LayerType } from \"./utils\";\nimport { baseUseSelection } from \"./baseUseSelection\";\n\n\nexport function useRectangleSelection(\n  map: Ref<Map | null>,\n  interactColor: string = \"yellow\",\n  startActive: boolean = false,\n) {\n\n  let rectangleSource: GeoJSONSource | null = null;\n  let rectangleLayer: LayerType | undefined = undefined;\n  let startCoords: LngLat | null = null;\n  let geoJson: GeoJSON.FeatureCollection;\n  const uuid = v4();\n\n  const handler: SelectionHandler<MapMouseEvent, RectangleSelectionInfo> = {\n\n    selectionInfo: ref<RectangleSelectionInfo | null>(null),\n\n    onMousedown(event: MapMouseEvent) {\n      const mMap = map.value;\n      if (!mMap) {\n        return;\n      }\n\n      startCoords = event.lngLat;\n      geoJson = {\n        type: \"FeatureCollection\",\n        features: [{\n          type: \"Feature\",\n          geometry: {\n            type: \"Polygon\",\n            coordinates: [[\n              [startCoords.lng, startCoords.lat],\n              [startCoords.lng, startCoords.lat],\n              [startCoords.lng, startCoords.lat],\n              [startCoords.lng, startCoords.lat],\n            ]],\n          },\n          properties: {},\n        }],\n      };\n\n      mMap.addSource(uuid, {\n        type: \"geojson\",\n        data: geoJson,\n      });\n\n      const source = mMap.getSource(uuid);\n      if (!source) {\n        return;\n      }\n\n      rectangleSource = source as GeoJSONSource;\n\n      mMap.addLayer({\n        id: uuid,\n        type: \"line\",\n        source: uuid,\n        paint: {\n          \"line-color\": interactColor,\n          \"line-width\": 2,\n          \"line-dasharray\": [2, 1],\n        }\n      });\n\n      const layer = mMap.getLayer(uuid);\n      if (layer) {\n        rectangleLayer = layer;\n      }\n    },\n\n    onMouseup(event: MapMouseEvent) {\n      const mMap = map.value;\n      if (!mMap || startCoords === null) {\n        return;\n      }\n\n      const eventCoords = event.lngLat;\n      handler.selectionInfo.value = {\n        xmin: Math.min(startCoords.lng, eventCoords.lng),\n        ymin: Math.min(startCoords.lat, eventCoords.lat),\n        xmax: Math.max(startCoords.lng, eventCoords.lng),\n        ymax: Math.max(startCoords.lat, eventCoords.lat),\n      };\n\n      if (rectangleLayer) {\n        mMap.removeLayer(rectangleLayer.id);\n      }\n      if (rectangleSource) {\n        mMap.removeSource(rectangleSource.id);\n      }\n      startCoords = null;\n\n    },\n\n    onMousemove(event: MapMouseEvent) {\n      const mMap = map.value;\n      if (!mMap || (startCoords === null) || (!geoJson)) {\n        return;\n      }\n\n      const eventCoords = event.lngLat;\n      const coordinates = [[\n        [startCoords.lng, startCoords.lat],\n        [eventCoords.lng, startCoords.lat],\n        [eventCoords.lng, eventCoords.lat],\n        [startCoords.lng, eventCoords.lat],\n        [startCoords.lng, startCoords.lat],\n      ]];\n\n      geoJson.features[0] = {\n        ...geoJson.features[0],\n        geometry: {\n          type: \"Polygon\",\n          coordinates,\n        }\n      };\n\n      rectangleSource?.setData(geoJson);\n    }\n  };\n\n  return baseUseSelection({ map, handler, startActive });\n\n}\n","import { GeoJSONSource, LngLatBoundsLike, Map } from \"maplibre-gl\";\nimport { v4 } from \"uuid\";\n\nimport { RectangleSelectionInfo, PointSelectionInfo, UnifiedRegion } from \"../../types\";\n\nconst layerGetter = (m: Map, id: string) => m.getLayer(id);\nexport type LayerType = Exclude<ReturnType<typeof layerGetter>, undefined>;\n\nfunction createBounds(info: RectangleSelectionInfo) {\n  return [\n    [info.xmin, info.ymin],\n    [info.xmax, info.ymin],\n    [info.xmax, info.ymax],\n    [info.xmin, info.ymax],\n    [info.xmin, info.ymin],\n  ];\n}\n\n\nexport function addRectangleLayer(\n  map: Map,\n  info: RectangleSelectionInfo,\n  color: string,\n) {\n  \n  const uuid = v4();\n  const geoJson: GeoJSON.FeatureCollection = {\n    type: \"FeatureCollection\",\n    features: [{\n      type: \"Feature\",\n      geometry: {\n        type: \"Polygon\",\n        coordinates: [\n          createBounds(info),\n        ],\n      },\n      properties: {},\n    }],\n  };\n\n  map.addSource(uuid, {\n    type: \"geojson\",\n    data: geoJson,\n  });\n  const source = map.getSource(uuid) as GeoJSONSource;\n\n  map.addLayer({\n    id: uuid,\n    type: \"fill\",\n    source: uuid,\n    paint: {\n      \"fill-color\": color,\n      \"fill-opacity\": 0.7,\n    }\n  });\n\n  return { layer: source };\n}\n\nexport function updateRectangleBounds(\n  source: GeoJSONSource,\n  info: RectangleSelectionInfo,\n) {\n  source.getData().then(data => {\n    const geoJson = data as GeoJSON.FeatureCollection;\n    geoJson.features[0] = {\n      ...geoJson.features[0],\n      geometry: {\n        type: \"Polygon\",\n        coordinates: [createBounds(info)],\n      }\n    };\n\n    source.setData(geoJson);\n  });\n}\n\nexport function removeRectangleLayer(\n  map: Map,\n  layer: LayerType,\n) {\n  map.removeLayer(layer.id);\n  map.removeSource(layer.id);\n}\n\n// Point layer utilities\nexport function addPointLayer(\n  map: Map,\n  info: PointSelectionInfo,\n  color: string,\n) {\n  const uuid = v4();\n  const geoJson: GeoJSON.FeatureCollection = {\n    type: \"FeatureCollection\",\n    features: [{\n      type: \"Feature\",\n      geometry: {\n        type: \"Point\",\n        coordinates: [info.x, info.y],\n      },\n      properties: {},\n    }],\n  };\n\n  map.addSource(uuid, {\n    type: \"geojson\",\n    data: geoJson,\n  });\n  const source = map.getSource(uuid) as GeoJSONSource;\n\n  map.addLayer({\n    id: uuid,\n    type: \"circle\",\n    source: uuid,\n    paint: {\n      \"circle-radius\": 8,\n      \"circle-color\": color,\n      \"circle-stroke-color\": \"white\",\n      \"circle-stroke-width\": 2,\n    }\n  });\n\n  return { layer: source };\n}\n\nexport function updatePointLocation(\n  source: GeoJSONSource,\n  info: PointSelectionInfo,\n) {\n  source.getData().then(data => {\n    const geoJson = data as GeoJSON.FeatureCollection;\n    geoJson.features[0] = {\n      ...geoJson.features[0],\n      geometry: {\n        type: \"Point\",\n        coordinates: [info.x, info.y],\n      }\n    };\n    source.setData(geoJson);\n  });\n}\n\nexport function removePointLayer(\n  map: Map,\n  layer: LayerType,\n) {\n  map.removeLayer(layer.id);\n  map.removeSource(layer.id);\n}\n\nexport function regionBounds(region: UnifiedRegion<\"maplibre\">): [[number, number], [number, number]] {\n  const pointPadding = 1;\n  return region.geometryType == \"rectangle\" ?\n    [[region.geometryInfo.xmin, region.geometryInfo.ymin], [region.geometryInfo.xmax, region.geometryInfo.ymax]] :\n    [[region.geometryInfo.x - pointPadding, region.geometryInfo.y - pointPadding], [region.geometryInfo.x + pointPadding, region.geometryInfo.y + pointPadding]];\n}\n\nexport function fitBounds(map: Map, bounds: LngLatBoundsLike, _fly: boolean) {\n  map.fitBounds(bounds);\n}\n","import { ref, type Ref } from \"vue\";\nimport { Map, MapMouseEvent } from \"maplibre-gl\";\n\nimport type { PointSelectionInfo, SelectionHandler } from \"../../types\";\nimport { baseUseSelection } from \"./baseUseSelection\";\n\nexport function usePointSelection(\n  map: Ref<Map | null>,\n  startActive: boolean = false,\n) {\n  \n  const handler: SelectionHandler<MapMouseEvent, PointSelectionInfo> = {\n    selectionInfo: ref<PointSelectionInfo | null>(null),\n\n    onMouseup(event: MapMouseEvent) {\n      handler.selectionInfo.value = {\n        x: event.lngLat.lng,\n        y: event.lngLat.lat,\n      };\n    },\n  };\n\n  return baseUseSelection({ map, handler, startActive });\n}\n","import { Ref } from 'vue';\nimport maplibregl from 'maplibre-gl';\n\nexport interface MultiMarkerOptions {\n  label?: string;\n  color?: string;\n  fillColor?: string;\n  fillOpacity?: number;\n  opacity?: number;\n  radius?: number;\n  outlineColor?: string;\n  paint?: maplibregl.CircleLayerSpecification['paint'];\n  layout?: maplibregl.CircleLayerSpecification['layout'];\n  shape?: 'circle' | 'marker';\n  scale?: 'world' | 'screen';\n}\n\n\nconst DEG_DEFAULT = 0.05; // example default: 0.05°\nconst PX_DEFAULT  = 8;\n\n  \nfunction toGeoJSON(points: Array<{ x: number; y: number }>, radius_deg?: number): GeoJSON.FeatureCollection<GeoJSON.Point> {\n  return {\n    type: 'FeatureCollection',\n    features: points.map(pt => ({\n      type: 'Feature',\n      geometry: { type: 'Point', coordinates: [pt.x, pt.y] } as GeoJSON.Point,\n      properties: {\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        radius_deg: radius_deg ?? DEG_DEFAULT,\n        // the below are unused, but useful if we want something different in the future\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        radius_px: PX_DEFAULT,\n        lat: pt.y,\n        lon: pt.x,\n      },\n    })),\n  };\n}\n\nexport function useMultiMarker(map: Ref<maplibregl.Map | null>, options: MultiMarkerOptions = {}) {\n  const sourceId = `${options.label ?? 'multi-marker'}-source`;\n  const layerId = `${options.label ?? 'multi-marker'}-layer`;\n  \n  options.scale = options.scale ?? 'screen';\n  \n  function optionsToPaint() {\n    return {\n      // 'circle-radius': options.radius ?? 8,\n      'circle-color': options.fillColor ?? options.color ?? '#ff0000',\n      'circle-opacity': options.fillOpacity ?? options.opacity ?? 0.8,\n      'circle-stroke-color': options.outlineColor ?? options.color ?? '#000',\n      'circle-stroke-width': 2\n    };\n  }\n\n  function addMarkers(points: Array<{ x: number; y: number }>) {\n    if (!map.value) return;\n    clearMarkers();\n    const geojson = toGeoJSON(points, options.scale === 'world' ? (options.radius ?? DEG_DEFAULT) : options.radius ?? PX_DEFAULT);\n    if (map.value.getSource(sourceId)) {\n      (map.value.getSource(sourceId) as maplibregl.GeoJSONSource).setData(geojson);\n    } else {\n      map.value.addSource(sourceId, {\n        type: 'geojson',\n        data: geojson,\n      });\n    }\n    if (!map.value.getLayer(layerId)) {\n      \n      const paint = {\n        ...optionsToPaint(),\n        ...(options.paint ?? {}),\n      };\n      \n      if (options.scale === 'screen') {\n        paint['circle-radius'] = options.radius ?? PX_DEFAULT;\n        paint['circle-pitch-scale'] = 'viewport'; // stays in screen pixels even when pitched\n      } else {\n        // use a maplibre expression to avoid js handlers. https://maplibre.org/maplibre-style-spec/expressions/#zoom\n\n        // conversion from degrees to pixels at equator at zoom = 0\n        // Explanation: at zoom = 0\n        // 360 degrees = 256 pixels @ equator. we will ignore latitude scaling.\n        // to include latitude scaling, multiply radius by cos(lat) where lat is in radians\n        // after testing, a slightly smaller factor seems to work better visually\n        const degreeToPixel = 512 / 360; // typically we would use 256 but maplibre-gl uses 2x the resolution\n        \n        paint['circle-radius'] = [\n          // pixel scale is dependent on zoom ~ 2^zoom\n          // https://leafletjs.com/examples/zoom-levels/ (zoom explainer from leaflet)\n          'interpolate', ['exponential', 2], ['zoom'],\n          // at zoom = 0, the pixel radius = radius in degrees * K\n          0,  ['*', ['get', 'radius_deg'], degreeToPixel],\n          // at zoom = 24  (or whatever max zoom your style uses)\n          24, ['*', ['get', 'radius_deg'], degreeToPixel * Math.pow(2, 24)]\n        ];\n        paint['circle-pitch-scale'] = 'viewport'; // stays in screen pixels even when pitched\n      }\n      \n      \n      \n      map.value.addLayer({\n        id: layerId,\n        type: 'circle',\n        source: sourceId,\n        paint: paint,\n        layout: options.layout ?? {\n          'visibility': 'visible',\n        },\n      } as maplibregl.CircleLayerSpecification);\n    }\n  }\n\n  function clearMarkers() {\n    if (!map.value) return;\n    if (map.value.getLayer(layerId)) {\n      map.value.removeLayer(layerId);\n    }\n    if (map.value.getSource(sourceId)) {\n      map.value.removeSource(sourceId);\n    }\n  }\n\n  return { addMarkers, clearMarkers };\n}","/* eslint-disable @typescript-eslint/naming-convention */\n// import L from 'leaflet';\n// import * as esri from 'esri-leaflet';\n\n// const earthdataRestSerivceURL = \"https://gis.earthdata.nasa.gov/image/rest/services/C2930763263-LARC_CLOUD/TEMPO_NO2_L3_V03_HOURLY_TROPOSPHERIC_VERTICAL_COLUMN/ImageServer\";\nimport { type ImageMapLayer } from 'esri-leaflet';\nimport { Variables } from './types';\n\nexport type ColorRamps = \"Magma\" | \"Inferno\" | \"Plasma\" | \"Viridis\" | \"Gray\" | \"Hillshade\" | \"Cividis\" | \"SVS\" | \"sargassum\";\n\ntype PixelType = Parameters<ImageMapLayer['setPixelType']>[0];\n\ninterface RasterFunctionObject {\n  rasterFunction: string;\n  variableName?: string; // Optional, as it might be implied or set by composition\n  rasterFunctionArguments?: {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    [key: string]: any;\n    Raster?: RasterFunctionObject | { variableName: string }; // Input can be another function or the base 'Raster'\n  };\n  outputPixelType?: PixelType;\n}\n\n// https://developers.arcgis.com/rest/services-reference/enterprise/raster-function-objects/\n// https://developers.arcgis.com/rest/services-reference/enterprise/raster-function-objects/#resample\nexport function _stretchRule(min: number, max: number): RasterFunctionObject {\n  return {\n    'rasterFunction': 'Stretch',\n    'outputPixelType': 'U8' as PixelType,\n    'variableName': 'Raster',\n    'rasterFunctionArguments': {\n      'StretchType': 5,\n      'Statistics': [[\n        min, // max\n        max, // min\n        0, 0\n      ]],\n      'DRA': false,\n      'UseGamma': false,\n      'Gamma': [1],\n      'ComputeGamma': true,\n      'Min': 255,\n      'Max': 0\n    },\n  };\n}\n\nexport const stretches = {\n  'NO2_Troposphere': [0, 15000000000000000],\n  'Ozone_Column_Amount': [250, 430], // +- 2 sigma\n  'HCHO': [0, 50000000000000000],\n} as Record<Variables, [number, number]>;\nexport const colorramps = {\n  'NO2_Troposphere': 'Magma',\n  'Ozone_Column_Amount': 'Cividis', \n  'HCHO': 'Viridis',\n} as Record<Variables, ColorRamps>;\n\nimport { nonEsriColormaps } from '@/colormaps';\n\n\nexport function _colorMapRule(colorRamp: ColorRamps): RasterFunctionObject {\n  if (Object.keys(nonEsriColormaps).includes((colorRamp as string).toLowerCase())) {\n    return {\n      'rasterFunction': 'Colormap',\n      'variableName': 'Raster',\n      'rasterFunctionArguments': {\n        'colorramp': nonEsriColormaps[colorRamp.toLowerCase()].esriColorRamp,\n      },\n    };\n  }\n  return {\n    'rasterFunction': 'Colormap',\n    'variableName': 'Raster',\n    'rasterFunctionArguments': {\n      'ColormapName': colorRamp,\n    },\n  };\n}\n\nexport type ResamplingType = '0' | '1' | '2' | '3' | '4' | '5' | '6' | '7' | '8' | '9' ; \n//0=NearestNeighbor, 1=Bilinear, 2=Cubic, 3=Majority, 4=BilinearInterpolationPlus, 5=BilinearGaussBlur, 6=BilinearGaussBlurPlus, 7=Average, 8=Minimum, 9=Maximum\n\nexport enum ResamplingTypeEnum {\n  NearestNeighbor = '0',\n  Bilinear = '1',\n  Cubic = '2',\n  Majority = '3',\n  BilinearInterpolationPlus = '4',\n  BilinearGaussBlur = '5',\n  BilinearGaussBlurPlus = '6',\n  Average = '7',\n  Minimum = '8',\n  Maximum = '9'\n}\n\n\n// Generated by Copilot\nexport function _resampleRule(resamplingType: keyof typeof ResamplingTypeEnum): RasterFunctionObject {\n  return {\n    'rasterFunction': 'Resample',\n    'variableName': 'Raster',\n    'rasterFunctionArguments': {\n      'ResamplingType': ResamplingTypeEnum[resamplingType], // Convert string to enum value\n    },\n  };\n}\n\n\nexport function composeRasterRules(\n  baseRule: RasterFunctionObject,\n  additionalRules: RasterFunctionObject[]\n): RasterFunctionObject {\n  let currentRule: RasterFunctionObject = { ...baseRule };\n\n\n  for (let i = 0; i < additionalRules.length; i++) {\n    const nextOuterRule = { ...additionalRules[i] }; // Copy to avoid modifying original rule objects\n\n    // Ensure rasterFunctionArguments exists\n    if (!nextOuterRule.rasterFunctionArguments) {\n      nextOuterRule.rasterFunctionArguments = {};\n    }\n\n    // Assign the current (inner) rule as the 'Raster' input to the next outer rule.\n    nextOuterRule.rasterFunctionArguments.Raster = currentRule;\n\n    currentRule = nextOuterRule; // The newly composed rule becomes the current one for the next iteration\n  }\n\n  return currentRule;\n}\n\nexport const renderingRule = (range: [number, number], colormap: ColorRamps, resamplineRule: keyof typeof ResamplingTypeEnum = 'NearestNeighbor') => \n  composeRasterRules(_stretchRule(Math.min(...range), Math.max(...range)), [_colorMapRule(colormap), _resampleRule(resamplineRule)]);\n\nexport interface RenderingRuleOptions {\n  range: [number, number];\n  colormap: ColorRamps;\n}\n\ninterface MultidimensionalDefinition {\n  variableName: string;\n  dimensionName: string;\n  values: number[] | Array<number[]>;\n}\n\n\n\nexport interface EsriSlice {\n  sliceId: number;\n  multidimensionalDefinition: MultidimensionalDefinition[];\n}\n\nexport interface EsriSliceResponse {\n  slices: EsriSlice[];\n}\n\n\nexport type VariableNames = 'NO2_Troposphere' | 'Ozone_Column_Amount' | 'HCHO';\n\nexport async function fetchEsriTimeSteps(esriUrl: string, variableName: VariableNames, dimensionName = \"StdTime\"): Promise<EsriSliceResponse> {\n  const url = esriUrl + '/slices';\n  const format = \"json\";\n  const multidimensionalDefinition = { variableName: variableName, dimensionName: dimensionName };\n  const params = { f: format, multidimensionalDefinition: JSON.stringify(multidimensionalDefinition) };\n  const fetchURL = new URL(url);\n  fetchURL.search = new URLSearchParams(params).toString();\n  return fetch(fetchURL).then(res => {\n    return res.json();\n  });\n}\n\n\nexport function extractTimeSteps(data: EsriSliceResponse): number[] {\n  const slices = data.slices;\n  const timesteps = slices.map(slice => slice.multidimensionalDefinition[0].values[0]);\n  // check if timesteps are arrays or numbers. if arrays take first element of each\n\n\n  return timesteps.reduce((acc: number[], val) => {\n    if (Array.isArray(val)) {\n      return acc.concat(val[0]);\n    } else {\n      acc.push(val);\n      return acc;\n    }\n  }, []);\n}\n","import { ref, watch, Ref, MaybeRef, toRef, nextTick, computed } from 'vue';\nimport { renderingRule, fetchEsriTimeSteps, extractTimeSteps, VariableNames, stretches, colorramps, RenderingRuleOptions, ColorRamps } from '../ImageLayerConfig';\nimport { Map } from 'maplibre-gl';\n\nimport { ImageService } from 'mapbox-gl-esri-sources';\n\n\ninterface UseEsriLayer {\n  esriImageSource: Ref<maplibregl.RasterTileSource | null>;\n  opacity: Ref<number>;\n  noEsriData: Ref<boolean>;\n  esriTimesteps: Ref<number[]>;\n  getEsriTimeSteps: () => void;\n  loadingEsriTimeSteps: Ref<boolean>;\n  updateEsriOpacity: (value?: number | null | undefined) => void;\n  updateEsriTimeRange: () => void;\n  addEsriSource: (Map) => void;\n  changeUrl: (newUrl: string, variableName: VariableNames) => void;\n  renderOptions: Ref<RenderingRuleOptions>;\n}\n\nexport function useEsriLayer(url: string, variableName: VariableNames, timestamp: Ref<number | null>, opacity: MaybeRef<number>): UseEsriLayer {\n\n  const esriLayerId = 'esri-source';\n  const esriImageSource = ref<maplibregl.RasterTileSource | null>(null);\n  const map = ref<Map | null>(null);\n\n  const esriTimesteps = ref([] as number[]);\n  const opacityRef = toRef(opacity);\n  const noEsriData = ref(false);\n  const variableNameRef = toRef(variableName);\n  const urlRef = toRef(url);\n  const loadingEsriTimeSteps = ref(false);\n  const renderOptions = ref<RenderingRuleOptions>({\n    range: stretches[variableNameRef.value],\n    colormap: colorramps[variableNameRef.value],\n  });\n\n  \n  const options = computed(() => {\n    return  {\n      'format': 'png',\n      'pixelType': 'U8',\n      'size': '256,256',\n      'transparent': true,\n      'bboxSR': 3857,\n      'imageSR': 3857,\n      'bbox': '{bbox-epsg-3857}',\n      'interpolation': 'RSP_NearestNeighbor',\n      'renderingRule': renderingRule(renderOptions.value.range, renderOptions.value.colormap),\n    };\n  });\n  const _esriImageOptions = Object.entries(options).map(([key, value]) => `${key}=${value}`).join('&');\n  \n  function addLayer(map: Map | null | undefined) {\n\n    if (map && !map.getLayer(esriLayerId)) {\n      map.addLayer({\n        id: esriLayerId,\n        type: 'raster',\n        source: esriLayerId,\n        paint: {\n          'raster-resampling': 'nearest',\n          'raster-opacity': opacityRef.value ?? 0.8,\n        },\n      });\n    }\n  }\n  \n  function removeLayer(map: Map | null | undefined) {\n    if (map && map.getLayer(esriLayerId)) {\n      map.removeLayer(esriLayerId);\n    }\n  }\n  \n  const dynamicMapService = ref<ImageService | null>(null);\n  \n  function createImageService(map: Map, url: string, options) {\n    return new ImageService(\n      esriLayerId,\n      map,\n      {\n        url: url,\n        ...options\n      },\n      {\n        tileSize: 256,\n      }\n    );\n    \n  }\n\n  function addEsriSource(_map: Map) {\n    if (!_map) return;\n    map.value = _map;\n    \n    dynamicMapService.value = createImageService(_map, urlRef.value, options.value);\n\n    addLayer(_map);\n  }\n  \n\n  \n  function updateEsriTimeRange() {\n    if (!map.value) return;\n    if (timestamp.value === null) return;\n    const time = timestamp.value;\n\n    const nearest = esriTimesteps.value.length > 0 \n      ? esriTimesteps.value.reduce((a, b) => Math.abs(b - time) < Math.abs(a - time) ? b : a)\n      : time - 1000 * 60 * 15; \n    noEsriData.value = Math.abs((nearest - time) / (1000 * 60)) > 60;\n    // noEsriData.value = nearest > 1752595200000; // Example condition (July 15, 2025 12pm ET for testing)\n    if (noEsriData.value) {\n      console.error('No ESRI data available for the selected time');\n    }\n\n    if (dynamicMapService.value && !noEsriData.value) {\n      dynamicMapService.value.setDate(new Date(nearest), new Date(nearest * 2));\n    } else if (!noEsriData.value) {\n      // if there is esri coverage, then this is the issue\n      console.error('Dynamic Map Service is not initialized');\n    }\n  }\n  \n  async function getEsriTimeSteps() {\n    loadingEsriTimeSteps.value = true;\n    fetchEsriTimeSteps(urlRef.value, variableNameRef.value)\n      .then((json) => {\n        esriTimesteps.value = extractTimeSteps(json);\n      }).then(() => {\n        nextTick(updateEsriTimeRange);\n        loadingEsriTimeSteps.value = false;\n      }).catch((error) => {\n        console.error('Error fetching ESRI time steps:', error);\n      });\n  }\n  \n\n\n  watch(timestamp, (_value) => {\n    updateEsriTimeRange();\n  });\n\n  \n  \n  function updateEsriOpacity(value: number | null | undefined = undefined) {\n    if (map.value) {\n      map.value.setPaintProperty(esriLayerId, 'raster-opacity', value ?? opacityRef.value ?? 0.8);\n    }\n  }\n  \n  function changeUrl(newUrl: string, variableName: VariableNames) {\n    if (dynamicMapService.value) {\n      variableNameRef.value = variableName; // Default to NO2 if not provided\n      urlRef.value = newUrl;\n      dynamicMapService.value.esriServiceOptions.url = newUrl;\n      dynamicMapService.value.esriServiceOptions.renderingRule = renderingRule(renderOptions.value.range, renderOptions.value.colormap);\n      // console.log(dynamicMapService.value.esriServiceOptions);\n    }\n  }\n  \n  function updateStretch(vmin: number, vmax: number) {\n    if (dynamicMapService.value) {\n      dynamicMapService.value.esriServiceOptions.renderingRule = renderingRule([vmin, vmax], renderOptions.value.colormap);\n    }\n  }\n  \n  function updateColormap(colormap: ColorRamps) {\n    if (dynamicMapService.value) {\n      dynamicMapService.value.esriServiceOptions.renderingRule = renderingRule(renderOptions.value.range, colormap);\n    }\n  }\n  \n  watch(() => renderOptions.value.range, (newRange) => {\n    console.log('Range changed to ', newRange);\n    updateStretch(newRange[0], newRange[1]);\n  });\n  watch(() => renderOptions.value.colormap, (newColormap) => {\n    console.log('Colormap changed to ', newColormap);\n    updateColormap(newColormap);\n  });\n  \n  watch(variableNameRef, () => {\n    renderOptions.value.range = stretches[variableNameRef.value];\n    renderOptions.value.colormap = colorramps[variableNameRef.value];\n  });\n\n  watch(opacityRef, (_value: number) => {\n    updateEsriOpacity(_value);\n  });\n\n  watch(noEsriData, (value: boolean) => {\n    if (value) {\n      updateEsriOpacity(0);\n      removeLayer(map.value as Map | null);\n    } else {\n      addLayer(map.value as Map | null);\n    }\n  });\n\n  return {\n    esriImageSource,\n    opacity: opacityRef,\n    noEsriData,\n    esriTimesteps,\n    getEsriTimeSteps,\n    loadingEsriTimeSteps,\n    updateEsriOpacity,\n    updateEsriTimeRange,\n    addEsriSource,\n    changeUrl,\n    renderOptions,\n  } as UseEsriLayer;\n}\n\n\n","export type EsriGeometryType = 'esriGeometryPoint' | 'esriGeometryMultipoint' | 'esriGeometryPolyline' | 'esriGeometryPolygon' | 'esriGeometryEnvelope';\n\nexport type RectBounds = {\n  xmin: number;\n  ymin: number;\n  xmax: number;\n  ymax: number;\n};\n\nexport type PointBounds = {\n  x: number;\n  y: number;\n};\nexport function rectangleToGeometry(rect: RectBounds) {\n  const { xmin, ymin, xmax, ymax } = rect;\n  return {\n    rings: [[\n      [xmin, ymin],\n      [xmin, ymax],\n      [xmax, ymax],\n      [xmax, ymin],\n      [xmin, ymin]\n    ]],\n    spatialReference: { wkid: 4326 } // Assuming WGS 84\n    // spatialReference: { wkid: 3857 } // Web Mercator. idk if this really matters for points\n  };\n}\n\nexport function pointToGeometry(point: PointBounds) {\n  const { x, y } = point;\n  return {\n    x: x,\n    y: y,\n    spatialReference: { wkid: 4326 } // Assuming WGS 84\n    // spatialReference: { wkid: 3857 } // Web Mercator. idk if this really matters for points\n  };\n}","export function isBad(v: number | null | undefined): boolean {\n  return v === null || v === undefined || isNaN(v);\n}\n\nexport function mean(arr: number[]): number {\n  // filter nan, null, undefined\n  if (arr.length === 0 || arr.some(v => isBad(v))) {\n    return NaN;\n  }\n  const sum = arr.reduce((a, b) => a + b, 0);\n  return sum / arr.length;\n}\n\nexport function nanmean(_arr: number[]): number {\n  // filter nan, null, undefined\n  const arr = _arr.filter(v => !isBad(v));\n  if (arr.length === 0) return NaN;\n  const sum = arr.reduce((a, b) => a + b, 0);\n  return sum / arr.length;\n}\n\nexport function diff(arr: number[]): number[] {\n  const result: number[] = [];\n  for (let i = 1; i < arr.length; i++) {\n    result.push(arr[i] - arr[i - 1]);\n  }\n  return result;\n}\n","// algorithm to predict how esri will sample the region\nimport { RectBounds } from \"../geometry\";\nimport { EsriImageServiceSpec } from \"../types\";\n\nexport class EsriSampler {\n  public metadata: EsriImageServiceSpec | undefined;\n  public geometry: RectBounds | undefined;\n  public serviceBounds: RectBounds;\n  public pixelXSize: number;\n  public pixelYSize: number;\n  private serviceXsize: number;\n  private serviceYsize: number;\n  \n    \n  constructor(\n    serviceMetaData: EsriImageServiceSpec, \n    geometry?: RectBounds\n  ) {\n    this.metadata = serviceMetaData;\n    this.geometry = geometry;\n    \n    this.serviceBounds = {\n      xmin: serviceMetaData.fullExtent.xmin,\n      ymin: serviceMetaData.fullExtent.ymin,\n      xmax: serviceMetaData.fullExtent.xmax,\n      ymax: serviceMetaData.fullExtent.ymax\n    };\n    \n    this.pixelXSize = serviceMetaData.pixelSizeX;\n    this.pixelYSize = serviceMetaData.pixelSizeY;\n    this.serviceXsize = this.serviceBounds.xmax - this.serviceBounds.xmin;\n    this.serviceYsize = this.serviceBounds.ymax - this.serviceBounds.ymin;\n  }\n  \n  setGeometry(geometry: RectBounds) {\n    // this.geometry = {\n    //   xmin: Math.min(geometry.xmin, geometry.xmax),\n    //   ymin: Math.min(geometry.ymin, geometry.ymax),\n    //   xmax: Math.max(geometry.xmin, geometry.xmax),\n    //   ymax: Math.max(geometry.ymin, geometry.ymax)\n    // };\n    this.geometry = geometry; // we need to maintain the orientation\n    // the orientation affects the sampling locations.\n  }\n  \n  // not the geometry X and Y size are signed. \n  // It is not garunteed that xmax > xmin or ymax > ymin\n  // The Esri Image ser\n  get geometryXsize(): number {\n    if (!this.geometry) {\n      throw new Error('Geometry not set');\n    }\n    return (this.geometry.xmax - this.geometry.xmin);\n  }\n  \n  get geometryYsize(): number {\n    if (!this.geometry) {\n      throw new Error('Geometry not set');\n    }\n    return (this.geometry.ymax - this.geometry.ymin);\n  }\n  \n  setMetadata(serviceMetaData: EsriImageServiceSpec) {\n    this.metadata = serviceMetaData;\n    this.serviceBounds = {\n      xmin: serviceMetaData.fullExtent.xmin,\n      ymin: serviceMetaData.fullExtent.ymin,\n      xmax: serviceMetaData.fullExtent.xmax,\n      ymax: serviceMetaData.fullExtent.ymax\n    }  ;\n    this.pixelXSize = serviceMetaData.pixelSizeX;\n    this.pixelYSize = serviceMetaData.pixelSizeY;\n    this.serviceXsize = this.serviceBounds.xmax - this.serviceBounds.xmin;\n    this.serviceYsize = this.serviceBounds.ymax - this.serviceBounds.ymin;\n  }  \n  \n  get geometryAspectRatio(): number {\n    if (!this.geometry) {\n      throw new Error('Geometry not set');\n    }\n    const latSize = Math.abs(this.geometry.ymax - this.geometry.ymin);\n    const lonSize = Math.abs(this.geometry.xmax - this.geometry.xmin);\n    return lonSize / latSize;\n  }\n  \n  get geometryArea(): number {\n    if (!this.geometry) {\n      throw new Error('Geometry not set');\n    }\n    const latSize = Math.abs(this.geometry.ymax - this.geometry.ymin);\n    const lonSize = Math.abs(this.geometry.xmax - this.geometry.xmin);\n    return latSize * lonSize;\n  }\n  \n  getSampleDistance(sampleCount: number): number {\n    return Math.sqrt(this.geometryArea) / Math.sqrt(sampleCount);\n  }\n  \n  getSampleCount(sampleDistance: number): number {\n    return this.geometryArea / (sampleDistance * sampleDistance);\n  }\n  \n  get pixelSize(): number {\n    return Math.sqrt(this.pixelXSize * this.pixelYSize);\n  }\n  \n  calculateActualSampleCount(initialSampleCount: number): number {\n    let sampleDistance = this.getSampleDistance(initialSampleCount);\n    \n    if (sampleDistance < this.pixelSize) {\n      console.log(`Requested sample distance (${sampleDistance}) is smaller than pixel size, adjusting to pixel size`);\n      sampleDistance = this.pixelSize;\n      console.log('Adjusted sample distance:', sampleDistance);\n    }\n\n    const nx = Math.round(Math.abs(this.geometryXsize) / sampleDistance);\n    const ny = Math.round(Math.abs(this.geometryYsize) / sampleDistance);\n    const actualSampleCount = nx * ny;\n    return actualSampleCount;\n  }\n  \n  getSamplingSpecificationFromSamplingDistance(sampleDistance: number) {\n    const nx = Math.round(Math.abs(this.geometryXsize) / sampleDistance);\n    const ny = Math.round(Math.abs(this.geometryYsize) / sampleDistance);\n    const count = nx * ny;\n    return {\n      count,\n      distance: sampleDistance,\n      lats: ny,\n      lons: nx\n    };\n  }\n  \n  getSamplingSpecificationFromSampleCount(initialSampleCount: number, permitOversampling: boolean = false) {\n    let sampleDistance = this.getSampleDistance(initialSampleCount);\n    \n    if ((sampleDistance < this.pixelSize) && !permitOversampling) {\n      console.log(`Requested sample distance (${sampleDistance}) is smaller than pixel size, adjusting to pixel size`);\n      const adjustedSampleCount = this.getSamplingSpecificationFromSamplingDistance(this.pixelSize).count;\n      console.log('Adjusted sample count:', adjustedSampleCount);\n      sampleDistance = this.getSampleDistance(adjustedSampleCount);\n    }\n\n    return this.getSamplingSpecificationFromSamplingDistance(sampleDistance);\n    \n  }\n  \n  \n  /** \n  Predict the sampling locations based on the geometry and metadata\n  Returns an object with x and y arrays of sampling locations\n  \n  Esri seems to always sample starting from the upper-left corner.\n  **/\n  getSampleLocations(sampleCount: number) {\n    if (!this.geometry) {\n      throw new Error('Geometry not set');\n    }\n\n    const spec = this.getSamplingSpecificationFromSampleCount(sampleCount);\n    console.log('Sampling spec:', spec);\n    const lats: number[] = [];\n    const lons: number[] = [];\n    const _ysign = Math.sign(this.geometryXsize);\n    const _xsign = Math.sign(this.geometryXsize);\n    \n    // spacing function for each sample\n    const delta = (i: number) => i * spec.distance + spec.distance / 2;\n\n    for (let i = 0; i < spec.lats; i++) {\n      lats.push(Math.max(this.geometry.ymin, this.geometry.ymax) - delta(i));\n    }\n    for (let j = 0; j < spec.lons; j++) {\n      lons.push(Math.min(this.geometry.xmin, this.geometry.xmax) + delta(j));\n    }\n    return {x: lons, y: lats, spec: spec};\n    \n  }\n  \n  getSampleLocationsGrid(sampleCount: number) {\n    const locations = this.getSampleLocations(sampleCount);\n    console.log(this.getSamplingSpecificationFromSampleCount(locations.spec.count));\n    const points: {x: number, y: number}[] = [];\n    for (let i = 0; i < locations.x.length; i++) {\n      for (let j = 0; j < locations.y.length; j++) {\n        points.push({x: locations.x[i], y: locations.y[j]});\n      }\n    }\n    return points;\n  }\n  \n}","/* eslint-disable @typescript-eslint/naming-convention */\nimport { rectangleToGeometry, pointToGeometry } from '../geometry';\nimport type { RectBounds, PointBounds, EsriGeometryType } from '../geometry';\nimport type { \n  EsriGetSamplesReturn, \n  EsriGetSamplesReturnError, \n  EsriGetSamplesSample, \n  Variables, \n  EsriInterpolationMethod, \n  CEsriTimeseries, \n  EsriImageServiceSpec,\n} from '../types';\nimport type { AggValue, DataPointError, MillisecondRange } from \"../../types\";\nimport {nanmean, diff} from './array_math';\nimport { EsriSampler } from './sampling';\n\n// ============================================================================\n// TYPES\n// ============================================================================\n\nexport interface FetchOptions {\n  sampleCount?: number;\n  interpolation?: EsriInterpolationMethod;\n  returnFirstValueOnly?: boolean;\n  outFields?: string | string[];\n  sliceID?: string | number;\n}\n\n\nexport type TimeRanges = MillisecondRange | MillisecondRange[];\n\nexport interface RawSampleData {\n  samples: CEsriTimeseries[];\n  metadata: {\n    totalSamples: number;\n    timeRange: MillisecondRange | MillisecondRange[];\n    geometry: RectBounds | PointBounds;\n    geometryType: 'rectangle' | 'point';\n  };\n}\n\nexport interface TimeSeriesData {\n  values: Record<number, AggValue>;\n  errors: Record<number, DataPointError>;\n  locations: Array<{ x: number; y: number }>;\n  geometryType: 'rectangle' | 'point';\n}\n\n// ============================================================================\n// UTILITY FUNCTIONS\n// ============================================================================\n\nfunction safeParseNumber(value: string | null | undefined): number | null {\n  if (value === null || value === '' || value === undefined) return null;\n  const parsed = parseFloat(value);\n  return isNaN(parsed) ? null : parsed;\n}\n\nfunction stringifyEsriGetSamplesParameters(params: {\n  geometry: ReturnType<typeof rectangleToGeometry> | ReturnType<typeof pointToGeometry>;\n  geometryType: EsriGeometryType;\n  sampleDistance?: number;\n  sampleCount?: number;\n  mosaicRule?: string | Record<string, unknown>;\n  pixelSize?: number;\n  returnFirstValueOnly?: boolean;\n  interpolation: EsriInterpolationMethod;\n  outFields?: string | string[];\n  sliceID?: string | number;\n  time?: string | [number, number] | [Date, Date];\n  f: 'pjson';\n}): URLSearchParams {\n  const {\n    geometry,\n    geometryType,\n    sampleDistance,\n    sampleCount,\n    mosaicRule,\n    pixelSize,\n    returnFirstValueOnly,\n    interpolation,\n    outFields,\n    sliceID,\n    time,\n  } = params;\n  \n  const options: Record<string, string> = {\n    f: 'pjson',\n    geometry: JSON.stringify(geometry),\n    geometryType: geometryType,\n    interpolation: interpolation,\n  };\n\n  if (sampleDistance) options.sampleDistance = sampleDistance.toString();\n  if (sampleCount) options.sampleCount = sampleCount.toString();\n  if (mosaicRule) options.mosaicRule = JSON.stringify(mosaicRule);\n  if (pixelSize) options.pixelSize = pixelSize.toString();\n  if (returnFirstValueOnly !== undefined) options.returnFirstValueOnly = returnFirstValueOnly.toString();\n  if (outFields) options.outFields = Array.isArray(outFields) ? outFields.join(',') : outFields;\n  if (sliceID !== undefined) options.sliceID = sliceID.toString();\n  if (time) {\n    const timeStr = Array.isArray(time)\n      ? time.map((t) => (t instanceof Date ? t.getTime() : t)).join(',')\n      : time;\n    options.time = timeStr;\n  }\n\n  return new URLSearchParams(options);\n}\n\n// ============================================================================\n// TEMPO DATA SERVICE\n// ============================================================================\n\nexport class TempoDataService {\n  private baseUrl: string;\n  private variable: Variables;\n  private metadataCache: EsriImageServiceSpec | null = null;\n  private _loadingMetadata: boolean = false;\n  \n  constructor(baseUrl: string, variable: Variables = \"NO2_Troposphere\") {\n    this.baseUrl = baseUrl;\n    this.variable = variable;\n    this.updateMetadataCache();\n  }\n\n  // ============================================================================\n  // CONFIGURATION\n  // ============================================================================\n\n  setVariable(variable: Variables): void {\n    this.variable = variable;\n  }\n\n  getVariable(): Variables {\n    return this.variable;\n  }\n\n  setBaseUrl(baseUrl: string): void {\n    if (this.baseUrl === baseUrl) return;\n    this.baseUrl = baseUrl;\n    this.updateMetadataCache();\n  }\n\n  getBaseUrl(): string {\n    return this.baseUrl;\n  }\n\n  private async _getServiceMetadata(): Promise<EsriImageServiceSpec> {\n    const url = `${this.baseUrl}?f=json`;\n    return fetch(url)\n      .then((response) => {\n        if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n        return response.json();\n      })\n      .catch((error) => {\n        console.error('Error fetching service metadata:', error);\n        throw error;\n      });\n  }\n  \n  async updateMetadataCache() {\n    // in general we really should invalidate the cache when the URL changes\n    // however, we know that for this purpose, the grid is identical for all\n    // the various services we may access, so ease of use, we will always have a metaDataCache\n    // available. \n    // this.metadataCache = null; // Invalidate cache\n    this._loadingMetadata = true;\n    this.metadataCache = await this._getServiceMetadata();\n    this._loadingMetadata = false;\n    console.log('Service metadata updated:', this.metadataCache);\n    return this.metadataCache;\n  }\n  \n  getMetadata(): EsriImageServiceSpec {\n    if (!this.metadataCache) {\n      if (this._loadingMetadata) {\n        throw new Error('Metadata is currently loading. Please wait and try again.');\n      }\n      throw new Error('Metadata not loaded yet. Call updateMetadataCache() first.');\n    }\n    return this.metadataCache;\n  }\n  \n  get meta(): EsriImageServiceSpec | null {\n    return this.metadataCache;\n  }\n  \n  async withMetadataCache(): Promise<EsriImageServiceSpec> {\n    if (this.metadataCache) {\n      return this.metadataCache;\n    }\n    if (this._loadingMetadata) {\n      // Wait until loading is done. Check eveery 100ms\n      while (this._loadingMetadata) {\n        await new Promise((resolve) => setTimeout(resolve, 100));\n      }\n      if (this.metadataCache) {\n        return this.metadataCache;\n      } else {\n        throw new Error('Failed to load metadata.');\n      }\n    }\n    return this.updateMetadataCache();\n  }\n  \n\n  // ============================================================================\n  // CORE DATA FETCHING\n  // ============================================================================\n  /**\n   * Fetch raw samples from the ESRI Image Server\n   */\n  async fetchSample(\n    geometry: RectBounds | PointBounds,\n    timeRange: MillisecondRange,\n    options: FetchOptions = {}\n  ): Promise<RawSampleData> {\n    const esriGeometry = this.isRectBounds(geometry) \n      ? rectangleToGeometry(geometry as RectBounds)\n      : pointToGeometry(geometry as PointBounds);\n\n    const geometryType: EsriGeometryType = this.isRectBounds(geometry)\n      ? 'esriGeometryPolygon'\n      : 'esriGeometryPoint';\n\n    // Handle multiple time ranges by combining them\n    const timeString = `${timeRange.start},${timeRange.end}`;\n    \n    // log sample geometry type and time range\n    console.log(`Fetching samples for geometry type: ${geometryType}, time range: ${timeString}`);\n\n\n    const params = {\n      f: 'pjson' as const,\n      interpolation: 'RSP_NearestNeighbor' as EsriInterpolationMethod,\n      returnFirstValueOnly: false,\n      geometry: esriGeometry,\n      geometryType: geometryType,\n      time: timeString,\n      sampleCount: options.sampleCount || 30, // 100 is the Esri default. 30 has been our default\n      ...options\n    };\n\n    const urlWithParams = `${this.baseUrl}/getSamples/?${stringifyEsriGetSamplesParameters(params).toString()}`;\n    \n    try {\n      const response = await fetch(urlWithParams);\n      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n      \n      const data: EsriGetSamplesReturn | EsriGetSamplesReturnError = await response.json();\n      \n      if ('error' in data) {\n        throw new Error(`Error fetching samples (${data.error.code}): ${data.error.message} ${data.error.details}`);\n      }\n\n      const processedSamples = data.samples.map((sample: EsriGetSamplesSample) => ({\n        x: sample.location.x,\n        y: sample.location.y,\n        time: sample.attributes.StdTime,\n        date: new Date(sample.attributes.StdTime),\n        variable: safeParseNumber(sample.attributes[this.variable] ?? ''),\n        value: safeParseNumber(sample.value),\n        locationId: sample.locationId,\n        geometryType: this.isRectBounds(geometry) ? 'rectangle' : 'point' as 'rectangle' | 'point'\n      })); // this is a CEsriTimeseries[]\n      console.log(`Fetched ${processedSamples.length} samples for time range ${timeRange.start}-${timeRange.end}`);\n      return {\n        samples: processedSamples,\n        metadata: {\n          totalSamples: processedSamples.length,\n          timeRange: timeRange,\n          geometry,\n          geometryType: this.isRectBounds(geometry) ? 'rectangle' : 'point'\n        }\n      };\n    } catch (error) {\n      console.error('Error in TempoDataService.fetchSamples:', params);\n      throw error;\n    }\n  }\n  \n  /**\n   * Fetch raw samples from the ESRI Image Server\n   */\n  async fetchSamples(\n    geometry: RectBounds | PointBounds,\n    timeRanges: TimeRanges,\n    options: FetchOptions = {}\n  ): Promise<RawSampleData> {\n    \n    if (!Array.isArray(timeRanges)) {\n      return this.fetchSample(geometry, timeRanges, options);\n    }\n    \n    const promises = timeRanges.map(async (tr) => {\n      try {\n        return await this.fetchSample(geometry, tr, options);\n      } catch (error) {\n        console.error(`Error fetching sample for time range ${tr.start}-${tr.end}:`, error);\n        return null;\n      }\n    });\n\n    return Promise.all(promises).then((results) => {\n      const validResults = results.filter((result): result is RawSampleData => result !== null);\n      const samples = validResults.map((result) => result.samples).flat();\n      console.log(`Total samples fetched across all time ranges: ${samples.length}`);\n      console.log(samples);\n      return {\n        samples,\n        metadata: {\n          totalSamples: samples.length,\n          timeRange: timeRanges,\n          geometry: geometry,\n          geometryType: this.isRectBounds(geometry) ? 'rectangle' : 'point',\n        }\n      } as RawSampleData;\n    });\n  }\n\n  // ============================================================================\n  // AGGREGATION METHODS\n  // ============================================================================\n\n  /**\n   * Aggregate samples by time (for rectangle areas)\n   */\n  aggregateByTime(samples: CEsriTimeseries[]): TimeSeriesData {\n    // Group samples by time\n    const grouped = new Map<number, CEsriTimeseries[]>();\n    samples.forEach((sample) => {\n      if (!grouped.has(sample.time)) {\n        grouped.set(sample.time, []);\n      }\n      grouped.get(sample.time)?.push(sample);\n    });\n\n    // Calculate aggregated values\n    const values: Record<number, AggValue> = {};\n    const errors: Record<number, DataPointError> = {};\n    \n    grouped.forEach((samples, time) => {\n      const sampleValues = samples.map(s => s.value);\n      values[time] = this.calculateMean(sampleValues, time);\n      errors[time] = this.calculateError(sampleValues);\n    });\n\n    // Collect unique locations\n    const seen = new Set<string>();\n    const locations: Array<{ x: number; y: number }> = [];\n    for (const sample of samples) {\n      const key = `${sample.x},${sample.y}`;\n      if (!seen.has(key)) {\n        seen.add(key);\n        locations.push({ x: sample.x, y: sample.y });\n      }\n    }\n\n    return { values, errors, locations, geometryType: samples[0].geometryType };\n  }\n\n  /**\n   * Get single point data (for center points or individual points)\n   */\n  // aggregatePoint(samples: CEsriTimeseries[]): TimeSeriesData | null {\n  //   if (samples.length === 0) return null;\n    \n  //   // For point data, we typically expect one sample per time\n  //   // Group by time and aggregate\n  //   const grouped = new Map<number, CEsriTimeseries[]>();\n  //   samples.forEach((sample) => {\n  //     if (!grouped.has(sample.time)) {\n  //       grouped.set(sample.time, []);\n  //     }\n  //     grouped.get(sample.time)?.push(sample);\n  //   });\n\n  //   // Calculate aggregated values\n  //   const values: Record<number, AggValue> = {};\n  //   const errors: Record<number, DataPointError> = {};\n    \n  //   grouped.forEach((samples, time) => {\n  //     const sampleValues = samples.map(s => s.value);\n  //     values[time] = this.calculateMean(sampleValues, time);\n  //     errors[time] = this.calculateError(sampleValues);\n  //   });\n\n  //   // For point data, we expect only one location\n  //   const locations: Array<{ x: number; y: number }> = [];\n  //   if (samples.length > 0) {\n  //     const sample = samples[0];\n  //     locations.push({ x: sample.x, y: sample.y });\n  //   }\n\n  //   return { values, errors, locations };\n  // }\n\n  // ============================================================================\n  // CONVENIENCE METHODS\n  // ============================================================================\n  \n  getTimeSeriesStatistics(jsonData: RawSampleData) {\n    const samples = jsonData.samples || [];\n    \n    const uniqueLocations = new Set();\n    const uniqueLatitudes = new Set<number>();\n    const uniqueLongitudes = new Set<number>();\n    const valuesPerLocation = {};\n    \n    for (const sample of samples) {\n      const location = {x: sample.x, y: sample.y};\n      const locString = `${location.x},${location.y}`;\n      if (location) {\n        // Use a string representation for unique locations in the Set\n        uniqueLocations.add(locString);\n        uniqueLatitudes.add(location.y);\n        uniqueLongitudes.add(location.x);\n      }\n      \n      valuesPerLocation[locString] = (valuesPerLocation[locString] || 0) + 1;\n\n    }\n    \n    const totalValues = samples.length;\n    const numUniqueLocations = uniqueLocations.size;\n    \n    const latitudeSpacing = diff([...uniqueLatitudes].sort());\n    const longitudeSpacing = diff([...uniqueLongitudes].sort());\n    \n    \n    \n    return {\n      numUniqueLocations,\n      totalValues,\n      valuesPerLocation,\n      latitudeSpacing: nanmean(latitudeSpacing),\n      longitudeSpacing: nanmean(longitudeSpacing),\n    };\n  }\n  \n  /**\n   * Fetch and aggragate any valid geometry data (rectangle or point)\n   */\n  async fetchTimeseriesData(\n    geometry: RectBounds | PointBounds,\n    timeRanges: TimeRanges,\n    options: FetchOptions = {}\n  ): Promise<TimeSeriesData> {\n    if (this.isRectBounds(geometry) && this.meta) {\n      const sampler = new EsriSampler(this.meta, geometry);\n      const sampleCount = options.sampleCount || 30;\n      console.log(`Requested sample count: ${sampleCount}`);\n      options.sampleCount = sampler.getSamplingSpecificationFromSampleCount(sampleCount).count;\n      console.log(`Using sample count: ${options.sampleCount}`);\n    }\n    const rawData = await this.fetchSamples(geometry, timeRanges, options);\n    const stats = this.getTimeSeriesStatistics(rawData);\n    console.log(`Data is sampled from ${stats.numUniqueLocations} unique locations with a total of ${stats.totalValues} values.`);\n    \n    console.log(`Approximate spacing between unique locations: ${stats.latitudeSpacing?.toFixed(4)}° latitude, ${stats.longitudeSpacing?.toFixed(4)}° longitude`);\n    return this.aggregateByTime(rawData.samples);\n  }\n  \n  /**\n   * Fetch and aggregate rectangle data (current fetchRectangleSamples equivalent)\n   */\n  // async fetchRectangleTimeseries(\n  //   rectangle: RectBounds,\n  //   timeRanges: TimeRanges,\n  //   options: FetchOptions = {}\n  // ): Promise<TimeSeriesData> {\n  //   const rawData = await this.fetchSamples(rectangle, timeRanges, options);\n  //   return this.aggregateByTime(rawData.samples);\n  // }\n\n  /**\n   * Fetch and aggregate point data (current fetchCenterPointSample equivalent)\n   */\n  // async fetchPointTimeseries(\n  //   point: PointBounds,\n  //   timeRanges: TimeRanges,\n  //   options: FetchOptions = {}\n  // ): Promise<TimeSeriesData | null> {\n  //   const rawData = await this.fetchSamples(point, timeRanges, options);\n  //   return this.aggregatePoint(rawData.samples);\n  // }\n\n  /**\n   * Get center point of rectangle and fetch data for it\n   */\n  async fetchCenterPointData(\n    rectangle: RectBounds,\n    timeRanges: TimeRanges,\n    options: FetchOptions = {}\n  ): Promise<TimeSeriesData | null> {\n    const center: PointBounds = {\n      x: (rectangle.xmin + rectangle.xmax) / 2,\n      y: (rectangle.ymin + rectangle.ymax) / 2\n    };\n    \n    return this.fetchTimeseriesData(center, timeRanges, options);\n  }\n\n  // ============================================================================\n  // UTILITY METHODS\n  // ============================================================================\n\n  private isRectBounds(geometry: RectBounds | PointBounds): geometry is RectBounds {\n    return 'xmin' in geometry && 'xmax' in geometry && 'ymin' in geometry && 'ymax' in geometry;\n  }\n\n  private calculateMean(samples: (number | null)[], time: number): AggValue {\n    const validSamples = samples.filter((sample) => sample !== null);\n    if (validSamples.length === 0) return { value: null, date: new Date(time) };\n    const sum = validSamples.reduce((acc, val) => acc + (val ?? 0), 0);\n    return { value: sum / validSamples.length, date: new Date(time) };\n  }\n\n  private calculateError(samples: (number | null)[]): DataPointError {\n    const validSamples = samples.filter((sample) => sample !== null);\n    if (validSamples.length === 0) return { lower: null, upper: null };\n    \n    const mean = validSamples.reduce((acc, val) => acc + (val ?? 0), 0) / validSamples.length;\n    const squaredDiffs = validSamples.map((sample) => {\n      if (sample === null) return 0;\n      return Math.pow(sample - mean, 2);\n    });\n    // squared standard error of the mean = variance / n\n    const squaredSEM = squaredDiffs.reduce((acc, val) => acc + val, 0) / Math.pow(validSamples.length, 2);\n    \n    return { lower: Math.sqrt(squaredSEM), upper: Math.sqrt(squaredSEM) };\n  }\n} ","import { VariableNames } from \"./ImageLayerConfig\";\n\nexport const ESRI_URLS = {\n  'no2': {\n    url: \"https://gis.earthdata.nasa.gov/image/rest/services/C2930763263-LARC_CLOUD/TEMPO_NO2_L3_V03_HOURLY_TROPOSPHERIC_VERTICAL_COLUMN/ImageServer\",\n    variable: \"NO2_Troposphere\",\n  },\n  'no2Monthly': {\n    url: \"https://gis.earthdata.nasa.gov/gp/rest/services/Hosted/TEMPO_NO2_L3_V03_Monthly_Mean/ImageServer\",\n    variable: \"NO2_Troposphere\",\n  },\n  'no2DailyMax' : {\n    url: \"https://gis.earthdata.nasa.gov/gp/rest/services/Hosted/TEMPO_NO2_L3_V03_Daily_Maximum/ImageServer\",\n    variable: \"NO2_Troposphere\",\n  },\n  'o3': {\n    url: \"https://gis.earthdata.nasa.gov/image/rest/services/C2930764281-LARC_CLOUD/TEMPO_O3TOT_L3_V03_HOURLY_OZONE_COLUMN_AMOUNT/ImageServer\",\n    variable: \"Ozone_Column_Amount\",\n  },\n  'hcho': {\n    url: \"https://gis.earthdata.nasa.gov/image/rest/services/C2930761273-LARC_CLOUD/TEMPO_HCHO_L3_V03_HOURLY_VERTICAL_COLUMN/ImageServer\",\n    variable: \"HCHO\",\n  },\n  'hchoMonthly': {\n    url: \"https://gis.earthdata.nasa.gov/gp/rest/services/Hosted/TEMPO_HCHO_L3_V03_Monthly_Mean/ImageServer\",\n    variable: \"HCHO\",\n  },\n  'hchoDailyMax': {\n    url: \"https://gis.earthdata.nasa.gov/gp/rest/services/Hosted/TEMPO_HCHO_L3_V03_Daily_Maximum/ImageServer\",\n    variable: \"HCHO\",\n  },\n} as Record<string, { url: string; variable: VariableNames }>;\n\nexport const MOLECULE_OPTIONS = [\n  { title: 'NO₂', value: 'no2' },\n  { title: 'Monthly Mean NO₂', value: 'no2Monthly' },\n  { title: 'Daily Max NO₂', value: 'no2DailyMax' },\n  { title: 'O₃', value: 'o3' },\n  { title: 'HCHO', value: 'hcho' },\n  { title: 'Monthly Mean HCHO', value: 'hchoMonthly' },\n  { title: 'Daily Max HCHO', value: 'hchoDailyMax' },\n] as const;\n\nexport type MoleculeType = keyof typeof ESRI_URLS;\n","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, withKeys as _withKeys, createVNode as _createVNode, createElementVNode as _createElementVNode, unref as _unref, createTextVNode as _createTextVNode, withCtx as _withCtx, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, isRef as _isRef, mergeProps as _mergeProps, resolveDirective as _resolveDirective, withDirectives as _withDirectives, vShow as _vShow, normalizeClass as _normalizeClass } from \"vue\"\nimport _imports_0 from './assets/TEMPO-Logo-Small.png'\nimport _imports_1 from './assets/smithsonian.png'\n\n\nconst _hoisted_1 = {\n  key: 0,\n  id: \"introduction-overlay\",\n  class: \"elevation-10 gradient-background\"\n}\nconst _hoisted_2 = { id: \"intro-window-close-button\" }\nconst _hoisted_3 = { id: \"splash-screen-acknowledgements\" }\nconst _hoisted_4 = { id: \"splash-screen-logos\" }\nconst _hoisted_5 = { class: \"intro-text mb-3\" }\nconst _hoisted_6 = { id: \"intro-bottom-controls\" }\nconst _hoisted_7 = { id: \"main-content\" }\nconst _hoisted_8 = { class: \"content-with-sidebars\" }\nconst _hoisted_9 = { id: \"logo-title\" }\nconst _hoisted_10 = { class: \"snackbar-alert-ul\" }\nconst _hoisted_11 = [\"data-date\"]\nconst _hoisted_12 = [\"innerHTML\"]\nconst _hoisted_13 = { id: \"menu-area\" }\nconst _hoisted_14 = {\n  style: {\"font-weight\":\"normal\"},\n  tabindex: \"0\",\n  href: \"https://www.cosmicds.cfa.harvard.edu/resources/tempo\",\n  target: \"_blank\",\n  rel: \"noopener\"\n}\nconst _hoisted_15 = { id: \"map-container\" }\nconst _hoisted_16 = {\n  key: 0,\n  style: {\"text-align\":\"center\"}\n}\nconst _hoisted_17 = [\"innerHTML\"]\nconst _hoisted_18 = { class: \"unit-label\" }\nconst _hoisted_19 = {\n  key: 1,\n  style: {\"text-align\":\"center\"}\n}\nconst _hoisted_20 = [\"innerHTML\"]\nconst _hoisted_21 = { id: \"map\" }\nconst _hoisted_22 = {\n  id: \"loading-circle-progress-container\",\n  class: \"d-flex flex-column align-center justify-center ga-2\"\n}\nconst _hoisted_23 = {\n  key: 0,\n  id: \"map-legend\"\n}\nconst _hoisted_24 = { id: \"map-show-hide-controls\" }\nconst _hoisted_25 = {\n  id: \"opacity-slider-container\",\n  class: \"mt-5\"\n}\nconst _hoisted_26 = { class: \"d-flex flex-row align-center justify-space-between\" }\nconst _hoisted_27 = { class: \"d-flex flex-row align-center justify-space-between\" }\nconst _hoisted_28 = { id: \"location-and-sharing\" }\nconst _hoisted_29 = {\n  key: 0,\n  style: {\"text-align\":\"center\"}\n}\nconst _hoisted_30 = [\"innerHTML\"]\nconst _hoisted_31 = { class: \"unit-label\" }\nconst _hoisted_32 = {\n  key: 1,\n  style: {\"text-align\":\"center\"}\n}\nconst _hoisted_33 = [\"innerHTML\"]\nconst _hoisted_34 = { id: \"slider-row\" }\nconst _hoisted_35 = { class: \"thumb-label\" }\nconst _hoisted_36 = { id: \"side-panel\" }\nconst _hoisted_37 = { id: \"map-view\" }\nconst _hoisted_38 = { class: \"mt-2\" }\nconst _hoisted_39 = { class: \"d-flex flex-row align-center\" }\nconst _hoisted_40 = [\"disabled\"]\nconst _hoisted_41 = { class: \"d-flex flex-row align-center my-2\" }\nconst _hoisted_42 = { id: \"dataset-sections\" }\nconst _hoisted_43 = { id: \"add-region-time\" }\nconst _hoisted_44 = { id: \"add-region-buttons\" }\nconst _hoisted_45 = {\n  key: 0,\n  id: \"sample-info\",\n  style: {\"margin-top\":\"1em\"},\n  class: \"pl-3\"\n}\nconst _hoisted_46 = {\n  key: 0,\n  class: \"dataset-loading\"\n}\nconst _hoisted_47 = { class: \"text-subtitle-2\" }\nconst _hoisted_48 = { key: 0 }\nconst _hoisted_49 = { class: \"selection-icons\" }\nconst _hoisted_50 = { id: \"bottom-options\" }\nconst _hoisted_51 = { key: 0 }\nconst _hoisted_52 = { key: 1 }\nconst _hoisted_53 = {\n  key: 0,\n  class: \"text-red\"\n}\nconst _hoisted_54 = {\n  key: 1,\n  class: \"mt-2\"\n}\nconst _hoisted_55 = {\n  key: 2,\n  class: \"mt-2 text-red\"\n}\nconst _hoisted_56 = {\n  key: 3,\n  class: \"mt-2\"\n}\nconst _hoisted_57 = { id: \"information\" }\nconst _hoisted_58 = { id: \"body-logos\" }\n\nimport { ref, computed, watch, onMounted, nextTick } from \"vue\";\nimport { API_BASE_URL, blurActiveElement } from \"@cosmicds/vue-toolkit\";\nimport { useDisplay } from 'vuetify';\nimport { DatePickerInstance } from \"@vuepic/vue-datepicker\";\nimport { v4 } from \"uuid\";\nimport { getTimezoneOffset } from \"date-fns-tz\";\n// import { cbarNO2 } from \"./revised_cmap\";\nimport { colormap } from \"./colormaps/utils\";\nimport { MapBoxFeature, MapBoxFeatureCollection, geocodingInfoForSearch } from \"./mapbox\";\nimport changes from \"./changes\";\nimport { useBounds } from './composables/useBounds';\nimport { interestingEvents } from \"./interestingEvents\";\nimport { LatLngPair, InitMapOptions, RectangleSelectionInfo, PointSelectionInfo, PointSelection, RectangleSelection, UnifiedRegion, MappingBackends, TimeRange, UserSelection } from \"./types\";\nimport type { MillisecondRange } from \"./types/datetime\";\nimport UserGuide from \"./components/UserGuide.vue\";\nimport SampleTable from \"./components/SampleTable.vue\";\nimport { atleast1d } from \"./utils/atleast1d\";\nimport { areEquivalentTimeRanges, formatSingleRange, formatTimeRange, rangeForSingleDay } from \"./utils/timeRange\";\n\nimport { useUniqueTimeSelection } from \"./composables/useUniqueTimeSelection\";\n\nimport DateTimeRangeSelection from \"./date_time_range_selection/DateTimeRangeSelection.vue\";\nimport TimeChips from \"./components/TimeChips.vue\";\nimport CTextField from \"./components/CTextField.vue\";\n// Import Leaflet Composables\n// import { useMap } from \"./composables/leaflet/useMap\";\n// import { usezoomhome } from './composables/leaflet/useZoomHome';\n// import { useImageOverlay } from \"./composables/leaflet/useImageOverlay\";\n// import { useFieldOfRegard} from \"./composables/leaflet/useFieldOfRegard\";\n// import { useLocationMarker } from \"./composables/leaflet/useMarker\";\n// import { useRectangleSelection } from \"./composables/leaflet/useRectangleSelection\";\n// import { addRectangleLayer, updateRectangleBounds, removeRectangleLayer, regionBounds, fitBounds } from \"./composables/leaflet/utils\";\n// import { useMultiMarker } from './composables/leaflet/useMultiMarker';\n// import { useEsriLayer } from \"./esri/leaflet/useEsriImageLayer\";\n// const zoomScale = 1; \n\n// Import Maplibre Composables\nimport { useMap } from \"./composables/maplibre/useMap\";\nimport { usezoomhome } from './composables/maplibre/useZoomHome';\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { useImageOverlay } from \"./composables/maplibre/useImageOverlay\";\nimport { useFieldOfRegard} from \"./composables/maplibre/useFieldOfRegard\";\nimport { useLocationMarker } from \"./composables/maplibre/useMarker\";\nimport { useRectangleSelection } from \"./composables/maplibre/useRectangleSelection\";\nimport { addRectangleLayer, updateRectangleBounds, removeRectangleLayer } from \"./composables/maplibre/utils\";\nimport { usePointSelection } from \"./composables/maplibre/usePointSelection\";\nimport { addPointLayer, updatePointLocation, removePointLayer, regionBounds, fitBounds } from \"./composables/maplibre/utils\";\nimport { useMultiMarker } from './composables/maplibre/useMultiMarker';\nimport { useEsriLayer } from \"./esri/maplibre/useEsriImageLayer\";\nimport { TempoDataService } from \"./esri/services/TempoDataService\";\n\n\n\n// const zoomScale = 0.5; // for maplibre-gl\n\n\nimport { AllAvailableColorMaps } from \"./colormaps\";\nimport { ESRI_URLS, MOLECULE_OPTIONS, MoleculeType } from \"./esri/utils\";\n\n\nimport { stretches, colorramps } from \"./esri/ImageLayerConfig\";\n\nimport { EsriSampler } from \"./esri/services/sampling\";\nconst zoomScale = 0.5; // for matplibre-gl\n// import { useEsriLayer } from \"./esri/maplibre/useEsriImageLayerPlain\"; // do not use\n\n\nconst BACKEND: MappingBackends = \"maplibre\" as const;\ntype BackendT = typeof BACKEND;\n\ntype RectangleSelectionType = RectangleSelection<BackendT>;\ntype PointSelectionType = PointSelection<BackendT>;\ntype UnifiedRegionType = UnifiedRegion<BackendT>;\n\n\ntype SheetType = \"text\" | \"video\" | null;\ntype Timeout = ReturnType<typeof setTimeout>;\n\n\n/**************\n * UI Setup\n *************/\n// const hash = window.location.hash;\nconst hideIntro = \"true\";\nconst OPT_OUT_KEY = \"tempo-lite-optout\" as const;\nconst UUID_KEY = \"tempo-lite-uuid\" as const;\nconst optOut = true; //typeof storedOptOut === \"string\" ? storedOptOut === \"true\" : null;\nconst infoColor = \"#092088\";\nconst homeLat = 40.044;\nconst homeLon = -98.789;\ntype UserSelectionType = UserSelection;\nconst testErrorAmount = 0.25e15;\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'TempoLite',\n  setup(__props) {\n\nconst display = useDisplay();\nconst calendar = ref<DatePickerInstance | null>(null);\nconst urlParams = new URLSearchParams(window.location.search);\nconst showSplashScreen = ref(new URLSearchParams(window.location.search).get(\"splash\")?.toLowerCase() !== \"false\");\nconst WINDOW_DONTSHOWINTRO = hideIntro ? true : window.localStorage.getItem(\"dontShowIntro\") === 'true';\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore --> msPointerEnabled may not be defined in window.navigator\nconst touchscreen = ref(('ontouchstart' in window) || ('ontouchstart' in document.documentElement) || !!window.navigator.msPointerEnabled);\n\n\n\nconst STORY_VISIT_URL = `${API_BASE_URL}/tempo-lite/visit`;\nfunction pingServer(venue: string) {\n\n  fetch(STORY_VISIT_URL, {\n    \n    method: \"POST\",\n    \n    headers: {\n      \"Content-Type\": \"application/json\",\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? ''\n    },\n    \n    body: JSON.stringify({\n      info: { venue }\n    })\n    \n  })\n    .then((response) => {\n      if (!response.ok) {\n        console.error(\"Error pinging server\", response.status, response.statusText);\n      } \n    }).\n    catch((error) => {\n      console.error(\"Error pinging server\", error);\n    });\n}\n\nconst venue = (urlParams.get(\"venue\") ?? '').replace(/,/g, '-');\n\nif (venue !== '') {\n  // get current value of venue\n  const venues =  window.localStorage.getItem(\"venues\") ?? '';\n  // if they haven't visited this venue before, ping the server & save it\n  if (!venues.includes(venue)) {\n    pingServer(venue);\n    window.localStorage.setItem(\"venues\", venues ? `${venues},${venue}` : venue);\n  }\n}\n\n\nfunction clearUrl(hash = false) {\n  const newUrl = location.origin + location.pathname + (hash ? location.hash : '');\n  window.history.replaceState({}, '', newUrl);\n}\nclearUrl(true);\n\n\nconst introSlide = ref(1);\nconst inIntro = ref(!WINDOW_DONTSHOWINTRO);\nconst dontShowIntro = ref(WINDOW_DONTSHOWINTRO);\nconst showNotice = ref(true);\nconst sheet = ref<SheetType>(null);\nconst accentColor = ref(\"#068ede\");\nconst accentColor2 = ref(\"#ffcc33\");\n\nlet hasOptOutBeenOpened = false;\nconst introductionOpen = computed(() => inIntro.value && (introSlide.value === 1));\nconst userGuideOpen = computed(() => inIntro.value && (introSlide.value === 4));\n\nlet whatsNewOpenedCount = 0;\nlet whatsNewTimestamp = null as number | null;\nlet whatsNewOpenTimeMs = 0;\nlet introductionOpenedCount = 0;\nlet introductionTimestamp = null as number | null;\nlet introductionOpenTimeMs = 0;\nlet userGuideOpenedCount = 0;\nlet userGuideTimestamp = null as number | null;\nlet userGuideOpenTimeMs = 0;\nlet aboutDataOpenedCount = 0;\nlet aboutDataTimestamp = null as number | null;\nlet aboutDataOpenTimeMs = 0;\nlet creditsOpenedCount = 0;\nlet creditsTimestamp = null as number | null;\nlet creditsOpenTimeMs = 0;\nlet shareButtonClickedCount = 0;\nlet playButtonClickedCount = 0;\nlet timeSliderUsedCount = 0;\nlet opacitySliderUsedCount = 0;\nlet fieldOfRegardToggled = false;\nlet cloudMaskToggled = false;\nlet hiResDataToggled = false;\n\nlet userSelectedCalendarDates: number[] = [];\nlet userSelectedTimezones: string[] = [];\nlet userSelectedLocations: string[] = [];\nlet userSelectedNotableEvents: [string, string][] = [];\n\nconst STORY_DATA_URL = `${API_BASE_URL}/tempo-lite/data`;\nconst _storedOptOut = window.localStorage.getItem(OPT_OUT_KEY);\nconst maybeUUID = window.localStorage.getItem(UUID_KEY);\nconst showPrivacyDialog = ref(false);\nconst responseOptOut = ref(optOut);\nconst existingUser = maybeUUID !== null;\nconst uuid = maybeUUID ?? v4();\nif (!existingUser) {\n  window.localStorage.setItem(UUID_KEY, uuid);\n}\n\nfunction selectSheet(name: SheetType) {\n  if (sheet.value === name) {\n    sheet.value = null;\n    nextTick(() => {\n      blurActiveElement();\n    });\n  } else {\n    sheet.value = name;\n  }\n}\n\nconst showTextSheet = computed({\n  get() {\n    return sheet.value === 'text';\n  },\n  set(_value: boolean) {\n    selectSheet('text');\n  }\n});\n\nconst cssVars = computed(() => {\n  return {\n    '--accent-color': accentColor.value,\n    '--accent-color-2': accentColor2.value,\n    '--app-content-height': showTextSheet.value ? '66%' : '100%',\n    '--info-background': infoColor,\n  };\n});\n\nconst smallSize = computed(() => {\n  return display.smAndDown.value;\n});\n\nconst mobile = computed(() => {\n  return smallSize.value && touchscreen.value;\n});\n\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction zpad(n: number, width: number = 2, character: string = \"0\"): string {\n  return n.toString().padStart(width, character);\n}\n\n/************\n * TIMESTAMP SETUP\n ************/\nconst timestamps = ref<number[]>([]); // we need _something_ so that downstream steps have valid dates to initialize with. \nconst {\n  timeIndex,\n  timestamp,\n  date,\n  singleDateSelected,\n  maxIndex,\n  minIndex,\n  uniqueDays,\n  uniqueDaysIndex,\n  setNearestDate,\n  moveBackwardOneDay,\n  moveForwardOneDay,\n  nearestDateIndex } = useUniqueTimeSelection(timestamps);\n\nconst timestampsLoaded = ref(false);\n\n\n\n/************\n * INITIAL LOCATIONS SETUP\n ************/\n\n\nconst initLat = parseFloat(urlParams.get(\"lat\") || '40.044');\nconst initLon = parseFloat(urlParams.get(\"lon\") || '-98.789');\nconst initZoom = parseFloat(urlParams.get(\"zoom\") || `${4 * zoomScale}`); // 4 is the default zoom level for the map, multiplied by zoomScale for maplibre\nconst initTime = urlParams.get(\"t\");\nconst initState = ref<InitMapOptions>({\n  loc: [initLat, initLon] as LatLngPair,\n  zoom: initZoom,\n  t: initTime ? +initTime : null\n});\n\n\nconst homeZoom = 4 * zoomScale; // 4 is the default zoom level for the map, multiplied by zoomScale for maplibre\nconst homeState = ref({\n  loc: [homeLat, homeLon] as LatLngPair,\n  zoom: homeZoom,\n  t: null as number | null\n});\n\n\nconst radio = ref<number | null>(null);\nconst sublocationRadio = ref<number | null>(null);\n\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst { currentBounds: imageBounds } = useBounds(date); \n\n\n\n\n\nconst selectedTimezone = ref(\"US/Eastern\");\nconst playing = ref(false);\nconst playInterval = ref<Timeout | null>(null);\nconst searchOpen = ref(true);\nconst searchErrorMessage = ref<string | null>(null);\nconst showControls = ref(false);\nconst showCredits = ref(false);\nconst showAboutData = ref(false);\nconst showUserGuide = ref(false);\n\nconst showLocationMarker = ref(true);\nconst currentUrl = ref(window.location.href);\nconst showChanges = ref(false);\n\n\n\n\n\n\nconst showClouds = ref(false);\nconst opacity = ref(0.9);\n\n// const cloudOverlay = useImageOverlay(cloudUrl, opacity, imageBounds, 'cloud-overlay');\n// const imageOverlay = useImageOverlay(imageUrl, opacity, imageBounds, 'image-overlay');\n\n\nconst whichMolecule = ref<MoleculeType>('no2');\n\nfunction moleculeName(molecule: MoleculeType): string {\n  return MOLECULE_OPTIONS.find(m => m.value == molecule)?.title ?? \"\";\n}\n\nconst mapTitle = computed(() => {\n  const currentMolecule = MOLECULE_OPTIONS.find(m => m.value === whichMolecule.value);\n  if (!currentMolecule) {\n    return '';\n  }\n  return currentMolecule.title;\n});\n\nconst colorbarOptions = {\n  'no2': {stretch: stretches['NO2_Troposphere'], cbarScale: 1e14, colormap: colorramps['NO2_Troposphere'] + '_r', label:'NO<sub>2</sub>&nbsp;&nbsp;'},\n  'no2Monthly': {stretch: stretches['NO2_Troposphere'], cbarScale: 1e14, colormap: colorramps['NO2_Troposphere'] + '_r', label: 'NO<sub>2</sub>&nbsp;&nbsp;'},\n  'no2DailyMax': {stretch: stretches['NO2_Troposphere'], cbarScale: 1e14, colormap: colorramps['NO2_Troposphere'] + '_r', label: 'NO<sub>2</sub>&nbsp;&nbsp;'},\n  'o3': {stretch: stretches['Ozone_Column_Amount'], cbarScale: 1, colormap: colorramps['Ozone_Column_Amount'] + '_r', label: 'Ozone&nbsp;'},\n  'hcho': {stretch: stretches['HCHO'], cbarScale: 1e14, colormap: colorramps['HCHO'] + '_r', label: 'Formaldehyde&nbsp;&nbsp;'},\n  'hchoMonthly': {stretch: stretches['HCHO'], cbarScale: 1e14, colormap: colorramps['HCHO'] + '_r', label: 'Formaldehyde&nbsp;&nbsp;'},\n  'hchoDailyMax': {stretch: stretches['HCHO'], cbarScale: 1e14, colormap: colorramps['HCHO'] + '_r', label: 'Formaldehyde&nbsp;&nbsp;'},\n};\n\n\n\n\n// computed\nconst esriUrl = computed(() => {\n  return ESRI_URLS[whichMolecule.value].url;\n});\nconst esriVariable = computed(() => {\n  return ESRI_URLS[whichMolecule.value].variable;\n});\n\n// Create TempoDataService instance\nconst tempoDataService = new TempoDataService(esriUrl.value, esriVariable.value);\n\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst {getEsriTimeSteps, loadingEsriTimeSteps, addEsriSource, esriTimesteps, changeUrl, renderOptions} = useEsriLayer(\n  esriUrl.value,\n  esriVariable.value,\n  timestamp,\n  opacity,\n);\ngetEsriTimeSteps();\nwatch(esriTimesteps, (newSteps, _oldSteps) => {\n  if (newSteps.length > 0) {\n    timestamps.value = newSteps.sort();\n  }\n});\n// renderOptions.value.colormap = 'Plasma';\n\nfunction handleEsriTimeSelected(ts:number, _index: number) {\n  const idx = timestamps.value.indexOf(ts);\n  console.log(`ESRI time selected: ${new Date(ts)} (nearest index ${idx})`);\n  if (idx >= 0) {\n    timeIndex.value = idx;\n  }\n  // We may need something like this when we get back the monthly average service.\n  //singleDateSelected.value = new Date(ts);\n}\n\nwatch(whichMolecule, (newMolecule) => {\n  changeUrl(ESRI_URLS[newMolecule].url, ESRI_URLS[newMolecule].variable);\n  // Update TempoDataService with new URL and variable\n  tempoDataService.setBaseUrl(ESRI_URLS[newMolecule].url);\n  tempoDataService.setVariable(ESRI_URLS[newMolecule].variable);\n  getEsriTimeSteps();\n  console.log(colorbarOptions[newMolecule].colormap.toLowerCase());\n  colorMap.value = colorbarOptions[newMolecule].colormap.toLowerCase();\n});\n\nconst onMapReady = (map) => {\n  map.on('moveend', updateURL);\n  map.on('zoomend', updateURL);\n  addEsriSource(map);\n};\nconst showRoads = ref(true);\nconst { map, createMap, setView } = useMap(\"map\", initState.value, showRoads, onMapReady);\n\nconst { \n  addFieldOfRegard,\n  showFieldOfRegard,\n  updateFieldOfRegard \n} = useFieldOfRegard(singleDateSelected, map);\n\nconst {\n  setMarker,\n  removeMarker,\n  locationMarker\n} = useLocationMarker(map,  showLocationMarker.value);\n\n\nconst regions = ref<UnifiedRegionType[]>([]);\nlet selectionCount = 0;\n\n// Selections now are UserSelection objects directly\nconst selections = ref<UserSelectionType[]>([]);\nconst selection = ref<UserSelectionType | null>(null);\nconst tableSelection = ref<UserSelectionType | null>(null);\nconst openGraphs = ref<Record<string,boolean>>({});\n\nconst showTable = computed({\n  get() {\n    return tableSelection.value != null;\n  },\n  set(value: boolean) {\n    if (!value) {\n      tableSelection.value = null;\n    }\n  }\n});\n\n\nfunction graphTitle(selection: UserSelection): string {\n  const molecule = selection.molecule;\n  const molTitle = MOLECULE_OPTIONS.find(m => m.value === molecule)?.title || '';\n  return `${molTitle} Time Series for ${selection.region.name}`;\n}\n\nconst showNO2Graph = ref(false);\nconst no2GraphData = computed(() =>{\n  return selections.value.filter(s => s.molecule.includes('no2') && selectionHasSamples(s));\n});\n\n// ozone version\nconst showO3Graph = ref(false);\nconst o3GraphData = computed(() =>{\n  return selections.value.filter(s => s.molecule.includes('o3') && selectionHasSamples(s));\n});\n\n// formaldehyde version\nconst showHCHOGraph = ref(false);\nconst hchoGraphData = computed(() =>{\n  return selections.value.filter(s => s.molecule.includes('hcho') && selectionHasSamples(s));\n});\n\nconst showErrorBands = ref(true);\n\nconst selectedIndex = computed({\n  get() {\n    const selectedID = selection.value?.id;\n    const idx = selections.value.findIndex(s => s.id == selectedID);\n    return idx >= 0 ? idx : null;\n  },\n  set(index: number | null) {\n    if (typeof index === \"number\") {\n      selection.value = selections.value[index] ?? null;\n    } else {\n      selection.value = null;\n    }\n  }\n});\n\nfunction setSelection(sel: UserSelectionType | null) {\n  if (sel === null) {\n    selection.value = null;\n    selectedIndex.value = null;\n    return null;\n  }\n  const idx = selections.value.findIndex(s => s.id === sel.id);\n  if (idx == -1) {\n    // must already be in selections, so throw an error if that is not true\n    throw new Error(`Selection with ID ${sel.id} not found in selections.`);\n  }\n  selection.value = selections.value[idx];\n  selectedIndex.value = idx;\n  return selection.value;\n}\n\nfunction addUserSelection(sel: UserSelectionType) {\n  selections.value = [...selections.value, sel];\n  return sel;\n}\n\nfunction handleSelectionCreated(sel: UserSelectionType) {\n  addUserSelection(sel);\n  fetchDataForSelection(sel);\n  setSelection(sel);\n  createSelectionActive.value = false;\n}\n\n// Track total created selections for unique naming\n// Removed timeRangeCount/timeRangeNameMap and dedup logic; we'll just append custom ranges and always keep a current day option.\nlet timeRangeCount = 0;\n\n// Simple deterministic color palette (unused in composition now but kept for future region coloring if needed)\n// const okabeAndItoColorblindSafeColors = ['#D55E00', '#56B4E9', '#F0E442', '#009E73', '#E69F00', '#0072B2', '#CC79A7',];\n\nconst paulTolMutedColorblindSafeColors = ['#CC6677', '#332288', '#117733', '#882255', '#44aa99', '#999933', '#aa4499',];\n\nconst COLORS = [\n  ...paulTolMutedColorblindSafeColors, '#e6194b', '#3cb44b', '#4363d8', '#911eb4', '#46f0f0',\n  '#f032e6', '#bcf60c', '#fabebe', '#008080', '#e6beff', '#9a6324', '#fffac8',\n  '#800000', '#aaffc3', '#808000', '#ffd8b1', '#000075', '#808080', '#ffffff',\n  '#000000'\n];\n\n// implement rectangle and point\nconst { active: rectangleSelectionActive, selectionInfo: rectangleInfo } = useRectangleSelection(map, \"red\");\nconst { active: pointSelectionActive, selectionInfo: pointInfo } = usePointSelection(map, false);\n\nconst loadingSamples = ref<string | false>(false);\n\nconst createTimeRangeActive = ref(false);\nconst createSelectionActive = ref(false);\nconst openPanels = ref<number[]>([]);\nconst openSelection = ref<string | null>(null);\n\nconst _testError = { lower: testErrorAmount, upper: testErrorAmount };\n\nconst sampleErrors = ref<Record<string, string | null>>({});\nconst sampleErrorID = ref<string | null>(null);\nconst pointSampleErrors = ref<Record<string, string | null>>({});\nconst pointSampleResults = ref<Record<string, Record<number, { value: number | null; date: Date }> | null>>({});\nconst loadingPointSample = ref<string | false>(false);\nconst datasetRowRefs = ref({});\n\n// UI state for time range management\n\nconst useCustomTimeRange = ref(true); // Binary choice: false = current day, true = custom range\n\n// Store markers for timeseries locations\nconst timeseriesMarkerApi = useMultiMarker(map, {\n  shape: 'circle',\n  color: '#ff0000',\n  fillColor: '#ff0000',\n  fillOpacity: 0.8,\n  opacity: 1,\n  radius: 0.02 / 2, // degrees\n  scale: 'world',\n  outlineColor: '#ff0000',\n});\n\nconst showDataSamplingMarkers = ref(true);\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction clearTimeseriesMarkers() {\n  timeseriesMarkerApi.clearMarkers();\n}\n\nconst samplingPreviewMarkers = useMultiMarker(map, {\n  shape: 'circle',\n  color: '#0000ff',\n  fillColor: '#0000ff',\n  fillOpacity: 0.5,\n  opacity: 1,\n  radius: 0.02 / 2, // degrees\n  scale: 'world',\n  outlineColor: '#0000ff',\n  label: 'predicted-samples-locations'\n});\n\n\nwatch([showDataSamplingMarkers, () => selections.value.map(s => selectionHasSamples(s))], (newVal) => {\n  if (!newVal[0]) {\n    clearTimeseriesMarkers();\n  }\n  if (newVal[0]) {\n    const locations = selections.value\n      .filter(sel => selectionHasSamples(sel))\n      .map(sel => sel.locations ?? [])\n      .flat();\n    \n    timeseriesMarkerApi.addMarkers(locations);\n  }\n  \n});\n\nconst showSamplingPreviewMarkers = ref(false);\n// const sampler = new EsriSampler( tempoDataService.meta,);\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nconst sampler =  ref<EsriSampler>(null);\ntempoDataService.withMetadataCache().then(meta => {\n  sampler.value = new EsriSampler(meta);\n});\nwatch([showSamplingPreviewMarkers, regions, ()=> regions.value.length], (newVal) => {\n  const show = newVal[0];\n  const regs = newVal[1];\n  samplingPreviewMarkers.clearMarkers();\n  let locations: {x: number, y:number}[] = [];\n  if (sampler.value && show && regs.length > 0) {\n    regs.forEach(r => {\n      if (r.geometryType === 'rectangle') {\n        sampler.value.setGeometry(r.geometryInfo);\n        if (tempoDataService.meta) {\n          sampler.value.setMetadata(tempoDataService.meta);\n        }\n        locations = [...locations, ...sampler.value.getSampleLocationsGrid(maxSampleCount.value)];\n        // samplingPreviewMarkers.addMarkers(locations);\n      }\n    });\n    samplingPreviewMarkers.addMarkers(locations);\n  }\n  \n});\n\nfunction selectionHasSamples(sel: UserSelectionType): boolean {\n  return (sel.samples !== undefined) && Object.keys(sel.samples).length > 0;\n}\n\n// Type Guards\nfunction isRectangleSelection(selection: UnifiedRegionType): selection is RectangleSelectionType {\n  return selection.geometryType === 'rectangle';\n}\n\nfunction isPointSelection(selection: UnifiedRegionType): selection is PointSelectionType {\n  return selection.geometryType === 'point';\n}\n\nfunction regionHasDatasets(region: UnifiedRegionType): boolean {\n  const sel = selections.value.find(s => s.region.id === region.id);\n  return sel !== undefined;\n}\nfunction regionHasSamples(region: UnifiedRegionType): boolean {\n  const sel = selections.value.find(s => s.region.id === region.id);\n  if (!sel) {\n    return false;\n  }\n  return selectionHasSamples(sel);\n}\n\n\n// Replace primitive customTimeRange with TimeRange object\n// OLD:\n// const customTimeRange = ref<MillisecondRange | MillisecondRange[] | null>(null);\nconst customTimeRange = ref<TimeRange | null>(null);\n\n// Add TimeRange object support for custom time ranges, update handler to accept (ranges, selectionType), name and describe new custom ranges, and adjust dependent logic.\nfunction handleDateTimeRangeSelectionChange(timeRanges: MillisecondRange[], selectionType?: string) {\n  if (!Array.isArray(timeRanges) || timeRanges.length === 0) {\n    console.error('No time ranges received from DateTimeRangeSelection');\n    return;\n  }\n  const normalized = atleast1d(timeRanges);\n  // No dedup tracking now\n  // Build description based on selection type\n  let descriptionBase = 'Custom';\n  switch (selectionType) {\n  case 'weekday':\n    descriptionBase = 'Weekday Pattern';\n    break;\n  case 'daterange':\n    descriptionBase = 'Date Range';\n    break;\n  case 'singledate':\n    descriptionBase = 'Single Date';\n    break;\n  }\n  const formatted = formatTimeRange(normalized);\n  const description = `${descriptionBase} (${formatted})`;\n  timeRangeCount += 1;\n  const tr: TimeRange = {\n    id: v4(),\n    name: formatted,\n    description,\n    range: normalized.length === 1 ? normalized[0] : normalized\n  };\n  customTimeRange.value = tr;\n  useCustomTimeRange.value = true;\n  // Add to available list if new (compare by serialized range key)\n  availableTimeRanges.value.push(tr); // always append\n\n  createTimeRangeActive.value = false;\n  console.log(`Registered ${tr.name}: ${tr.description}`);\n}\n\n// Selection management handlers\nfunction activateRectangleSelectionMode() {\n  rectangleSelectionActive.value = !rectangleSelectionActive.value;\n}\n\nfunction activatePointSelectionMode() {\n  pointSelectionActive.value = !pointSelectionActive.value;\n}\n\n// clear all the data from the current selection\n// This is not used right now, but it is useful to have\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction clearSelectionSamples(sel: UserSelectionType) {\n  sel.samples = undefined;\n  sel.errors = undefined;\n}\n\n// edit the region of the given selection.\nfunction _editRegionGeometry(region: UnifiedRegionType) {\n  if (regionHasSamples(region)) {\n    return;\n  }\n  regionBeingEdited.value = region;\n  if (isRectangleSelection(region)) {\n    rectangleSelectionActive.value = true;\n  } else if (isPointSelection(region)) {\n    pointSelectionActive.value = true;\n  }\n  console.log(`Editing geometry for ${region.geometryType}: ${region.name}`);\n}\n\nconst showEditSelectionNameDialog = ref(false);\nfunction editSelectionName(sel: UserSelectionType | null) {\n  if (sel === null) {\n    console.error(\"Cannot edit name of a null selection.\");\n    return;\n  }\n  // Set the selection to edit\n  setSelection(sel);\n  \n  // Open dialog for renaming\n  showEditSelectionNameDialog.value = true;\n}\n\nfunction createNewSelection(geometryType: 'rectangle' | 'point') {\n  // Clear current selection to force new selection creation\n  setSelection(null);\n  rectangleSelectionActive.value = geometryType === 'rectangle';\n  pointSelectionActive.value = geometryType === 'point';\n}\n\nasync function fetchDataForSelection(sel: UserSelectionType) {\n\n  sel.loading = true;\n  loadingSamples.value = sel.id;\n  sampleErrors.value[sel.id] = null;\n  \n  const timeRanges = atleast1d(sel.timeRange.range);\n  \n  try {\n    tempoDataService.setBaseUrl(ESRI_URLS[sel.molecule].url);\n    const data = await tempoDataService.fetchTimeseriesData(sel.region.geometryInfo, timeRanges);\n    sel.samples = data.values;\n    sel.errors = data.errors;\n    loadingSamples.value = \"finished\";\n    console.log(`Fetched data for ${timeRanges.length} time range(s)`);\n  } catch (error) {\n    sampleErrors.value[sel.id] = error instanceof Error ? error.message : String(error);\n    loadingSamples.value = \"error\";\n  }\n\n  sel.loading = false;\n\n  markSelectionUpdated(sel);\n\n}\n\nfunction markSelectionUpdated(selection: UserSelectionType) {\n  const index = selections.value.findIndex(sel => sel.id === selection.id);\n  if (index >= 0) {\n    selections.value[index] = { ...selection };\n  }\n}\n\n// 30 is the value we have been using\nconst maxSampleCount = ref(50);\n\n// New: fetch data for composed UserSelection\n// fetchDataForSelection already handles UserSelection\n\nasync function fetchCenterPointDataForSelection(sel: UserSelectionType) {\n  loadingSamples.value = sel.id;\n  sampleErrors.value[sel.id] = null;\n  \n  const timeRanges = atleast1d(sel.timeRange.range);\n  \n  try {\n    tempoDataService.setBaseUrl(ESRI_URLS[sel.molecule].url);\n    const data = await tempoDataService.fetchCenterPointData(\n      sel.region.geometryInfo,\n      timeRanges,\n      { sampleCount: maxSampleCount.value }\n    );\n    if (data) {\n      sel.samples = data.values;\n      sel.locations = data.locations;\n      loadingSamples.value = \"finished\";\n      console.log(`Fetched center point data for ${timeRanges.length} time range(s)`);\n    }\n  } catch (error) {\n    sampleErrors.value[sel.id] = error instanceof Error ? error.message : String(error);\n    loadingSamples.value = \"error\";\n  }\n}\n\n\nfunction createDraftSelection(info: RectangleSelectionInfo | PointSelectionInfo, geometryType: 'rectangle' | 'point') {\n  const color = COLORS[selectionCount % COLORS.length];\n  selectionCount += 1;\n  \n  const isRect = geometryType === 'rectangle';\n  const { layer } = isRect ? \n    addRectangleLayer(map.value!, info as RectangleSelectionInfo, color)\n    : addPointLayer(map.value!, info as PointSelectionInfo, color);\n\n\n  const newSelection = {\n    id: v4(),\n    name: `${isRect ? 'Region' : 'Point'} ${selectionCount}`,\n    geometryInfo: info,\n    geometryType: geometryType,\n    color,\n    layer: layer\n  } as UnifiedRegionType;\n  \n  regions.value = [...regions.value, newSelection];\n  console.log(`Created ${geometryType} ${newSelection.name}`);\n}\n\nfunction moveMapToRegion(region: UnifiedRegionType) {\n  const mapV = map.value;\n  if (!mapV) {\n    return;\n  }\n\n  const bounds = regionBounds(region);\n  fitBounds(mapV, bounds, true);\n}\n\n\nconst availableRegions = computed(() => regions.value);\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst availableMolecules = computed(() => MOLECULE_OPTIONS.map(o => ({ key: o.value as MoleculeType, title: o.title })));\n// Time ranges maintained as a list of TimeRange objects\nconst availableTimeRanges = ref<TimeRange[]>([]);\n\n// Dedup helper removed (no longer needed)\n\n// dedup availableTimeRange and add in the effective time range (which is an old way of storing the current time range)\n// Always-present current day option at index 0\nconst displayedDayTimeRange = computed<TimeRange>(() => {\n  const range = rangeForSingleDay(singleDateSelected.value, selectedTimezone.value);\n  return {\n    id: 'displayed-day',\n    name: 'Displayed Day',\n    description: `Displayed Day (${new Date(range.start).toLocaleDateString()})`,\n    range,\n  };\n});\n\nwatch(singleDateSelected, (_newDate, oldDate) => {\n  const oldRange = rangeForSingleDay(oldDate, selectedTimezone.value);\n  const displayedDateSelections = selections.value.filter(sel => {\n    const range = sel.timeRange.range;\n    return !Array.isArray(range) &&\n           range.start === oldRange.start &&\n           range.end === oldRange.end;\n  });\n  if (displayedDateSelections.length === 0) {\n    return;\n  }\n\n  const index = availableTimeRanges.value.findIndex(timeRange => {\n    const range = timeRange.range;\n    return !Array.isArray(range) &&\n           range.start === oldRange.start &&\n           range.end === oldRange.end &&\n           timeRange.id !== \"displayed-day\";\n  });\n  if (index < 0) {\n    const formatted = formatSingleRange(oldRange);\n    const oldTimeRange: TimeRange = {\n      id: v4(),\n      name: formatted,\n      description: formatted,\n      range: oldRange,\n    };\n    availableTimeRanges.value.push(oldTimeRange);\n  }\n});\n\nwatch(displayedDayTimeRange, (val) => {\n  // console.log(singleDateSelected.value, getTimezoneOffset(selectedTimezone.value, singleDateSelected.value), val,);\n  if (!availableTimeRanges.value.length) {\n    availableTimeRanges.value.push(val);\n  } else {\n    availableTimeRanges.value[0] = val;\n  }\n}, { immediate: true });\n\n\n// Options for time range dropdown sourced from availableTimeRanges (TimeRange objects)\nconst timeRangeOptions = computed(() => availableTimeRanges.value.map(tr => ({ title: tr.description || tr.name, value: tr.range })));\n\nwatch(timeRangeOptions, (newOptions,) => {\n  // Log the change in time range options\n  console.log(`Time range options changed:`, newOptions);\n});\n\nwatch(selections, (newSelections, oldSelections) => {\n  // just log out the length difference\n  console.log(`Selections changed: ${oldSelections.length} -> ${newSelections.length}`);\n});\n\nconst showEditRegionNameDialog = ref(false);\nconst regionBeingEdited = ref<UnifiedRegionType | null>(null);\nfunction editRegionName(region: UnifiedRegionType) {\n  console.log(`Editing ${region.geometryType}: ${region.name}`);\n  // Set the region to edit\n  const existing = (regions.value as UnifiedRegionType[]).find(r => r.id === region.id);\n  if (!existing) {\n    console.error(`Region with ID ${region.id} not found.`);\n    return;\n  }\n  regionBeingEdited.value = region;\n  // Open dialog for renaming\n  showEditRegionNameDialog.value = true;\n}\nfunction setRegionName(region: UnifiedRegionType, newName: string) {\n  if (newName.trim() === '') {\n    console.error(\"Region name cannot be empty.\");\n    regionBeingEdited.value = null;\n    return;\n  }\n  const existing = (regions.value as UnifiedRegionType[]).find(r => r.name === newName && r.id !== region.id);\n  if (existing) {\n    console.error(`A region with the name \"${newName}\" already exists.`);\n    return;\n  }\n  region.name = newName;\n  console.log(`Renamed ${region.geometryType} region to: ${newName}`);\n  regionBeingEdited.value = null;\n}\n\nfunction deleteTimeRange(range: TimeRange) {\n  const index = availableTimeRanges.value.findIndex(r => r.id === range.id);\n  if (index < 0) {\n    return;\n  }\n  availableTimeRanges.value.splice(index, 1);\n}\n\nfunction deleteRegion(region: UnifiedRegionType) {\n  const index = regions.value.findIndex(r => r.id === region.id);\n  if (index < 0) {\n    return;\n  }\n  if (map.value && region.layer) {\n    if (isRectangleSelection(region)) {\n      removeRectangleLayer(map.value, region.layer);\n    } else if (isPointSelection(region)) {\n      removePointLayer(map.value, region.layer);\n    }\n  }\n  regions.value.splice(index, 1);\n}\n\nfunction deleteSelection(sel: UserSelectionType) {\n  const index = selections.value.findIndex(s => s.id == sel.id);\n  if (index < 0) {\n    return;\n  }\n  const isSelected = selectedIndex.value === index;\n  // if (map.value && sel.region.layer) {\n  //   removeRectangleLayer(map.value, sel.region.layer);\n  // }\n  selections.value.splice(index, 1);\n  if (isSelected) {\n    if (index > 0) {\n      selection.value = selections.value[index - 1];\n    } else if (selections.value.length > 0) { \n      selection.value = selections.value[0];\n    } else {\n      selection.value = null;\n    }\n  }\n\n  delete datasetRowRefs.value[sel.id];\n  delete openGraphs.value[sel.id];\n}\n\n\n\nonMounted(() => {\n  showSplashScreen.value = false;\n  createMap();\n  \n  usezoomhome(map, homeState.value.loc, homeState.value.zoom, (_e: Event) => {\n    sublocationRadio.value = null;\n    // check if location marker is not null and on map. if so remove it\n    if (locationMarker.value !== null) {\n      removeMarker();\n    }\n  });\n\n  if (uniqueDays.value.length > 0) {\n    singleDateSelected.value = uniqueDays.value[uniqueDays.value.length - 1];\n  }\n  \n  \n  updateFieldOfRegard();\n  addFieldOfRegard();\n\n  createUserEntry();\n  window.addEventListener(\"visibilitychange\", () => {\n    if (document.visibilityState === \"hidden\") {\n      updateUserData();\n    } else {\n      resetData();\n    }\n  });\n  \n});\n\n\n\nconst datesOfInterest = computed(() => {\n  return interestingEvents.map(event => event.date);\n});\n\nconst dateIsDST = computed(() => {\n  if (!date.value) {\n    return false;\n  }\n  const standardOffset = getTimezoneOffset(selectedTimezone.value, new Date(date.value.getUTCFullYear(), 0, 1));\n  const currentOffset = getTimezoneOffset(selectedTimezone.value, date.value);\n  if (standardOffset === currentOffset) {\n    return false;\n  }\n  return true;\n});\n\nconst timezoneOptions = computed(() => {\n  return [\n    { tz: 'US/Eastern', name: dateIsDST.value ? 'Eastern Daylight' : 'Eastern Standard' },\n    { tz: 'US/Central', name: dateIsDST.value ? 'Central Daylight' : 'Central Standard' },\n    { tz: 'US/Mountain', name: dateIsDST.value ? 'Mountain Daylight' : 'Mountain Standard' },\n    { tz: 'US/Arizona', name: 'Mountain Standard' },\n    { tz: 'US/Pacific', name: dateIsDST.value ? 'Pacific Daylight' : 'Pacific Standard' },\n    { tz: 'US/Alaska', name: dateIsDST.value ? 'Alaska Daylight' : 'Alaska Standard' },\n    { tz: 'UTC', name: 'UTC' },\n  ];\n});\n\n// TODO: Maybe there's a built-in Date function to get this formatting?\nconst thumbLabel = computed(() => {\n  if (date.value === null || timestamp.value === null) {\n    return '';\n  }\n  const offset = getTimezoneOffset(selectedTimezone.value, date.value);\n  const dateObj = new Date(timestamp.value + offset);\n  const hours = dateObj.getUTCHours();\n  const amPm = hours >= 12 ? \"PM\" : \"AM\";\n  let hourValue = hours % 12;\n  if (hourValue === 0) {\n    hourValue = 12;\n  }\n  return `${date.value.getUTCMonth() + 1}/${dateObj.getUTCDate()}/${dateObj.getUTCFullYear()} ${hourValue}:${dateObj.getUTCMinutes().toString().padStart(2, '0')} ${amPm}`;\n});\n\n\n\n\nfunction updateURL() {\n  if (map.value) {\n    const center = map.value.getCenter();\n    let stateObj = null as Record<string, string> | null;\n    stateObj = {\n      lat: `${center.lat.toFixed(4)}`,\n      lon: `${center.lng.toFixed(4)}`,\n      zoom: `${map.value.getZoom()}`,\n      t: `${timestamp.value}`\n    };\n    const url = new URL(location.origin);\n    const searchParams = new URLSearchParams(stateObj ?? {});\n    // const hash = window.location.hash;\n    // url.hash = hash;\n    url.pathname = location.pathname;\n    window.history.replaceState(null, '', url.toString());\n    url.search = searchParams.toString();\n    currentUrl.value = url.toString();\n    // window.history.replaceState(stateObj, '', url);\n  }\n}\n\n\nconst colorMap = ref<AllAvailableColorMaps>('None');\ncolorMap.value = colorbarOptions[whichMolecule.value].colormap.toLowerCase();\n\n\nconst currentColormap = computed(() => {return (x: number): string => {\n  // const rgb = cbarNO2(0, 1, x);\n  const rgb = colormap(colorMap.value, 0 ,1 ,x);\n  return `rgba(${rgb[0]}, ${rgb[1]}, ${rgb[2]},1)`;\n};\n});\n\nasync function geocodingInfoForSearchLimited(searchText: string): Promise<MapBoxFeatureCollection | null> {\n  return geocodingInfoForSearch(searchText, {\n    countries: [\"US\", \"CA\", \"MX\", \"CU\", \"BM\", \"HT\", \"DO\"],\n    limit: 10,\n  }).catch(_err => null);\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction resetMapBounds() {\n  setView([40.044, -98.789] as LatLngPair, 4);\n}\n\nfunction setLocationFromSearch(items: [MapBoxFeature | null, string]) {\n  const [feature, text] = items;\n  if (feature !== null) {\n    // Latitude, Longitude order\n    const coordinates: LatLngPair = [feature.center[1], feature.center[0]] as LatLngPair;\n    setView(coordinates, 12);\n    setMarker(coordinates);\n    userSelectedLocations.push(text);\n  }\n}\n\nfunction play() {\n  playInterval.value = setInterval(() => {\n    if (timeIndex.value >= maxIndex.value) {\n      if (playInterval.value) {\n        // clearInterval(this.playInterval);\n        // this.playInterval = null;\n        // let it loop\n        timeIndex.value = minIndex.value;\n      }\n    } else {\n      timeIndex.value += 1;\n    }\n  }, 1000);\n}\n\n\nfunction pause() {\n  if (playInterval.value) {\n    clearInterval(playInterval.value);\n  }\n}\n\n\n\n\n\n\n\n\n\n\nconst locationsOfInterest = ref<Array<Array<{ latlng: LatLngPair; zoom: number; index?: number }>>>([]);\nfunction goToLocationOfInterst(index: number, subindex: number) {\n  if (index < 0 || index >= locationsOfInterest.value.length) {\n    console.error('Invalid index for location of interest');\n    return;\n  }\n  const loi = locationsOfInterest.value[index][subindex];\n  setView(loi.latlng, loi.zoom * zoomScale); // Adjust zoom level for maplibre\n  if (loi.index !== undefined) {\n    timeIndex.value = loi.index;\n  } else {\n    console.error('No index found for location of interest');\n  }\n}\n\n\nfunction onTimeSliderEnd(_value: number) {\n  timeSliderUsedCount += 1; \n}\n\nfunction onOpacitySliderEnd(_value: number) {\n  opacitySliderUsedCount += 1;\n}\n\nasync function createUserEntry() {\n  if (responseOptOut.value) {\n    return;\n  }\n\n  const response = await fetch(`${STORY_DATA_URL}/${uuid}`, {\n    method: \"GET\",\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    headers: { \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? \"\" }\n  });\n  const content = await response.json();\n  const exists = response.status === 200 && content.response?.user_uuid != undefined;\n  if (exists) {\n    return;\n  }\n\n  fetch(`${STORY_DATA_URL}`, {\n    method: \"PUT\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? \"\",\n    },\n    body: JSON.stringify({\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_uuid: uuid,\n    }),\n  });\n}\n\nfunction resetData() {\n  whatsNewOpenedCount = 0;\n  introductionOpenedCount = 0;\n  userGuideOpenedCount = 0;\n  aboutDataOpenedCount = 0;\n  creditsOpenedCount = 0;\n  shareButtonClickedCount = 0;\n  playButtonClickedCount = 0;\n  timeSliderUsedCount = 0;\n  opacitySliderUsedCount = 0;\n  userSelectedCalendarDates = [];\n  userSelectedTimezones = [];\n  userSelectedLocations = [];\n  userSelectedNotableEvents = [];\n\n  aboutDataOpenTimeMs = 0;\n  userGuideOpenTimeMs = 0;\n  introductionOpenTimeMs = 0;\n  whatsNewOpenTimeMs = 0;\n  creditsOpenTimeMs = 0;\n  fieldOfRegardToggled = false;\n  cloudMaskToggled = false;\n  hiResDataToggled = false;\n\n  const now = Date.now();\n  creditsTimestamp = showCredits.value ? now : null;\n  aboutDataTimestamp = showAboutData.value ? now : null;\n}\n\nasync function updateUserData() {\n  if (responseOptOut.value) {\n    return;\n  }\n\n  const now = Date.now();\n  const creditsTime = (showCredits.value && creditsTimestamp !== null) ? now - creditsTimestamp : creditsOpenTimeMs;\n  const aboutDataTime = (showAboutData.value && aboutDataTimestamp !== null) ? now - aboutDataTimestamp: aboutDataOpenTimeMs;\n  const whatsNewTime = (showChanges.value && whatsNewTimestamp !== null) ? now  - whatsNewTimestamp : whatsNewOpenTimeMs;\n  const introductionTime = (introductionOpen.value && introductionTimestamp !== null) ? now - introductionTimestamp : introductionOpenTimeMs;\n  const userGuideTime = (userGuideOpen.value && userGuideTimestamp !== null) ? now - userGuideTimestamp : userGuideOpenTimeMs;\n\n  fetch(`${STORY_DATA_URL}/${uuid}`, {\n    method: \"PATCH\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? \"\",\n    },\n    body: JSON.stringify({\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_whats_new_opened_count: whatsNewOpenedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_whats_new_open_time_ms: whatsNewTime,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_introduction_opened_count: introductionOpenedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_introduction_open_time_ms: introductionTime,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_user_guide_opened_count: userGuideOpenedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_user_guide_open_time_ms: userGuideTime,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_about_data_opened_count: aboutDataOpenedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_about_data_open_time_ms: aboutDataTime,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_credits_opened_count: creditsOpenedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_credits_open_time_ms: creditsTime,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_share_button_clicked_count: shareButtonClickedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_calendar_dates: userSelectedCalendarDates,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_timezones: userSelectedTimezones,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_locations: userSelectedLocations,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_notable_events: userSelectedNotableEvents,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_play_clicked_count: playButtonClickedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_time_slider_used_count: timeSliderUsedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_opacity_slider_used_count: opacitySliderUsedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      field_of_regard_toggled: fieldOfRegardToggled,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      cloud_mask_toggled: cloudMaskToggled,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      high_res_data_toggled: hiResDataToggled,\n    }),\n    keepalive: true,\n  }).then(() => {\n    resetData();\n  });\n}\n\nwatch(timestampsLoaded, (loaded: boolean) => {\n  if (loaded) {\n    console.log('timestamps loaded');\n    if (initState.value.t) {\n      let index = uniqueDaysIndex(initState.value.t);\n      if (index == -1) {\n        return;\n      }\n      console.log('set the date');\n      singleDateSelected.value = uniqueDays.value[index];\n      index = nearestDateIndex(new Date(initState.value.t));\n      if (index == -1) {\n        return;\n      }\n      timeIndex.value = index;\n      // FIXME if needed. if we find the time is not being set, use nextTick\n      // this.$nextTick(() => { this.timeIndex = index;});\n    }\n  }\n});\n\nwatch(timestamp, (_val: number) => {\n  updateURL();\n});\n\nwatch(introSlide, (val: number) => {\n  inIntro.value = val < 5;\n});\n\nwatch(dontShowIntro, (val: boolean) => {\n  window.localStorage.setItem(\"dontShowIntro\", val.toString());\n  if (!val) {\n    inIntro.value = true;\n  }\n});\n\nwatch(inIntro, (value: boolean) => {\n  if (!value) {\n    if (responseOptOut.value === null && !hasOptOutBeenOpened) {\n      showPrivacyDialog.value = true;\n    }\n  }\n});\n\nwatch(showPrivacyDialog, (show: boolean) => {\n  if (show) {\n    hasOptOutBeenOpened = true;\n  }\n});\n\nwatch(responseOptOut, (optOut: boolean | null) => {\n  if (responseOptOut.value !== null) {\n    window.localStorage.setItem(OPT_OUT_KEY, String(optOut));\n  }\n});\n\n\n\nwatch(playing, (val: boolean) => {\n  if (val) {\n    play();\n    playButtonClickedCount += 1;\n  } else {\n    pause();\n  }\n});\n\n\nwatch(showFieldOfRegard, (_show: boolean) => {\n  fieldOfRegardToggled = true;\n});\n\nwatch(showClouds, (_show: boolean) => {\n  cloudMaskToggled = true;\n});\n\nwatch(showLocationMarker, (show: boolean) => {\n  if (locationMarker.value) {\n    if (show && map.value) {\n      locationMarker.value.addTo(map.value);\n      return;\n    } else {\n      locationMarker.value.remove();\n      return;\n    }\n  }\n});\n\nwatch(timestamps, () => {\n  if (uniqueDays.value.length === 0) {\n    return;\n  }\n  singleDateSelected.value = uniqueDays.value[uniqueDays.value.length - 1];\n});\n\nwatch(radio, (value: number | null) => {\n  if (value == null) {\n    setNearestDate(singleDateSelected.value.getTime());\n    sublocationRadio.value = null;\n    return;\n  }\n  const date = datesOfInterest.value[value] ?? singleDateSelected.value;\n  singleDateSelected.value = date;\n  setNearestDate(date.getTime());\n  if (sublocationRadio.value == 0 && value !== null) {\n    // run this manually as the watcher wouldn't trigger\n    goToLocationOfInterst(value, 0);\n  } else {\n    sublocationRadio.value = 0;\n  }\n});\n\nwatch(singleDateSelected, (value: Date) => {\n  // console.log(`singleDateSelected ${value}`);\n  const timestamp = value.getTime();\n  setNearestDate(timestamp);\n  if (radio.value !== null) {\n    const index = datesOfInterest.value.map(d => d.getTime()).indexOf(timestamp);\n    radio.value = index < 0 ? null : index;\n  }\n});\n\nwatch(sublocationRadio, (value: number | null) => {\n  if (value !== null && radio.value != null) {\n    goToLocationOfInterst(radio.value, value);\n  }\n});\n\n\nwatch(showChanges, (_value: boolean) => {\n  if (showNotice.value) {\n    showNotice.value = false;\n  }\n});\n\n\n\nwatch(showChanges, (show: boolean) => {\n  const now = Date.now();\n  if (show) {\n    whatsNewTimestamp = now;\n    whatsNewOpenedCount += 1;\n  } else if (whatsNewTimestamp !== null) {\n    whatsNewOpenTimeMs += (now - whatsNewTimestamp);\n    whatsNewTimestamp = null;\n  }\n});\n\nwatch(showAboutData, (show: boolean) => {\n  const now = Date.now();\n  if (show) {\n    aboutDataTimestamp = now;\n    aboutDataOpenedCount += 1;\n  } else if (aboutDataTimestamp !== null) {\n    aboutDataOpenTimeMs += (now - aboutDataTimestamp);\n    aboutDataTimestamp = null;\n  }\n});\n\nwatch(showCredits, (show: boolean) => {\n  const now = Date.now();\n  if (show) {\n    creditsTimestamp = now;\n    creditsOpenedCount += 1;\n  } else if (creditsTimestamp !== null) {\n    creditsOpenTimeMs += (now - creditsTimestamp);\n    creditsTimestamp = null;\n  }\n});\n\nwatch(introductionOpen, (open: boolean) => {\n  const now = Date.now();\n  if (open) {\n    introductionTimestamp = now;\n    introductionOpenedCount += 1;\n  } else if (introductionTimestamp !== null) {\n    introductionOpenTimeMs += (now - introductionTimestamp);\n    introductionTimestamp = null;\n  }\n});\n\nwatch(userGuideOpen, (open: boolean) => {\n  const now = Date.now();\n  if (open) {\n    userGuideTimestamp = now;\n    userGuideOpenedCount += 1;\n  } else if (userGuideTimestamp !== null) {\n    userGuideOpenTimeMs += (now - userGuideTimestamp);\n    userGuideTimestamp = null;\n  }\n});\n\nwatch(selectedTimezone, (timezone: string) => {\n  userSelectedTimezones.push(timezone);\n});\n\nwatch(singleDateSelected, (date: Date) => {\n  if (!timestampsLoaded.value ) return;\n  userSelectedCalendarDates.push(date.getTime());\n});\n\nwatch(openPanels, (open: number[]) => {\n  if (!open.includes(0)) {\n    createTimeRangeActive.value = false;\n  }\n  if (!open.includes(1)) {\n    rectangleSelectionActive.value = false;\n  }\n});\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction handleSelectionRegionEdit(info: RectangleSelectionInfo) { \n  // Update the existing selection\n  const currentSelection = selections.value[selectedIndex.value];\n  currentSelection.region.geometryInfo = info;\n  currentSelection.samples = undefined; // Clear existing data\n  // explicit type\n  const rect = currentSelection.region.layer as RectangleSelectionType['layer'];\n  if (rect) {\n    updateRectangleBounds(rect, info);\n  }\n    \n  console.log(`Updated existing selection: ${currentSelection.name} (time range unchanged)`);\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction handleRegionEdit(info: RectangleSelectionInfo | PointSelectionInfo) {\n  if (regionBeingEdited.value) {\n    regionBeingEdited.value.geometryInfo = info;\n    const layer = regionBeingEdited.value.layer;\n    if (layer) {\n      if (isRectangleSelection(regionBeingEdited.value as UnifiedRegionType)) {\n        updateRectangleBounds(layer as RectangleSelectionType['layer'], info as RectangleSelectionInfo);\n      } else if (isPointSelection(regionBeingEdited.value as UnifiedRegionType)) {\n        updatePointLocation(layer as PointSelectionType['layer'], info as PointSelectionInfo);\n      }\n    }\n    console.log(`Updated ${regionBeingEdited.value.geometryType}: ${regionBeingEdited.value.name}`);\n  } else {\n    console.error('No selection is currently being edited.');\n  }\n  showEditRegionNameDialog.value = false;\n  regionBeingEdited.value = null;\n}\n\nfunction rectangleIsDegenerate(info: RectangleSelectionInfo): boolean {\n  return info.xmax === info.xmin || info.ymax === info.ymin;\n}\nwatch(rectangleInfo, (info: RectangleSelectionInfo | null) => {\n  if (info === null || map.value === null) {\n    rectangleSelectionActive.value = false;\n    return;\n  }\n  if (rectangleIsDegenerate(info)) {\n    // make it a point selection instead\n    // TODO: only implement when we have a solution to only do this on a double-click\n    // pointInfo.value = {\n    //   x: info.xmin,\n    //   y: info.ymin\n    // };\n    rectangleSelectionActive.value = false;\n    return;\n  }\n  const canCreate = (selection.value === null || selectedIndex.value === null) && !regionBeingEdited.value;\n  if (canCreate) {\n    createDraftSelection(info, 'rectangle');\n    rectangleSelectionActive.value = false;\n  } else {\n    return;\n    // handleRegionEdit(info);\n  }\n  \n  // do not permit editing a region on a selection\n  // handleSelectionRegionEdit(info);\n  \n\n});\n\n// Add watcher for point selection\nwatch(pointInfo, (info: PointSelectionInfo | null) => {\n  if (info === null || map.value === null) {\n    pointSelectionActive.value = false;\n    return;\n  }\n  const canCreate = (selection.value === null || selectedIndex.value === null) && !regionBeingEdited.value;\n  if (canCreate) {\n    createDraftSelection(info, 'point');\n    pointSelectionActive.value = false;\n  } else {\n    return;\n    // handleRegionEdit(info);\n  }\n});\n\n// Watch for time range mode changes and update custom time range if needed\nwatch(useCustomTimeRange, (useCustom) => {\n  console.log(`Time range mode changed to: ${useCustom ? 'Custom Range' : 'Current Day'}`);\n  if (useCustom && !customTimeRange.value) {\n    // If switching to custom but no custom range is set, set a default\n    const start = singleDateSelected.value.setHours(0, 0, 0, 0);\n    const end = singleDateSelected.value.setHours(23, 59, 59, 999);\n    customTimeRange.value = {\n      id: v4(),\n      name: `Time Range ${timeRangeCount}`,\n      description: `Current Day (${new Date(start).toLocaleDateString()})`,\n      range: [{ start, end }]\n    };\n  }\n});\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_credit_logos = _resolveComponent(\"credit-logos\")!\n  const _component_v_window_item = _resolveComponent(\"v-window-item\")!\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_checkbox = _resolveComponent(\"v-checkbox\")!\n  const _component_v_window = _resolveComponent(\"v-window\")!\n  const _component_v_dialog = _resolveComponent(\"v-dialog\")!\n  const _component_v_overlay = _resolveComponent(\"v-overlay\")!\n  const _component_cds_dialog = _resolveComponent(\"cds-dialog\")!\n  const _component_v_tooltip = _resolveComponent(\"v-tooltip\")!\n  const _component_share_button = _resolveComponent(\"share-button\")!\n  const _component_v_list_item = _resolveComponent(\"v-list-item\")!\n  const _component_v_list = _resolveComponent(\"v-list\")!\n  const _component_v_menu = _resolveComponent(\"v-menu\")!\n  const _component_colorbar_horizontal = _resolveComponent(\"colorbar-horizontal\")!\n  const _component_v_toolbar_title = _resolveComponent(\"v-toolbar-title\")!\n  const _component_v_spacer = _resolveComponent(\"v-spacer\")!\n  const _component_v_switch = _resolveComponent(\"v-switch\")!\n  const _component_v_toolbar = _resolveComponent(\"v-toolbar\")!\n  const _component_v_progress_circular = _resolveComponent(\"v-progress-circular\")!\n  const _component_v_slider = _resolveComponent(\"v-slider\")!\n  const _component_info_button = _resolveComponent(\"info-button\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_location_search = _resolveComponent(\"location-search\")!\n  const _component_colorbar = _resolveComponent(\"colorbar\")!\n  const _component_icon_button = _resolveComponent(\"icon-button\")!\n  const _component_date_picker = _resolveComponent(\"date-picker\")!\n  const _component_v_radio_group = _resolveComponent(\"v-radio-group\")!\n  const _component_v_select = _resolveComponent(\"v-select\")!\n  const _component_v_expansion_panel = _resolveComponent(\"v-expansion-panel\")!\n  const _component_v_divider = _resolveComponent(\"v-divider\")!\n  const _component_selection_composer = _resolveComponent(\"selection-composer\")!\n  const _component_v_chip = _resolveComponent(\"v-chip\")!\n  const _component_v_progress_linear = _resolveComponent(\"v-progress-linear\")!\n  const _component_v_expand_transition = _resolveComponent(\"v-expand-transition\")!\n  const _component_timeseries_graph = _resolveComponent(\"timeseries-graph\")!\n  const _component_v_card_text = _resolveComponent(\"v-card-text\")!\n  const _component_v_hover = _resolveComponent(\"v-hover\")!\n  const _component_v_expansion_panels = _resolveComponent(\"v-expansion-panels\")!\n  const _component_v_card_actions = _resolveComponent(\"v-card-actions\")!\n  const _component_v_app = _resolveComponent(\"v-app\")!\n  const _directive_tooltip = _resolveDirective(\"tooltip\")!\n\n  return (_openBlock(), _createBlock(_component_v_app, {\n    id: \"app\",\n    style: _normalizeStyle(cssVars.value)\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_component_v_overlay, {\n        \"model-value\": inIntro.value,\n        style: _normalizeStyle(cssVars.value),\n        id: \"intro-background\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_dialog, {\n            modelValue: inIntro.value,\n            \"onUpdate:modelValue\": _cache[11] || (_cache[11] = ($event: any) => ((inIntro).value = $event))\n          }, {\n            default: _withCtx(() => [\n              (inIntro.value)\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                    _createVNode(_component_v_window, {\n                      modelValue: introSlide.value,\n                      \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((introSlide).value = $event))\n                    }, {\n                      additional: _withCtx(() => [\n                        _createElementVNode(\"div\", _hoisted_2, [\n                          _createVNode(_component_font_awesome_icon, {\n                            size: \"xl\",\n                            class: \"ma-3\",\n                            color: \"#b3d5e6\",\n                            icon: \"square-xmark\",\n                            onClick: _cache[0] || (_cache[0] = ($event: any) => (inIntro.value = !inIntro.value)),\n                            onKeyup: _cache[1] || (_cache[1] = _withKeys(($event: any) => (inIntro.value = !inIntro.value), [\"enter\"])),\n                            tabindex: \"0\",\n                            \"tooltip-location\": \"start\"\n                          })\n                        ])\n                      ]),\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_window_item, {\n                          value: 1,\n                          id: \"splash-screen\"\n                        }, {\n                          default: _withCtx(() => [\n                            _cache[77] || (_cache[77] = _createElementVNode(\"div\", { id: \"first-splash-row\" }, [\n                              _createElementVNode(\"div\", { id: \"splash-screen-text\" }, \" What Is in the Air You Breathe? \"),\n                              _createElementVNode(\"div\", null, \" Explore daily pollution maps over North America and find out. \")\n                            ], -1)),\n                            _createElementVNode(\"div\", null, [\n                              _createVNode(_component_v_btn, {\n                                class: \"splash-get-started\",\n                                onClick: _cache[2] || (_cache[2] = ($event: any) => (introSlide.value++)),\n                                onKeyup: _cache[3] || (_cache[3] = _withKeys(($event: any) => (introSlide.value++), [\"enter\"])),\n                                color: accentColor.value,\n                                density: _unref(display).smAndDown ? 'compact' : 'default',\n                                size: \"x-large\",\n                                variant: \"elevated\",\n                                rounded: \"lg\"\n                              }, {\n                                default: _withCtx(() => [...(_cache[72] || (_cache[72] = [\n                                  _createTextVNode(\" Get Started \", -1)\n                                ]))]),\n                                _: 1\n                              }, 8, [\"color\", \"density\"])\n                            ]),\n                            _createElementVNode(\"div\", _hoisted_3, [\n                              _cache[74] || (_cache[74] = _createTextVNode(\" Brought to you by \", -1)),\n                              _cache[75] || (_cache[75] = _createElementVNode(\"a\", {\n                                href: \"https://www.cosmicds.cfa.harvard.edu/\",\n                                target: \"_blank\",\n                                rel: \"noopener noreferrer\"\n                              }, \"Cosmic Data Stories\", -1)),\n                              _cache[76] || (_cache[76] = _createTextVNode(\". \", -1)),\n                              _createElementVNode(\"div\", _hoisted_4, [\n                                _cache[73] || (_cache[73] = _createElementVNode(\"a\", {\n                                  href: \"https://www.si.edu/\",\n                                  target: \"_blank\",\n                                  rel: \"noopener noreferrer\"\n                                }, [\n                                  _createElementVNode(\"img\", {\n                                    alt: \"Smithsonian Logo\",\n                                    src: \"220px-Smithsonian_sun_logo_no_text.svg.png\"\n                                  })\n                                ], -1)),\n                                _createVNode(_component_credit_logos)\n                              ])\n                            ])\n                          ]),\n                          _: 1\n                        }),\n                        _createVNode(_component_v_window_item, { value: 2 }, {\n                          default: _withCtx(() => [...(_cache[78] || (_cache[78] = [\n                            _createElementVNode(\"div\", { class: \"intro-text\" }, [\n                              _createElementVNode(\"p\", { class: \"mb-5\" }, \" The TEMPO satellite mission (Tropospheric Emissions: Monitoring Pollution), launched in April 2023, is the first space-based instrument to measure major air pollutants across the North American continent every daylight hour at high spatial resolution. A collaboration between NASA and the Smithsonian Astrophysical Observatory, the TEMPO instrument gathers hourly daytime scans of the atmosphere over North America from the Atlantic Ocean to the Pacific Coast and from the Yucatán Peninsula to central Canada. \")\n                            ], -1)\n                          ]))]),\n                          _: 1\n                        }),\n                        _createVNode(_component_v_window_item, { value: 3 }, {\n                          default: _withCtx(() => [...(_cache[79] || (_cache[79] = [\n                            _createElementVNode(\"div\", { class: \"intro-text mb-3\" }, [\n                              _createElementVNode(\"p\", { class: \"mb-3\" }, [\n                                _createTextVNode(\" This Data Story provides an introduction to what can be learned from TEMPO’s data, which became publicly available May 20, 2024. The map here visualizes hourly Nitrogen Dioxide (NO\"),\n                                _createElementVNode(\"sub\", null, \"2\"),\n                                _createTextVNode(\") data over time. NO\"),\n                                _createElementVNode(\"sub\", null, \"2\"),\n                                _createTextVNode(\" can be produced by: \")\n                              ]),\n                              _createElementVNode(\"ul\", null, [\n                                _createElementVNode(\"li\", null, \"Burning of fossil fuels—for example from vehicles, power plants, manufacturing sites, and oil refineries\"),\n                                _createElementVNode(\"li\", null, \"Fires and biomass burning—including wildfires and prescribed burns, as well as burning of vegetation for land clearing\"),\n                                _createElementVNode(\"li\", null, [\n                                  _createTextVNode(\"Bacteria, which naturally convert nitrogen in soil into compounds that can form NO\"),\n                                  _createElementVNode(\"sub\", null, \"2\"),\n                                  _createTextVNode(\". Agricultural use of nitrogen-based fertilizers increases the amount of NO\"),\n                                  _createElementVNode(\"sub\", null, \"2\"),\n                                  _createTextVNode(\" produced by these bacteria.\")\n                                ]),\n                                _createElementVNode(\"li\", null, [\n                                  _createTextVNode(\"Lightning, which triggers a chemical reaction that turns harmless N\"),\n                                  _createElementVNode(\"sub\", null, \"2\"),\n                                  _createTextVNode(\" in the atmosphere into NO\"),\n                                  _createElementVNode(\"sub\", null, \"2\"),\n                                  _createTextVNode(\". \")\n                                ])\n                              ]),\n                              _createElementVNode(\"p\", { class: \"mt-3\" }, \" For each date, you can see the scans beginning on the East Coast in the morning, and ending on the West Coast as the Sun sets. \")\n                            ], -1)\n                          ]))]),\n                          _: 1\n                        }),\n                        _createVNode(_component_v_window_item, { value: 4 }, {\n                          default: _withCtx(() => [\n                            _createElementVNode(\"div\", _hoisted_5, [\n                              _cache[90] || (_cache[90] = _createElementVNode(\"p\", { class: \"mb-3\" }, \" In this interactive page you can: \", -1)),\n                              _createElementVNode(\"ul\", null, [\n                                _cache[86] || (_cache[86] = _createElementVNode(\"li\", null, \" Use the search box to navigate a location of your choice. \", -1)),\n                                _cache[87] || (_cache[87] = _createElementVNode(\"li\", null, [\n                                  _createTextVNode(\" Select a date and press the “Play” button or scroll the time slider to view the changing concentrations of NO\"),\n                                  _createElementVNode(\"sub\", null, \"2\"),\n                                  _createTextVNode(\" on those dates. \")\n                                ], -1)),\n                                _createElementVNode(\"li\", null, [\n                                  _cache[81] || (_cache[81] = _createTextVNode(\" Click \", -1)),\n                                  _createVNode(_component_v_icon, { style: {\"color\":\"#ffcc33\"} }, {\n                                    default: _withCtx(() => [...(_cache[80] || (_cache[80] = [\n                                      _createTextVNode(\"mdi-share-variant\", -1)\n                                    ]))]),\n                                    _: 1\n                                  }),\n                                  _cache[82] || (_cache[82] = _createTextVNode(\" to share your selected location, date, and time with others. \", -1))\n                                ]),\n                                _createElementVNode(\"li\", {\n                                  style: _normalizeStyle(cssVars.value)\n                                }, [\n                                  _cache[84] || (_cache[84] = _createTextVNode(\" Press the \", -1)),\n                                  _createVNode(_component_v_icon, {\n                                    style: {\"font-size\":\"1.3em\",\"color\":\"var(--accent-color)\"},\n                                    elevation: \"1\"\n                                  }, {\n                                    default: _withCtx(() => [...(_cache[83] || (_cache[83] = [\n                                      _createTextVNode(\"mdi-information-variant-circle-outline\", -1)\n                                    ]))]),\n                                    _: 1\n                                  }),\n                                  _cache[85] || (_cache[85] = _createTextVNode(\" button next to each Notable Date to get an overview of what to look for on that date \", -1))\n                                ], 4),\n                                _cache[88] || (_cache[88] = _createElementVNode(\"li\", null, \" For each Notable Date, select one of two zoomed-in Locations to investigate specific pollution events. \", -1)),\n                                _cache[89] || (_cache[89] = _createElementVNode(\"li\", null, \" You can use the “Timezone” setting to investigate how pollution evolves over the day in different parts of the country, for example as rush hour progresses in large cities. \", -1))\n                              ]),\n                              _createVNode(_component_v_checkbox, {\n                                modelValue: dontShowIntro.value,\n                                \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((dontShowIntro).value = $event)),\n                                onKeyup: _cache[5] || (_cache[5] = _withKeys(($event: any) => (dontShowIntro.value = !dontShowIntro.value), [\"enter\"])),\n                                label: \"Don't show this introduction at launch\",\n                                color: \"#c10124\",\n                                \"hide-details\": \"\"\n                              }, null, 8, [\"modelValue\"])\n                            ])\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    }, 8, [\"modelValue\"]),\n                    _createElementVNode(\"div\", _hoisted_6, [\n                      _createElementVNode(\"div\", null, [\n                        ((introSlide.value > 1))\n                          ? (_openBlock(), _createBlock(_component_v_btn, {\n                              key: 0,\n                              id: \"intro-next-button\",\n                              color: accentColor.value,\n                              onClick: _cache[7] || (_cache[7] = ($event: any) => (introSlide.value--)),\n                              onKeyup: _cache[8] || (_cache[8] = _withKeys(($event: any) => (introSlide.value--), [\"enter\"])),\n                              elevation: \"0\"\n                            }, {\n                              default: _withCtx(() => [...(_cache[91] || (_cache[91] = [\n                                _createTextVNode(\" Back \", -1)\n                              ]))]),\n                              _: 1\n                            }, 8, [\"color\"]))\n                          : _createCommentVNode(\"\", true)\n                      ]),\n                      ((introSlide.value > 1))\n                        ? (_openBlock(), _createBlock(_component_v_btn, {\n                            key: 0,\n                            id: \"intro-next-button\",\n                            color: accentColor.value,\n                            onClick: _cache[9] || (_cache[9] = ($event: any) => (introSlide.value++)),\n                            onKeyup: _cache[10] || (_cache[10] = _withKeys(($event: any) => (introSlide.value++), [\"enter\"])),\n                            elevation: \"0\"\n                          }, {\n                            default: _withCtx(() => [\n                              _createTextVNode(_toDisplayString(introSlide.value < 4 ? 'Next' : 'Get Started'), 1)\n                            ]),\n                            _: 1\n                          }, 8, [\"color\"]))\n                        : _createCommentVNode(\"\", true)\n                    ])\n                  ]))\n                : _createCommentVNode(\"\", true)\n            ]),\n            _: 1\n          }, 8, [\"modelValue\"])\n        ]),\n        _: 1\n      }, 8, [\"model-value\", \"style\"]),\n      _createElementVNode(\"div\", _hoisted_7, [\n        _createElementVNode(\"div\", _hoisted_8, [\n          _createElementVNode(\"div\", _hoisted_9, [\n            _cache[103] || (_cache[103] = _createElementVNode(\"a\", {\n              href: \"https://tempo.si.edu\",\n              target: \"_blank\",\n              rel: \"noopener noreferrer\"\n            }, [\n              _createElementVNode(\"img\", {\n                src: _imports_0,\n                alt: \"TEMPO Logo\",\n                style: {\"width\":\"100px\",\"height\":\"100px\"}\n              })\n            ], -1)),\n            _cache[104] || (_cache[104] = _createElementVNode(\"h1\", { id: \"title\" }, \"What is in the Air You Breathe?\", -1)),\n            _createVNode(_component_cds_dialog, {\n              title: \"What's new\",\n              modelValue: showChanges.value,\n              \"onUpdate:modelValue\": _cache[12] || (_cache[12] = ($event: any) => ((showChanges).value = $event)),\n              color: accentColor2.value\n            }, {\n              default: _withCtx(() => [\n                _createElementVNode(\"ul\", _hoisted_10, [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(changes), (change) => {\n                    return (_openBlock(), _createElementBlock(\"li\", {\n                      class: \"change-item mb-5\",\n                      key: change.date,\n                      \"data-date\": change.date\n                    }, [\n                      _createElementVNode(\"span\", {\n                        style: _normalizeStyle({\"font-weight\":\"bold\", \"color\": `${change.highlight ? \"var(--smithsonian-yellow)\" : \"currentColor\"}` })\n                      }, _toDisplayString(change.date), 5),\n                      _cache[92] || (_cache[92] = _createElementVNode(\"br\", null, null, -1)),\n                      _cache[93] || (_cache[93] = _createTextVNode()),\n                      _createElementVNode(\"span\", {\n                        innerHTML: change.html\n                      }, null, 8, _hoisted_12),\n                      _createTextVNode(_toDisplayString(change.text), 1)\n                    ], 8, _hoisted_11))\n                  }), 128))\n                ])\n              ]),\n              _: 1\n            }, 8, [\"modelValue\", \"color\"]),\n            _createElementVNode(\"div\", _hoisted_13, [\n              ((new Date('2025-05-7 00:00:00') > new Date()))\n                ? (_openBlock(), _createBlock(_component_v_btn, {\n                    key: 0,\n                    class: \"whats-new-button pulse\",\n                    \"aria-label\": \"What's new\",\n                    onClick: _cache[13] || (_cache[13] = ($event: any) => (showChanges.value = true)),\n                    onKeyup: _cache[14] || (_cache[14] = _withKeys(($event: any) => (showChanges.value = true), [\"enter\"])),\n                    variant: \"outlined\",\n                    rounded: \"lg\",\n                    color: accentColor2.value,\n                    elevation: \"0\",\n                    size: \"lg\"\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_v_tooltip, {\n                        location: \"bottom\",\n                        activator: \"parent\",\n                        disabled: mobile.value,\n                        text: \"What's new\"\n                      }, null, 8, [\"disabled\"]),\n                      _createVNode(_component_v_icon, null, {\n                        default: _withCtx(() => [...(_cache[94] || (_cache[94] = [\n                          _createTextVNode(\"mdi-creation\", -1)\n                        ]))]),\n                        _: 1\n                      })\n                    ]),\n                    _: 1\n                  }, 8, [\"color\"]))\n                : _createCommentVNode(\"\", true),\n              _createVNode(_component_share_button, {\n                source: currentUrl.value,\n                buttonColor: \"black\",\n                iconColor: accentColor2.value,\n                elevation: \"0\",\n                size: \"small\",\n                rounded: \"1\",\n                \"tooltip-disabled\": mobile.value,\n                onClick: _cache[15] || (_cache[15] = ($event: any) => (_isRef(shareButtonClickedCount) //@ts-ignore\n ? shareButtonClickedCount.value += 1 : shareButtonClickedCount += 1)),\n                alert: \"\"\n              }, null, 8, [\"source\", \"iconColor\", \"tooltip-disabled\"]),\n              _createVNode(_component_v_btn, {\n                \"aria-role\": \"menu\",\n                \"aria-label\": \"Show menu\",\n                class: \"menu-button\",\n                variant: \"outlined\",\n                rounded: \"lg\",\n                color: accentColor2.value,\n                elevation: \"5\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_v_icon, { size: \"x-large\" }, {\n                    default: _withCtx(() => [...(_cache[95] || (_cache[95] = [\n                      _createTextVNode(\"mdi-menu\", -1)\n                    ]))]),\n                    _: 1\n                  }),\n                  _createVNode(_component_v_menu, { activator: \"parent\" }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_v_list, null, {\n                        default: _withCtx(() => [\n                          _createVNode(_component_v_list_item, {\n                            tabindex: \"0\",\n                            \"aria-label\": \"See recent changes\",\n                            onClick: _cache[16] || (_cache[16] = ($event: any) => (showChanges.value = true)),\n                            onKeyup: _cache[17] || (_cache[17] = _withKeys(($event: any) => (showChanges.value = true), [\"enter\"]))\n                          }, {\n                            default: _withCtx(() => [...(_cache[96] || (_cache[96] = [\n                              _createTextVNode(\" What's New \", -1)\n                            ]))]),\n                            _: 1\n                          }),\n                          _createVNode(_component_v_list_item, {\n                            tabindex: \"0\",\n                            \"aria-label\": \"Show introduction\",\n                            onClick: _cache[18] || (_cache[18] = () => {introSlide.value = 1; inIntro.value = true;}),\n                            onKeyup: _cache[19] || (_cache[19] = _withKeys(() => {introSlide.value = 1; inIntro.value = true;}, [\"enter\"]))\n                          }, {\n                            default: _withCtx(() => [...(_cache[97] || (_cache[97] = [\n                              _createTextVNode(\" Introduction \", -1)\n                            ]))]),\n                            _: 1\n                          }),\n                          _createVNode(_component_v_list_item, {\n                            tabindex: \"0\",\n                            \"aria-label\": \"Show user guide\",\n                            onClick: _cache[20] || (_cache[20] = () => {introSlide.value = 4; inIntro.value = true;}),\n                            onKeyup: _cache[21] || (_cache[21] = _withKeys(() => {introSlide.value = 4; inIntro.value = true;}, [\"enter\"]))\n                          }, {\n                            default: _withCtx(() => [...(_cache[98] || (_cache[98] = [\n                              _createTextVNode(\" User Guide \", -1)\n                            ]))]),\n                            _: 1\n                          }),\n                          _createVNode(_component_v_list_item, {\n                            tabindex: \"0\",\n                            \"aria-label\": \"Show dialog telling about the data\",\n                            onClick: _cache[22] || (_cache[22] = ($event: any) => (showAboutData.value = true)),\n                            onKeyup: _cache[23] || (_cache[23] = _withKeys(($event: any) => (showAboutData.value = true), [\"enter\"]))\n                          }, {\n                            default: _withCtx(() => [...(_cache[99] || (_cache[99] = [\n                              _createTextVNode(\" About the Data \", -1)\n                            ]))]),\n                            _: 1\n                          }),\n                          _createVNode(_component_v_list_item, { \"aria-label\": \"Leave Page to Educator Resources\" }, {\n                            default: _withCtx(() => [\n                              _createElementVNode(\"a\", _hoisted_14, [\n                                _cache[101] || (_cache[101] = _createTextVNode(\"Educator Resources\", -1)),\n                                _createVNode(_component_v_icon, null, {\n                                  default: _withCtx(() => [...(_cache[100] || (_cache[100] = [\n                                    _createTextVNode(\"mdi-open-in-new\", -1)\n                                  ]))]),\n                                  _: 1\n                                })\n                              ])\n                            ]),\n                            _: 1\n                          }),\n                          _createVNode(_component_v_list_item, {\n                            tabindex: \"0\",\n                            \"aria-label\": \"Show credits\",\n                            onClick: _cache[24] || (_cache[24] = ($event: any) => (showCredits.value = true)),\n                            onKeyup: _cache[25] || (_cache[25] = _withKeys(($event: any) => (showCredits.value = true), [\"enter\"]))\n                          }, {\n                            default: _withCtx(() => [...(_cache[102] || (_cache[102] = [\n                              _createTextVNode(\" Credits \", -1)\n                            ]))]),\n                            _: 1\n                          })\n                        ]),\n                        _: 1\n                      })\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }, 8, [\"color\"])\n            ])\n          ]),\n          _cache[142] || (_cache[142] = _createElementVNode(\"div\", {\n            id: \"where\",\n            class: \"big-label\"\n          }, \"where\", -1)),\n          _createElementVNode(\"div\", _hoisted_15, [\n            (_unref(display).width.value <= 750)\n              ? (_openBlock(), _createBlock(_component_colorbar_horizontal, {\n                  key: 0,\n                  label: \"Amount of NO2\",\n                  backgroundColor: \"transparent\",\n                  nsteps: 255,\n                  cmap: currentColormap.value,\n                  cmapName: colorMap.value,\n                  \"start-value\": colorbarOptions[whichMolecule.value].stretch[0] / colorbarOptions[whichMolecule.value].cbarScale,\n                  \"end-value\": colorbarOptions[whichMolecule.value].stretch[1] / colorbarOptions[whichMolecule.value].cbarScale,\n                  extend: true\n                }, {\n                  label: _withCtx(() => [\n                    (Math.log10(colorbarOptions[whichMolecule.value].cbarScale) !== 0)\n                      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [\n                          _cache[109] || (_cache[109] = _createTextVNode(\"Amount of \", -1)),\n                          _createElementVNode(\"span\", {\n                            innerHTML: colorbarOptions[whichMolecule.value].label\n                          }, null, 8, _hoisted_17),\n                          _createElementVNode(\"span\", _hoisted_18, [\n                            _cache[105] || (_cache[105] = _createTextVNode(\"(10\", -1)),\n                            _createElementVNode(\"sup\", null, _toDisplayString(Math.log10(colorbarOptions[whichMolecule.value].cbarScale)), 1),\n                            _cache[106] || (_cache[106] = _createTextVNode(\" mol/cm\", -1)),\n                            _cache[107] || (_cache[107] = _createElementVNode(\"sup\", null, \"2\", -1)),\n                            _cache[108] || (_cache[108] = _createTextVNode(\")\", -1))\n                          ])\n                        ]))\n                      : (_openBlock(), _createElementBlock(\"div\", _hoisted_19, [\n                          _cache[110] || (_cache[110] = _createTextVNode(\"Amount of \", -1)),\n                          _createElementVNode(\"span\", {\n                            innerHTML: colorbarOptions[whichMolecule.value].label\n                          }, null, 8, _hoisted_20),\n                          _cache[111] || (_cache[111] = _createElementVNode(\"span\", { class: \"unit-label\" }, [\n                            _createTextVNode(\" molecules/cm\"),\n                            _createElementVNode(\"sup\", null, \"2\")\n                          ], -1))\n                        ]))\n                  ]),\n                  _: 1\n                }, 8, [\"cmap\", \"cmapName\", \"start-value\", \"end-value\"]))\n              : _createCommentVNode(\"\", true),\n            _createVNode(_component_v_card, {\n              id: \"map-contents\",\n              style: {\"width\":\"100%\",\"height\":\"100%\"}\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_v_toolbar, {\n                  density: \"compact\",\n                  color: \"var(--info-background)\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_toolbar_title, {\n                      text: `TEMPO Data Viewer: ${mapTitle.value}`\n                    }, null, 8, [\"text\"]),\n                    _createVNode(_component_v_spacer),\n                    (regions.value.length > 0)\n                      ? (_openBlock(), _createBlock(_component_v_switch, {\n                          key: 0,\n                          modelValue: showSamplingPreviewMarkers.value,\n                          \"onUpdate:modelValue\": _cache[26] || (_cache[26] = ($event: any) => ((showSamplingPreviewMarkers).value = $event)),\n                          label: showSamplingPreviewMarkers.value ? 'Showing Sample Points' : 'Hiding Sample Points',\n                          disabled: regions.value.length === 0,\n                          onKeyup: _cache[27] || (_cache[27] = _withKeys(($event: any) => (showSamplingPreviewMarkers.value = !showSamplingPreviewMarkers.value), [\"enter\"])),\n                          inset: \"\",\n                          \"hide-details\": \"\",\n                          class: \"me-3\",\n                          style: {'--v-theme-on-surface': 'var(--accent-color)'}\n                        }, null, 8, [\"modelValue\", \"label\", \"disabled\"]))\n                      : _createCommentVNode(\"\", true),\n                    _createVNode(_component_v_tooltip, {\n                      text: _unref(rectangleSelectionActive) ? 'Cancel selection' : 'Select a region'\n                    }, {\n                      activator: _withCtx(({ props }) => [\n                        _createVNode(_component_v_btn, _mergeProps(props, {\n                          icon: \"mdi-select\",\n                          color: _unref(rectangleSelectionActive) ? 'info' : 'default',\n                          variant: _unref(rectangleSelectionActive) ? 'tonal' : 'text',\n                          disabled: _unref(pointSelectionActive),\n                          onClick: activateRectangleSelectionMode\n                        }), null, 16, [\"color\", \"variant\", \"disabled\"])\n                      ]),\n                      _: 1\n                    }, 8, [\"text\"]),\n                    _createVNode(_component_v_tooltip, {\n                      text: _unref(pointSelectionActive) ? 'Cancel selection' : 'Select a point'\n                    }, {\n                      activator: _withCtx(({ props }) => [\n                        _createVNode(_component_v_btn, _mergeProps(props, {\n                          icon: \"mdi-plus\",\n                          color: _unref(pointSelectionActive) ? 'info' : 'default',\n                          variant: _unref(pointSelectionActive) ? 'tonal' : 'text',\n                          disabled: _unref(rectangleSelectionActive),\n                          onClick: activatePointSelectionMode\n                        }), null, 16, [\"color\", \"variant\", \"disabled\"])\n                      ]),\n                      _: 1\n                    }, 8, [\"text\"])\n                  ]),\n                  _: 1\n                }),\n                _createElementVNode(\"div\", _hoisted_21, [\n                  _createVNode(_component_v_overlay, {\n                    modelValue: _unref(loadingEsriTimeSteps),\n                    style: {\"z-index\":\"1000\"},\n                    class: \"align-center justify-center\",\n                    contained: \"\",\n                    opacity: \".8\"\n                  }, {\n                    default: _withCtx(() => [\n                      _createElementVNode(\"div\", _hoisted_22, [\n                        _cache[112] || (_cache[112] = _createElementVNode(\"label\", {\n                          class: \"text-white\",\n                          for: \"loading-circle-progress\"\n                        }, \"Fetching time steps from NASA Earthdata GIS service...\", -1)),\n                        _createVNode(_component_v_progress_circular, {\n                          id: \"loading-circle-progress\",\n                          style: {\"z-index\":\"1000\"},\n                          size: 100,\n                          width: 15,\n                          indeterminate: _unref(loadingEsriTimeSteps),\n                          color: \"#092088\"\n                        }, null, 8, [\"indeterminate\"])\n                      ])\n                    ]),\n                    _: 1\n                  }, 8, [\"modelValue\"])\n                ]),\n                (_unref(showFieldOfRegard))\n                  ? (_openBlock(), _createElementBlock(\"div\", _hoisted_23, [...(_cache[113] || (_cache[113] = [\n                      _createElementVNode(\"hr\", { class: \"line-legend\" }, null, -1),\n                      _createTextVNode(\"TEMPO Field of Regard\", -1)\n                    ]))]))\n                  : _createCommentVNode(\"\", true),\n                _createVNode(_component_v_menu, {\n                  id: \"map-controls\",\n                  modelValue: showControls.value,\n                  \"onUpdate:modelValue\": _cache[35] || (_cache[35] = ($event: any) => ((showControls).value = $event)),\n                  \"close-on-content-click\": false\n                }, {\n                  activator: _withCtx(({ props }) => [\n                    _createElementVNode(\"div\", _hoisted_24, [\n                      _createVNode(_component_v_btn, _mergeProps(props, {\n                        class: \"mx-2 mt-5\",\n                        elevation: \"2\",\n                        color: \"white\",\n                        icon: \"\",\n                        style: {\"outline\":\"2px solid #b6b6b6\"},\n                        rounded: \"0\",\n                        size: \"x-small\"\n                      }), {\n                        default: _withCtx(() => [\n                          _createVNode(_component_v_icon, {\n                            color: \"black\",\n                            size: \"x-large\"\n                          }, {\n                            default: _withCtx(() => [...(_cache[114] || (_cache[114] = [\n                              _createTextVNode(\"mdi-tune-variant\", -1)\n                            ]))]),\n                            _: 1\n                          })\n                        ]),\n                        _: 1\n                      }, 16)\n                    ])\n                  ]),\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_card, { class: \"controls-card\" }, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_font_awesome_icon, {\n                          style: {\"position\":\"absolute\",\"right\":\"16px\",\"cursor\":\"pointer\"},\n                          icon: \"square-xmark\",\n                          size: \"xl\",\n                          onClick: _cache[28] || (_cache[28] = ($event: any) => (showControls.value = false)),\n                          onKeyup: _cache[29] || (_cache[29] = _withKeys(($event: any) => (showControls.value = false), [\"enter\"])),\n                          color: accentColor2.value,\n                          tabindex: \"0\"\n                        }, null, 8, [\"color\"]),\n                        _createElementVNode(\"div\", _hoisted_25, [\n                          _cache[115] || (_cache[115] = _createElementVNode(\"div\", { id: \"opacity-slider-label\" }, \"TEMPO data opacity\", -1)),\n                          _createVNode(_component_v_slider, {\n                            modelValue: opacity.value,\n                            \"onUpdate:modelValue\": _cache[30] || (_cache[30] = ($event: any) => ((opacity).value = $event)),\n                            min: 0,\n                            max: 1,\n                            color: \"#c10124\",\n                            density: \"compact\",\n                            \"hide-details\": \"\",\n                            class: \"mb-4\",\n                            onEnd: onOpacitySliderEnd\n                          }, null, 8, [\"modelValue\"])\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_26, [\n                          _createVNode(_component_v_checkbox, {\n                            modelValue: showRoads.value,\n                            \"onUpdate:modelValue\": _cache[31] || (_cache[31] = ($event: any) => ((showRoads).value = $event)),\n                            onKeyup: _cache[32] || (_cache[32] = _withKeys(($event: any) => (showRoads.value = !showRoads.value), [\"enter\"])),\n                            label: \"Show Roads\",\n                            color: \"#c10124\",\n                            \"hide-details\": \"\"\n                          }, null, 8, [\"modelValue\"])\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_27, [\n                          _createVNode(_component_v_checkbox, {\n                            modelValue: _unref(showFieldOfRegard),\n                            \"onUpdate:modelValue\": _cache[33] || (_cache[33] = ($event: any) => (_isRef(showFieldOfRegard) ? (showFieldOfRegard).value = $event : null)),\n                            onKeyup: _cache[34] || (_cache[34] = _withKeys(($event: any) => (showFieldOfRegard.value = !_unref(showFieldOfRegard)), [\"enter\"])),\n                            label: \"TEMPO Field of Regard\",\n                            color: \"#c10124\",\n                            \"hide-details\": \"\"\n                          }, null, 8, [\"modelValue\"]),\n                          _createVNode(_component_info_button, null, {\n                            default: _withCtx(() => [\n                              _cache[120] || (_cache[120] = _createElementVNode(\"p\", null, \" The TEMPO satellite observes the atmosphere over North America, from the Atlantic Ocean to the Pacific Coast, and from roughly Mexico City to central Canada. \", -1)),\n                              _createElementVNode(\"p\", null, [\n                                _cache[116] || (_cache[116] = _createTextVNode(\" The TEMPO Field of Regard (in \", -1)),\n                                _cache[117] || (_cache[117] = _createElementVNode(\"span\", { class: \"text-red\" }, \"red\", -1)),\n                                _cache[118] || (_cache[118] = _createTextVNode(\", currently \", -1)),\n                                _createElementVNode(\"em\", null, _toDisplayString(_unref(showFieldOfRegard) ? 'visible' : \"hidden\"), 1),\n                                _cache[119] || (_cache[119] = _createTextVNode(\") is the area over which the satellite takes measurements. \", -1))\n                              ])\n                            ]),\n                            _: 1\n                          })\n                        ])\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\"]),\n                _createElementVNode(\"div\", _hoisted_28, [\n                  _createVNode(_component_location_search, {\n                    modelValue: searchOpen.value,\n                    \"onUpdate:modelValue\": _cache[36] || (_cache[36] = ($event: any) => ((searchOpen).value = $event)),\n                    small: \"\",\n                    \"stay-open\": \"\",\n                    buttonSize: \"xl\",\n                    \"persist-selected\": \"\",\n                    \"search-provider\": geocodingInfoForSearchLimited,\n                    onSetLocation: setLocationFromSearch,\n                    onError: _cache[37] || (_cache[37] = (error) => searchErrorMessage.value = error)\n                  }, null, 8, [\"modelValue\"])\n                ])\n              ]),\n              _: 1\n            }),\n            (_unref(display).width.value > 750)\n              ? (_openBlock(), _createBlock(_component_colorbar, {\n                  key: 1,\n                  label: \"Amount of NO2\",\n                  backgroundColor: \"transparent\",\n                  nsteps: 255,\n                  cmap: currentColormap.value,\n                  cmapName: colorMap.value,\n                  \"start-value\": colorbarOptions[whichMolecule.value].stretch[0] / colorbarOptions[whichMolecule.value].cbarScale,\n                  \"end-value\": colorbarOptions[whichMolecule.value].stretch[1] / colorbarOptions[whichMolecule.value].cbarScale,\n                  extend: true\n                }, {\n                  label: _withCtx(() => [\n                    (Math.log10(colorbarOptions[whichMolecule.value].cbarScale) !== 0)\n                      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_29, [\n                          _cache[125] || (_cache[125] = _createTextVNode(\"Amount of \", -1)),\n                          _createElementVNode(\"span\", {\n                            innerHTML: colorbarOptions[whichMolecule.value].label\n                          }, null, 8, _hoisted_30),\n                          _createElementVNode(\"span\", _hoisted_31, [\n                            _cache[121] || (_cache[121] = _createTextVNode(\"(10\", -1)),\n                            _createElementVNode(\"sup\", null, _toDisplayString(Math.log10(colorbarOptions[whichMolecule.value].cbarScale)), 1),\n                            _cache[122] || (_cache[122] = _createTextVNode(\" mol/cm\", -1)),\n                            _cache[123] || (_cache[123] = _createElementVNode(\"sup\", null, \"2\", -1)),\n                            _cache[124] || (_cache[124] = _createTextVNode(\")\", -1))\n                          ])\n                        ]))\n                      : (_openBlock(), _createElementBlock(\"div\", _hoisted_32, [\n                          _cache[126] || (_cache[126] = _createTextVNode(\"Amount of \", -1)),\n                          _createElementVNode(\"span\", {\n                            innerHTML: colorbarOptions[whichMolecule.value].label\n                          }, null, 8, _hoisted_33),\n                          _cache[127] || (_cache[127] = _createElementVNode(\"span\", { class: \"unit-label\" }, [\n                            _createTextVNode(\" (molecules/cm\"),\n                            _createElementVNode(\"sup\", null, \"2\"),\n                            _createTextVNode(\")\")\n                          ], -1))\n                        ]))\n                  ]),\n                  _: 1\n                }, 8, [\"cmap\", \"cmapName\", \"start-value\", \"end-value\"]))\n              : _createCommentVNode(\"\", true)\n          ]),\n          _cache[143] || (_cache[143] = _createElementVNode(\"div\", {\n            id: \"when\",\n            class: \"big-label\"\n          }, \"when\", -1)),\n          _createElementVNode(\"div\", _hoisted_34, [\n            _createVNode(_component_v_slider, {\n              class: \"time-slider\",\n              modelValue: _unref(timeIndex),\n              \"onUpdate:modelValue\": _cache[38] || (_cache[38] = ($event: any) => (_isRef(timeIndex) ? (timeIndex).value = $event : null)),\n              min: _unref(minIndex),\n              max: _unref(maxIndex),\n              step: 1,\n              color: \"#068ede95\",\n              \"thumb-label\": \"always\",\n              \"track-size\": 10,\n              \"show-ticks\": \"always\",\n              \"hide-details\": \"\",\n              onEnd: onTimeSliderEnd\n            }, {\n              \"thumb-label\": _withCtx(() => [\n                _createElementVNode(\"div\", _hoisted_35, _toDisplayString(thumbLabel.value), 1)\n              ]),\n              _: 1\n            }, 8, [\"modelValue\", \"min\", \"max\"]),\n            _createVNode(_component_icon_button, {\n              id: \"play-pause\",\n              \"fa-icon\": playing.value ? 'pause' : 'play',\n              \"fa-size\": \"sm\",\n              onActivate: _cache[39] || (_cache[39] = ($event: any) => (playing.value = !playing.value))\n            }, null, 8, [\"fa-icon\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_36, [\n            _createElementVNode(\"div\", _hoisted_37, [\n              _cache[132] || (_cache[132] = _createElementVNode(\"h2\", null, \"Map View\", -1)),\n              _createElementVNode(\"div\", _hoisted_38, [\n                _cache[131] || (_cache[131] = _createElementVNode(\"h3\", null, \"Select a Date\", -1)),\n                _createElementVNode(\"div\", _hoisted_39, [\n                  _createVNode(_component_v_radio_group, {\n                    modelValue: radio.value,\n                    \"onUpdate:modelValue\": _cache[44] || (_cache[44] = ($event: any) => ((radio).value = $event))\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_date_picker, {\n                        ref_key: \"calendar\",\n                        ref: calendar,\n                        \"model-value\": _unref(singleDateSelected),\n                        onInternalModelChange: _cache[42] || (_cache[42] = (value) => {\n                      if (value != null && value.getTime() != _unref(singleDateSelected).getTime()) {\n                        radio.value = null;\n                        singleDateSelected.value = value;\n                        calendar.value?.closeMenu();\n                      }\n                    }),\n                        \"allowed-dates\": _unref(uniqueDays),\n                        clearable: false,\n                        \"enable-time-picker\": false,\n                        \"multi-dates\": false,\n                        transitions: false,\n                        format: (date) => date?.toDateString(),\n                        \"preview-format\": (date) => date?.toDateString(),\n                        \"no-today\": \"\",\n                        dark: \"\",\n                        \"year-range\": [_unref(uniqueDays)[0]?.getFullYear(), _unref(uniqueDays)[_unref(uniqueDays).length - 1]?.getFullYear()]\n                      }, {\n                        \"action-buttons\": _withCtx(() => [\n                          _createElementVNode(\"button\", {\n                            class: \"dp__action_button dp__action-latest\",\n                            onClick: _cache[40] || (_cache[40] = () => singleDateSelected.value = _unref(uniqueDays)[_unref(uniqueDays).length - 1]),\n                            onKeyup: _cache[41] || (_cache[41] = _withKeys(() => singleDateSelected.value = _unref(uniqueDays)[_unref(uniqueDays).length - 1], [\"enter\"])),\n                            disabled: _unref(singleDateSelected) === _unref(uniqueDays)[_unref(uniqueDays).length - 1],\n                            elevation: \"0\",\n                            size: \"sm\"\n                          }, \" Latest \", 40, _hoisted_40)\n                        ]),\n                        _: 1\n                      }, 8, [\"model-value\", \"allowed-dates\", \"format\", \"preview-format\", \"year-range\"]),\n                      (whichMolecule.value.toLowerCase().includes('month'))\n                        ? (_openBlock(), _createBlock(TimeChips, {\n                            key: 0,\n                            timestamps: _unref(esriTimesteps).slice(_unref(minIndex), _unref(maxIndex) + 1),\n                            onSelect: _cache[43] || (_cache[43] = ($event: any) => (handleEsriTimeSelected($event.value, $event.index))),\n                            \"selected-index\": _unref(timeIndex) - _unref(minIndex),\n                            \"use-utc\": whichMolecule.value.toLowerCase().includes('month'),\n                            \"date-only\": whichMolecule.value.toLowerCase().includes('month'),\n                            \"hour-only\": !whichMolecule.value.toLowerCase().includes('month')\n                          }, null, 8, [\"timestamps\", \"selected-index\", \"use-utc\", \"date-only\", \"hour-only\"]))\n                        : _createCommentVNode(\"\", true)\n                    ]),\n                    _: 1\n                  }, 8, [\"modelValue\"])\n                ]),\n                _createElementVNode(\"div\", _hoisted_41, [\n                  _createVNode(_component_v_tooltip, {\n                    disabled: touchscreen.value,\n                    text: \"Previous Date\"\n                  }, {\n                    activator: _withCtx(({ props }) => [\n                      _createVNode(_component_v_btn, _mergeProps(props, {\n                        class: \"rounded-icon-wrapper\",\n                        onClick: _unref(moveBackwardOneDay),\n                        onKeyup: _withKeys(_unref(moveBackwardOneDay), [\"enter\"]),\n                        disabled: _unref(singleDateSelected) === _unref(uniqueDays)[0],\n                        color: \"#009ade\",\n                        variant: \"outlined\",\n                        elevation: \"0\",\n                        size: \"md\"\n                      }), {\n                        default: _withCtx(() => [\n                          _createVNode(_component_v_icon, null, {\n                            default: _withCtx(() => [...(_cache[128] || (_cache[128] = [\n                              _createTextVNode(\"mdi-chevron-double-left\", -1)\n                            ]))]),\n                            _: 1\n                          })\n                        ]),\n                        _: 1\n                      }, 16, [\"onClick\", \"onKeyup\", \"disabled\"])\n                    ]),\n                    _: 1\n                  }, 8, [\"disabled\"]),\n                  _createVNode(_component_v_spacer),\n                  _createVNode(_component_v_tooltip, {\n                    disabled: touchscreen.value,\n                    text: \"Get Data for latest available day\"\n                  }, {\n                    activator: _withCtx(({ props }) => [\n                      _createVNode(_component_v_btn, _mergeProps(props, {\n                        style: {\"padding-inline\":\"4px\"},\n                        onClick: _cache[45] || (_cache[45] = () => singleDateSelected.value = _unref(uniqueDays)[_unref(uniqueDays).length - 1]),\n                        onKeyup: _cache[46] || (_cache[46] = _withKeys(() => singleDateSelected.value = _unref(uniqueDays)[_unref(uniqueDays).length - 1], [\"enter\"])),\n                        disabled: _unref(singleDateSelected) === _unref(uniqueDays)[_unref(uniqueDays).length - 1],\n                        color: \"#009ade\",\n                        variant: \"outlined\",\n                        elevation: \"0\",\n                        size: \"md\"\n                      }), {\n                        default: _withCtx(() => [...(_cache[129] || (_cache[129] = [\n                          _createTextVNode(\" Latest Data \", -1)\n                        ]))]),\n                        _: 1\n                      }, 16, [\"disabled\"])\n                    ]),\n                    _: 1\n                  }, 8, [\"disabled\"]),\n                  _createVNode(_component_v_spacer),\n                  _createVNode(_component_v_tooltip, {\n                    disabled: touchscreen.value,\n                    text: \"Next Date\"\n                  }, {\n                    activator: _withCtx(({ props }) => [\n                      _createVNode(_component_v_btn, _mergeProps(props, {\n                        class: \"rounded-icon-wrapper\",\n                        onClick: _unref(moveForwardOneDay),\n                        onKeyup: _withKeys(_unref(moveForwardOneDay), [\"enter\"]),\n                        disabled: _unref(singleDateSelected) === _unref(uniqueDays)[_unref(uniqueDays).length - 1],\n                        color: \"#009ade\",\n                        variant: \"outlined\",\n                        elevation: \"0\",\n                        size: \"md\"\n                      }), {\n                        default: _withCtx(() => [\n                          _createVNode(_component_v_icon, null, {\n                            default: _withCtx(() => [...(_cache[130] || (_cache[130] = [\n                              _createTextVNode(\"mdi-chevron-double-right\", -1)\n                            ]))]),\n                            _: 1\n                          })\n                        ]),\n                        _: 1\n                      }, 16, [\"onClick\", \"onKeyup\", \"disabled\"])\n                    ]),\n                    _: 1\n                  }, 8, [\"disabled\"])\n                ])\n              ]),\n              _createVNode(_component_v_select, {\n                modelValue: selectedTimezone.value,\n                \"onUpdate:modelValue\": _cache[47] || (_cache[47] = ($event: any) => ((selectedTimezone).value = $event)),\n                label: \"Timezone\",\n                items: timezoneOptions.value,\n                \"item-title\": \"name\",\n                \"item-value\": \"tz\",\n                \"hide-details\": \"\",\n                dense: \"\",\n                class: \"mt-3 pl-3\"\n              }, null, 8, [\"modelValue\", \"items\"]),\n              _createVNode(_component_v_select, {\n                modelValue: whichMolecule.value,\n                \"onUpdate:modelValue\": _cache[48] || (_cache[48] = ($event: any) => ((whichMolecule).value = $event)),\n                items: _unref(MOLECULE_OPTIONS),\n                \"item-title\": \"title\",\n                \"item-value\": \"value\",\n                label: \"Molecule / Quantity\",\n                \"hide-details\": \"\",\n                dense: \"\",\n                class: \"mt-3 pl-3\"\n              }, null, 8, [\"modelValue\", \"items\"])\n            ]),\n            _createElementVNode(\"div\", _hoisted_42, [\n              _cache[138] || (_cache[138] = _createElementVNode(\"h2\", null, \"Time-Series Graphs\", -1)),\n              _createElementVNode(\"div\", _hoisted_43, [\n                _createVNode(_component_v_expansion_panels, {\n                  modelValue: openPanels.value,\n                  \"onUpdate:modelValue\": _cache[54] || (_cache[54] = ($event: any) => ((openPanels).value = $event)),\n                  variant: \"accordion\",\n                  id: \"user-options-panels\",\n                  multiple: \"\",\n                  class: \"pl-3\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_expansion_panel, {\n                      title: \"Time Ranges\",\n                      class: \"mt-3\"\n                    }, {\n                      text: _withCtx(() => [\n                        _createVNode(_component_v_btn, {\n                          size: \"small\",\n                          active: createTimeRangeActive.value,\n                          onClick: _cache[49] || (_cache[49] = ($event: any) => (createTimeRangeActive.value = !createTimeRangeActive.value))\n                        }, {\n                          prepend: _withCtx(() => [\n                            (!createTimeRangeActive.value)\n                              ? (_openBlock(), _createBlock(_component_v_icon, {\n                                  key: 0,\n                                  icon: \"mdi-plus\"\n                                }))\n                              : _createCommentVNode(\"\", true)\n                          ]),\n                          default: _withCtx(() => [\n                            _createTextVNode(\" \" + _toDisplayString(createTimeRangeActive.value ? \"Cancel\" : \"New Time Range\"), 1)\n                          ]),\n                          _: 1\n                        }, 8, [\"active\"]),\n                        (createTimeRangeActive.value)\n                          ? (_openBlock(), _createBlock(DateTimeRangeSelection, {\n                              key: 0,\n                              \"current-date\": _unref(singleDateSelected),\n                              \"selected-timezone\": selectedTimezone.value,\n                              \"allowed-dates\": _unref(uniqueDays),\n                              onRangesChange: handleDateTimeRangeSelectionChange\n                            }, null, 8, [\"current-date\", \"selected-timezone\", \"allowed-dates\"]))\n                          : _createCommentVNode(\"\", true),\n                        _createVNode(_component_v_list, null, {\n                          default: _withCtx(() => [\n                            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(availableTimeRanges.value, (timeRange, index) => {\n                              return (_openBlock(), _createBlock(_component_v_list_item, {\n                                key: index,\n                                title: timeRange.name === 'Displayed Day' ? timeRange.name : _unref(formatTimeRange)(timeRange.range)\n                              }, {\n                                append: _withCtx(() => [\n                                  (timeRange.id !== 'displayed-day' && !selections.value.some(s => _unref(areEquivalentTimeRanges)(s.timeRange, timeRange)))\n                                    ? _withDirectives((_openBlock(), _createBlock(_component_v_btn, {\n                                        key: 0,\n                                        variant: \"plain\",\n                                        icon: \"mdi-delete\",\n                                        color: \"white\",\n                                        onClick: () => deleteTimeRange(timeRange)\n                                      }, null, 8, [\"onClick\"])), [\n                                        [_directive_tooltip, 'Delete']\n                                      ])\n                                    : _createCommentVNode(\"\", true)\n                                ]),\n                                _: 2\n                              }, 1032, [\"title\"]))\n                            }), 128))\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_component_v_expansion_panel, {\n                      title: \"Regions\",\n                      class: \"mt-3\"\n                    }, {\n                      text: _withCtx(() => [\n                        _createElementVNode(\"div\", _hoisted_44, [\n                          _createVNode(_component_v_btn, {\n                            size: \"small\",\n                            active: _unref(rectangleSelectionActive),\n                            disabled: _unref(pointSelectionActive),\n                            onClick: _cache[50] || (_cache[50] = () => {\n                          if (_unref(rectangleSelectionActive)) {\n                            rectangleSelectionActive.value = false;\n                          } else {\n                            createNewSelection('rectangle');\n                          }\n                        })\n                          }, {\n                            prepend: _withCtx(() => [\n                              (!_unref(rectangleSelectionActive))\n                                ? (_openBlock(), _createBlock(_component_v_icon, {\n                                    key: 0,\n                                    icon: \"mdi-plus\"\n                                  }))\n                                : _createCommentVNode(\"\", true)\n                            ]),\n                            default: _withCtx(() => [\n                              _createTextVNode(\" \" + _toDisplayString(_unref(rectangleSelectionActive) ? \"Cancel\" : \"New Region\"), 1)\n                            ]),\n                            _: 1\n                          }, 8, [\"active\", \"disabled\"])\n                        ]),\n                        _createVNode(_component_v_list, null, {\n                          default: _withCtx(() => [\n                            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(availableRegions.value, (region, index) => {\n                              return (_openBlock(), _createBlock(_component_v_list_item, {\n                                key: index,\n                                title: region.name,\n                                style: _normalizeStyle({ 'background-color': region.color }),\n                                onClick: () => moveMapToRegion(region as UnifiedRegionType)\n                              }, {\n                                append: _withCtx(() => [\n                                  _withDirectives(_createVNode(_component_v_btn, {\n                                    variant: \"plain\",\n                                    icon: \"mdi-pencil\",\n                                    color: \"white\",\n                                    onClick: () => editRegionName(region as UnifiedRegionType)\n                                  }, null, 8, [\"onClick\"]), [\n                                    [_directive_tooltip, 'Edit Name']\n                                  ]),\n                                  (!regionHasDatasets(region as UnifiedRegionType))\n                                    ? _withDirectives((_openBlock(), _createBlock(_component_v_btn, {\n                                        key: 0,\n                                        variant: \"plain\",\n                                        icon: \"mdi-delete\",\n                                        color: \"white\",\n                                        onClick: () => deleteRegion(region as UnifiedRegionType)\n                                      }, null, 8, [\"onClick\"])), [\n                                        [_directive_tooltip, 'Delete']\n                                      ])\n                                    : _createCommentVNode(\"\", true)\n                                ]),\n                                _: 2\n                              }, 1032, [\"title\", \"style\", \"onClick\"]))\n                            }), 128))\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_component_v_divider, {\n                      class: \"mt-3\",\n                      opacity: \"1\"\n                    }),\n                    _createVNode(_component_v_expansion_panel, {\n                      title: \"Datasets\",\n                      class: \"mt-3\"\n                    }, {\n                      text: _withCtx(() => [\n                        _createVNode(_component_v_btn, {\n                          size: \"small\",\n                          active: createSelectionActive.value,\n                          onClick: _cache[51] || (_cache[51] = ($event: any) => (createSelectionActive.value = !createSelectionActive.value)),\n                          class: \"mt-3 ml-3\"\n                        }, {\n                          prepend: _withCtx(() => [\n                            (!createSelectionActive.value)\n                              ? (_openBlock(), _createBlock(_component_v_icon, {\n                                  key: 0,\n                                  icon: \"mdi-plus\"\n                                }))\n                              : _createCommentVNode(\"\", true)\n                          ]),\n                          default: _withCtx(() => [\n                            _createTextVNode(\" \" + _toDisplayString(createSelectionActive.value ? \"Cancel\" : \"New Dataset\"), 1)\n                          ]),\n                          _: 1\n                        }, 8, [\"active\"]),\n                        _withDirectives(_createVNode(_component_selection_composer, {\n                          backend: BACKEND,\n                          \"time-ranges\": availableTimeRanges.value,\n                          regions: availableRegions.value,\n                          disabled: { region: _unref(rectangleSelectionActive), point: _unref(pointSelectionActive), timeRange: createTimeRangeActive.value },\n                          onCreate: handleSelectionCreated,\n                          \"tempo-data-service\": _unref(tempoDataService)\n                        }, null, 8, [\"time-ranges\", \"regions\", \"disabled\", \"tempo-data-service\"]), [\n                          [_vShow, createSelectionActive.value]\n                        ]),\n                        (selections.value.length>0)\n                          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_45, [\n                              _cache[134] || (_cache[134] = _createElementVNode(\"h3\", null, \"My Datasets\", -1)),\n                              _createVNode(_component_v_list, null, {\n                                default: _withCtx(() => [\n                                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(selections.value, (sel) => {\n                                    return (_openBlock(), _createBlock(_component_v_hover, {\n                                      key: sel.id\n                                    }, {\n                                      default: _withCtx(({ isHovering, props }) => [\n                                        _createVNode(_component_v_list_item, _mergeProps({ ref_for: true }, props, {\n                                          ref_for: true,\n                                          ref: (el) => datasetRowRefs.value[sel.id] = el,\n                                          class: \"selection-item\",\n                                          style: { 'background-color': sel.region.color },\n                                          ripple: touchscreen.value,\n                                          onClick: () => {\n                            if (touchscreen.value) {\n                              openSelection.value = (openSelection.value == sel.id) ? null : sel.id;\n                            }\n                          },\n                                          lines: \"two\"\n                                        }), {\n                                          default: _withCtx(() => [\n                                            _createElementVNode(\"div\", null, [\n                                              _createVNode(_component_v_chip, { size: \"small\" }, {\n                                                default: _withCtx(() => [\n                                                  _createTextVNode(_toDisplayString(sel.region.name), 1)\n                                                ]),\n                                                _: 2\n                                              }, 1024),\n                                              _createVNode(_component_v_chip, { size: \"small\" }, {\n                                                default: _withCtx(() => [\n                                                  _createTextVNode(_toDisplayString(moleculeName(sel.molecule)), 1)\n                                                ]),\n                                                _: 2\n                                              }, 1024),\n                                              (sel.timeRange)\n                                                ? (_openBlock(), _createBlock(_component_v_chip, {\n                                                    key: 0,\n                                                    size: \"small\",\n                                                    class: \"text-caption\"\n                                                  }, {\n                                                    default: _withCtx(() => [\n                                                      _createTextVNode(_toDisplayString(sel.timeRange.description), 1)\n                                                    ]),\n                                                    _: 2\n                                                  }, 1024))\n                                                : _createCommentVNode(\"\", true)\n                                            ]),\n                                            (sel.loading || !sel.samples)\n                                              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_46, [\n                                                  _createVNode(_component_v_progress_linear, {\n                                                    class: _normalizeClass(['dataset-loading-progress', !(sel.loading && sel.samples) ? 'dataset-loading-failed' : '']),\n                                                    active: sel.loading || !sel.samples,\n                                                    color: sel.loading ? 'primary' : 'red',\n                                                    indeterminate: sel.loading,\n                                                    value: !sel.loading ? 100 : 0,\n                                                    striped: !sel.loading,\n                                                    bottom: \"\",\n                                                    rounded: \"\",\n                                                    height: \"20\"\n                                                  }, {\n                                                    default: _withCtx(() => [\n                                                      _createElementVNode(\"span\", _hoisted_47, _toDisplayString(sel.loading ? 'Data Loading' : (!sel.samples ? 'Error Loading Data' : '')), 1)\n                                                    ]),\n                                                    _: 2\n                                                  }, 1032, [\"class\", \"active\", \"color\", \"indeterminate\", \"value\", \"striped\"]),\n                                                  (!(sel.loading || sel.samples))\n                                                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_48, [\n                                                        _createVNode(_component_v_tooltip, {\n                                                          text: \"Failure info\",\n                                                          location: \"top\"\n                                                        }, {\n                                                          activator: _withCtx(({ props }) => [\n                                                            _createVNode(_component_v_btn, _mergeProps({ ref_for: true }, props, {\n                                                              size: \"x-small\",\n                                                              icon: \"mdi-help-circle\",\n                                                              variant: \"plain\",\n                                                              onClick: () => sampleErrorID.value = sel.id\n                                                            }), null, 16, [\"onClick\"])\n                                                          ]),\n                                                          _: 2\n                                                        }, 1024),\n                                                        _createVNode(_component_v_tooltip, {\n                                                          text: \"Remove selection\",\n                                                          location: \"top\"\n                                                        }, {\n                                                          activator: _withCtx(({ props }) => [\n                                                            _createVNode(_component_v_btn, _mergeProps({ ref_for: true }, props, {\n                                                              size: \"x-small\",\n                                                              icon: \"mdi-trash-can\",\n                                                              variant: \"plain\",\n                                                              onClick: () => deleteSelection(sel)\n                                                            }), null, 16, [\"onClick\"])\n                                                          ]),\n                                                          _: 2\n                                                        }, 1024)\n                                                      ]))\n                                                    : _createCommentVNode(\"\", true)\n                                                ]))\n                                              : _createCommentVNode(\"\", true),\n                                            _createVNode(_component_v_expand_transition, null, {\n                                              default: _withCtx(() => [\n                                                _withDirectives(_createElementVNode(\"div\", _hoisted_49, [\n                                                  _createVNode(_component_v_tooltip, {\n                                                    text: \"Change Selection Name\",\n                                                    location: \"top\"\n                                                  }, {\n                                                    activator: _withCtx(({ props }) => [\n                                                      _createVNode(_component_v_btn, _mergeProps({ ref_for: true }, props, {\n                                                        size: \"x-small\",\n                                                        icon: \"mdi-pencil\",\n                                                        onClick: () => editSelectionName(sel),\n                                                        variant: \"plain\"\n                                                      }), null, 16, [\"onClick\"])\n                                                    ]),\n                                                    _: 2\n                                                  }, 1024),\n                                                  _createVNode(_component_v_tooltip, {\n                                                    text: \"Get Center Point Sample\",\n                                                    location: \"top\"\n                                                  }, {\n                                                    activator: _withCtx(({ props }) => [\n                                                      _createVNode(_component_v_btn, _mergeProps({ ref_for: true }, props, {\n                                                        size: \"x-small\",\n                                                        loading: loadingPointSample.value === sel.id,\n                                                        icon: \"mdi-image-filter-center-focus\",\n                                                        variant: \"plain\",\n                                                        onClick: () => fetchCenterPointDataForSelection(sel)\n                                                      }), null, 16, [\"loading\", \"onClick\"])\n                                                    ]),\n                                                    _: 2\n                                                  }, 1024),\n                                                  _createVNode(_component_v_tooltip, {\n                                                    text: \"Show table\",\n                                                    location: \"top\"\n                                                  }, {\n                                                    activator: _withCtx(({ props }) => [\n                                                      _createVNode(_component_v_btn, _mergeProps({ ref_for: true }, props, {\n                                                        size: \"x-small\",\n                                                        icon: \"mdi-table\",\n                                                        disabled: !sel.samples,\n                                                        variant: \"plain\",\n                                                        onClick: () => tableSelection.value = sel\n                                                      }), null, 16, [\"disabled\", \"onClick\"])\n                                                    ]),\n                                                    _: 2\n                                                  }, 1024),\n                                                  _createVNode(_component_v_tooltip, {\n                                                    text: \"Show graph\",\n                                                    location: \"top\"\n                                                  }, {\n                                                    activator: _withCtx(({ props }) => [\n                                                      _createVNode(_component_v_btn, _mergeProps({ ref_for: true }, props, {\n                                                        size: \"x-small\",\n                                                        icon: \"mdi-chart-line\",\n                                                        disabled: !sel.samples,\n                                                        variant: \"plain\",\n                                                        onClick: () => openGraphs.value[sel.id] = true\n                                                      }), null, 16, [\"disabled\", \"onClick\"])\n                                                    ]),\n                                                    _: 2\n                                                  }, 1024),\n                                                  _createVNode(_component_v_tooltip, {\n                                                    text: \"Remove selection\",\n                                                    location: \"top\"\n                                                  }, {\n                                                    activator: _withCtx(({ props }) => [\n                                                      _createVNode(_component_v_btn, _mergeProps({ ref_for: true }, props, {\n                                                        size: \"x-small\",\n                                                        icon: \"mdi-trash-can\",\n                                                        variant: \"plain\",\n                                                        onClick: () => deleteSelection(sel)\n                                                      }), null, 16, [\"onClick\"])\n                                                    ]),\n                                                    _: 2\n                                                  }, 1024)\n                                                ], 512), [\n                                                  [_vShow, sel.samples && (touchscreen.value ? openSelection.value == sel.id : isHovering)]\n                                                ])\n                                              ]),\n                                              _: 2\n                                            }, 1024),\n                                            _createVNode(_component_cds_dialog, {\n                                              title: graphTitle(sel),\n                                              modelValue: openGraphs.value[sel.id],\n                                              \"onUpdate:modelValue\": ($event: any) => ((openGraphs.value[sel.id]) = $event),\n                                              \"title-color\": \"#F44336\",\n                                              draggable: \"\",\n                                              persistent: \"\",\n                                              scrim: false,\n                                              modal: false\n                                            }, {\n                                              default: _withCtx(() => [\n                                                _createVNode(_component_v_checkbox, {\n                                                  modelValue: showErrorBands.value,\n                                                  \"onUpdate:modelValue\": _cache[52] || (_cache[52] = ($event: any) => ((showErrorBands).value = $event)),\n                                                  label: \"Show Errors\",\n                                                  density: \"compact\",\n                                                  \"hide-details\": \"\"\n                                                }, null, 8, [\"modelValue\"]),\n                                                _createVNode(_component_timeseries_graph, {\n                                                  data: sel ? [sel] : [],\n                                                  \"show-errors\": showErrorBands.value\n                                                }, null, 8, [\"data\", \"show-errors\"])\n                                              ]),\n                                              _: 2\n                                            }, 1032, [\"title\", \"modelValue\", \"onUpdate:modelValue\"]),\n                                            _createVNode(_component_v_dialog, {\n                                              \"model-value\": sampleErrorID.value !== null,\n                                              \"max-width\": \"50%\"\n                                            }, {\n                                              default: _withCtx(() => [\n                                                _createVNode(_component_v_card, null, {\n                                                  default: _withCtx(() => [\n                                                    _createVNode(_component_v_toolbar, { density: \"compact\" }, {\n                                                      default: _withCtx(() => [\n                                                        _createVNode(_component_v_toolbar_title, { text: \"Error Loading Data\" }),\n                                                        _createVNode(_component_v_spacer),\n                                                        _createVNode(_component_v_btn, {\n                                                          icon: \"mdi-close\",\n                                                          onClick: _cache[53] || (_cache[53] = ($event: any) => (sampleErrorID.value = null))\n                                                        })\n                                                      ]),\n                                                      _: 1\n                                                    }),\n                                                    _createVNode(_component_v_card_text, null, {\n                                                      default: _withCtx(() => [...(_cache[133] || (_cache[133] = [\n                                                        _createTextVNode(\" There was an error loading data for this selection. Either there is no data for the region/time range/molecule combination that you selected, or there was an error loading data from the server. You can delete this selection and try making a new one. \", -1)\n                                                      ]))]),\n                                                      _: 1\n                                                    })\n                                                  ]),\n                                                  _: 1\n                                                })\n                                              ]),\n                                              _: 1\n                                            }, 8, [\"model-value\"])\n                                          ]),\n                                          _: 2\n                                        }, 1040, [\"style\", \"ripple\", \"onClick\"])\n                                      ]),\n                                      _: 2\n                                    }, 1024))\n                                  }), 128))\n                                ]),\n                                _: 1\n                              })\n                            ]))\n                          : _createCommentVNode(\"\", true)\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\"])\n              ]),\n              (no2GraphData.value.length > 0)\n                ? (_openBlock(), _createBlock(_component_v_btn, {\n                    key: 0,\n                    onClick: _cache[55] || (_cache[55] = ($event: any) => (showNO2Graph.value = true))\n                  }, {\n                    default: _withCtx(() => [...(_cache[135] || (_cache[135] = [\n                      _createTextVNode(\" Show NO₂ Graph \", -1)\n                    ]))]),\n                    _: 1\n                  }))\n                : _createCommentVNode(\"\", true),\n              _createVNode(_component_cds_dialog, {\n                title: \"Nitrogen Dioxide Data\",\n                modelValue: showNO2Graph.value,\n                \"onUpdate:modelValue\": _cache[57] || (_cache[57] = ($event: any) => ((showNO2Graph).value = $event)),\n                draggable: \"\",\n                persistent: \"\",\n                modal: false,\n                scrim: false\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_v_checkbox, {\n                    modelValue: showErrorBands.value,\n                    \"onUpdate:modelValue\": _cache[56] || (_cache[56] = ($event: any) => ((showErrorBands).value = $event)),\n                    label: \"Show Errors\",\n                    density: \"compact\",\n                    \"hide-details\": \"\"\n                  }, null, 8, [\"modelValue\"]),\n                  _createVNode(_component_timeseries_graph, {\n                    data: no2GraphData.value.length > 0 ? no2GraphData.value : [],\n                    \"show-errors\": showErrorBands.value\n                  }, null, 8, [\"data\", \"show-errors\"])\n                ]),\n                _: 1\n              }, 8, [\"modelValue\"]),\n              (o3GraphData.value.length > 0)\n                ? (_openBlock(), _createBlock(_component_v_btn, {\n                    key: 1,\n                    onClick: _cache[58] || (_cache[58] = ($event: any) => (showO3Graph.value = true))\n                  }, {\n                    default: _withCtx(() => [...(_cache[136] || (_cache[136] = [\n                      _createTextVNode(\" Show Ozone Graph \", -1)\n                    ]))]),\n                    _: 1\n                  }))\n                : _createCommentVNode(\"\", true),\n              _createVNode(_component_cds_dialog, {\n                title: \"Ozone Data\",\n                modelValue: showO3Graph.value,\n                \"onUpdate:modelValue\": _cache[60] || (_cache[60] = ($event: any) => ((showO3Graph).value = $event)),\n                draggable: \"\",\n                persistent: \"\",\n                modal: false,\n                scrim: false\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_v_checkbox, {\n                    modelValue: showErrorBands.value,\n                    \"onUpdate:modelValue\": _cache[59] || (_cache[59] = ($event: any) => ((showErrorBands).value = $event)),\n                    label: \"Show Errors\",\n                    density: \"compact\",\n                    \"hide-details\": \"\"\n                  }, null, 8, [\"modelValue\"]),\n                  _createVNode(_component_timeseries_graph, {\n                    data: o3GraphData.value.length > 0 ? o3GraphData.value : [],\n                    \"show-errors\": showErrorBands.value\n                  }, null, 8, [\"data\", \"show-errors\"])\n                ]),\n                _: 1\n              }, 8, [\"modelValue\"]),\n              (hchoGraphData.value.length > 0)\n                ? (_openBlock(), _createBlock(_component_v_btn, {\n                    key: 2,\n                    onClick: _cache[61] || (_cache[61] = ($event: any) => (showHCHOGraph.value = true))\n                  }, {\n                    default: _withCtx(() => [...(_cache[137] || (_cache[137] = [\n                      _createTextVNode(\" Show Formaldehyde Graph \", -1)\n                    ]))]),\n                    _: 1\n                  }))\n                : _createCommentVNode(\"\", true),\n              _createVNode(_component_cds_dialog, {\n                title: \"Formaldehyde Data\",\n                modelValue: showHCHOGraph.value,\n                \"onUpdate:modelValue\": _cache[63] || (_cache[63] = ($event: any) => ((showHCHOGraph).value = $event)),\n                draggable: \"\",\n                persistent: \"\",\n                modal: false,\n                scrim: false\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_v_checkbox, {\n                    modelValue: showErrorBands.value,\n                    \"onUpdate:modelValue\": _cache[62] || (_cache[62] = ($event: any) => ((showErrorBands).value = $event)),\n                    label: \"Show Errors\",\n                    density: \"compact\",\n                    \"hide-details\": \"\"\n                  }, null, 8, [\"modelValue\"]),\n                  _createVNode(_component_timeseries_graph, {\n                    data: hchoGraphData.value.length > 0 ? hchoGraphData.value : [],\n                    \"show-errors\": showErrorBands.value\n                  }, null, 8, [\"data\", \"show-errors\"])\n                ]),\n                _: 1\n              }, 8, [\"modelValue\"])\n            ]),\n            _createVNode(_component_v_dialog, {\n              modelValue: showEditRegionNameDialog.value,\n              \"onUpdate:modelValue\": _cache[66] || (_cache[66] = ($event: any) => ((showEditRegionNameDialog).value = $event))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(CTextField, {\n                  label: \"Region Name\",\n                  title: \"Enter a new name for this region\",\n                  \"hide-details\": \"\",\n                  dense: \"\",\n                  \"button-color\": accentColor.value,\n                  onConfirm: _cache[64] || (_cache[64] = (value) => {\n                if (regionBeingEdited.value) {\n                  setRegionName(regionBeingEdited.value as UnifiedRegionType, value);\n                  showEditRegionNameDialog.value = false;\n                }\n              }),\n                  onCancel: _cache[65] || (_cache[65] = () => {\n                showEditRegionNameDialog.value = false;\n                regionBeingEdited.value = null;\n              })\n                }, null, 8, [\"button-color\"])\n              ]),\n              _: 1\n            }, 8, [\"modelValue\"]),\n            _createElementVNode(\"div\", _hoisted_50, [\n              _cache[139] || (_cache[139] = _createElementVNode(\"br\", null, null, -1)),\n              _createVNode(_component_cds_dialog, {\n                modelValue: showUserGuide.value,\n                \"onUpdate:modelValue\": _cache[67] || (_cache[67] = ($event: any) => ((showUserGuide).value = $event)),\n                title: \"User Guide\",\n                color: \"var(--tempo-red)\",\n                button: \"\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(UserGuide)\n                ]),\n                _: 1\n              }, 8, [\"modelValue\"])\n            ])\n          ]),\n          _createVNode(_component_cds_dialog, {\n            title: \"NO₂ Samples\",\n            modelValue: showTable.value,\n            \"onUpdate:modelValue\": _cache[68] || (_cache[68] = ($event: any) => ((showTable).value = $event)),\n            draggable: \"\",\n            persistent: \"\",\n            modal: false,\n            scrim: false\n          }, {\n            default: _withCtx(() => [\n              (loadingSamples.value === 'loading')\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_51, [\n                    _cache[140] || (_cache[140] = _createTextVNode(\"Loading rectangle samples... \", -1)),\n                    _createVNode(_component_v_progress_linear, {\n                      indeterminate: \"\",\n                      height: \"20\"\n                    })\n                  ]))\n                : _createCommentVNode(\"\", true),\n              (tableSelection.value)\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_52, [\n                    (sampleErrors.value[tableSelection.value.id])\n                      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_53, \"Error: \" + _toDisplayString(sampleErrors.value[tableSelection.value.id]), 1))\n                      : _createCommentVNode(\"\", true),\n                    _createVNode(SampleTable, {\n                      samples: tableSelection.value.samples ?? null,\n                      error: sampleErrors.value[tableSelection.value.id]\n                    }, null, 8, [\"samples\", \"error\"]),\n                    (loadingPointSample.value === 'loading')\n                      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_54, \"Loading center point sample...\"))\n                      : _createCommentVNode(\"\", true),\n                    (pointSampleErrors.value[tableSelection.value.id])\n                      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_55, \"Error: \" + _toDisplayString(pointSampleErrors.value[tableSelection.value.id]), 1))\n                      : _createCommentVNode(\"\", true),\n                    _createVNode(SampleTable, {\n                      samples: pointSampleResults.value[tableSelection.value.id],\n                      error: pointSampleErrors.value[tableSelection.value.id]\n                    }, null, 8, [\"samples\", \"error\"]),\n                    (pointSampleResults.value[tableSelection.value.id] && Object.keys(pointSampleResults.value[tableSelection.value.id] ?? {}).length === 0)\n                      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_56, \"No data for this point/time.\"))\n                      : _createCommentVNode(\"\", true)\n                  ]))\n                : _createCommentVNode(\"\", true)\n            ]),\n            _: 1\n          }, 8, [\"modelValue\"]),\n          _createElementVNode(\"div\", _hoisted_57, [\n            _createElementVNode(\"div\", _hoisted_58, [\n              _cache[141] || (_cache[141] = _createElementVNode(\"a\", {\n                href: \"https://www.si.edu/\",\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                class: \"mr-1\"\n              }, [\n                _createElementVNode(\"img\", {\n                  alt: \"Smithsonian Logo\",\n                  src: _imports_1\n                })\n              ], -1)),\n              _createVNode(_component_credit_logos)\n            ])\n          ])\n        ])\n      ]),\n      _createVNode(_component_v_dialog, {\n        scrim: \"false\",\n        modelValue: showPrivacyDialog.value,\n        \"onUpdate:modelValue\": _cache[71] || (_cache[71] = ($event: any) => ((showPrivacyDialog).value = $event)),\n        \"max-width\": \"400px\",\n        id: \"privacy-popup-dialog\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_card, null, {\n            default: _withCtx(() => [\n              _createVNode(_component_v_card_text, null, {\n                default: _withCtx(() => [...(_cache[144] || (_cache[144] = [\n                  _createTextVNode(\" To evaluate usage of this app, \", -1),\n                  _createElementVNode(\"strong\", null, \"anonymized\", -1),\n                  _createTextVNode(\" data may be collected, including locations viewed and map quiz responses. \\\"My Location\\\" data is NEVER collected. \", -1)\n                ]))]),\n                _: 1\n              }),\n              _createVNode(_component_v_card_actions, { class: \"pt-3\" }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_v_spacer),\n                  _createVNode(_component_v_btn, {\n                    color: \"#BDBDBD\",\n                    href: \"https://www.cfa.harvard.edu/privacy-statement\",\n                    target: \"_blank\",\n                    rel: \"noopener noreferrer\"\n                  }, {\n                    default: _withCtx(() => [...(_cache[145] || (_cache[145] = [\n                      _createTextVNode(\" Privacy Policy \", -1)\n                    ]))]),\n                    _: 1\n                  }),\n                  _createVNode(_component_v_btn, {\n                    color: \"#ff6666\",\n                    onClick: _cache[69] || (_cache[69] = () => {\n              responseOptOut.value = true;\n              showPrivacyDialog.value = false;\n            })\n                  }, {\n                    default: _withCtx(() => [...(_cache[146] || (_cache[146] = [\n                      _createTextVNode(\" Opt out \", -1)\n                    ]))]),\n                    _: 1\n                  }),\n                  _createVNode(_component_v_btn, {\n                    color: \"green\",\n                    onClick: _cache[70] || (_cache[70] = () => {\n              responseOptOut.value = false;\n              showPrivacyDialog.value = false;\n            })\n                  }, {\n                    default: _withCtx(() => [...(_cache[147] || (_cache[147] = [\n                      _createTextVNode(\" Allow \", -1)\n                    ]))]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"modelValue\"])\n    ]),\n    _: 1\n  }, 8, [\"style\"]))\n}\n}\n\n})","<template>\n<v-app\n  id=\"app\"\n  :style=\"cssVars\"\n>\n\n  <v-overlay\n    :model-value=\"inIntro\"\n    :style=\"cssVars\"\n    id=\"intro-background\"\n  >\n\n      <v-dialog \n        v-model=\"inIntro\"\n        >\n        <div v-if=\"inIntro\" id=\"introduction-overlay\" class=\"elevation-10 gradient-background\">\n          <v-window v-model=\"introSlide\">\n            <template v-slot:additional>\n              <div id=\"intro-window-close-button\">\n              <font-awesome-icon\n                size=\"xl\"\n                class=\"ma-3\"\n                color=\"#b3d5e6\"\n                icon='square-xmark'\n                @click=\"inIntro = !inIntro\"\n                @keyup.enter=\"inIntro = !inIntro\"\n                tabindex=\"0\"\n                tooltip-location=\"start\"\n              /> \n            </div>\n            </template>\n\n            <v-window-item :value=\"1\"\n              id=\"splash-screen\"\n            >\n              <div\n                id=\"first-splash-row\"\n              >\n                <div id=\"splash-screen-text\">\n                  What Is in the Air You Breathe?\n                </div>\n                <div>\n                  Explore daily pollution maps over North America and find out.\n                </div>\n              </div>\n\n              <div>\n                <v-btn\n                  class=\"splash-get-started\"\n                  @click=\"introSlide++\"\n                  @keyup.enter=\"introSlide++\"\n                  :color=\"accentColor\"\n                  :density=\"display.smAndDown ? 'compact' : 'default'\"\n                  size=\"x-large\"\n                  variant=\"elevated\"\n                  rounded=\"lg\"\n                >\n                  Get Started\n                </v-btn>\n              </div>\n            \n              <div id=\"splash-screen-acknowledgements\">\n                Brought to you by <a href=\"https://www.cosmicds.cfa.harvard.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">Cosmic Data Stories</a>.\n                \n                <div id=\"splash-screen-logos\">\n                  <a href=\"https://www.si.edu/\" target=\"_blank\" rel=\"noopener noreferrer\"\n                  ><img alt=\"Smithsonian Logo\" src=\"220px-Smithsonian_sun_logo_no_text.svg.png\"></a>\n                  <credit-logos/>\n                </div>\n              </div>\n            </v-window-item>\n            \n            <v-window-item :value=\"2\">\n              <div class=\"intro-text\">\n                <p class=\"mb-5\">\n                  The TEMPO satellite mission (Tropospheric Emissions: Monitoring Pollution), launched in April 2023, is the first space-based instrument to measure major air pollutants across the North American continent every daylight hour at high spatial resolution. A collaboration between NASA and the Smithsonian Astrophysical Observatory, the TEMPO instrument gathers hourly daytime scans of the atmosphere over North America from the Atlantic Ocean to the Pacific Coast and from the Yucatán Peninsula to central Canada.\n                </p>\n              </div>\n            </v-window-item>\n            \n            <v-window-item :value=\"3\">\n              <div class=\"intro-text mb-3\">\n                <p class=\"mb-3\">\n                  This Data Story provides an introduction to what can be learned from TEMPO’s data, which became publicly available May 20, 2024. The map here visualizes hourly Nitrogen Dioxide (NO<sub>2</sub>) data over time. NO<sub>2</sub> can be produced by:\n                </p> \n                <ul>\n                  <li>Burning of fossil fuels&#8212;for example from vehicles, power plants, manufacturing sites, and oil refineries</li>\n                  <li>Fires and biomass burning&#8212;including wildfires and prescribed burns, as well as burning of vegetation for land clearing</li>\n                  <li>Bacteria, which naturally convert nitrogen in soil into compounds that can form NO<sub>2</sub>. Agricultural use of nitrogen-based fertilizers increases the amount of NO<sub>2</sub> produced by these bacteria.</li>\n                  <li>Lightning, which triggers a chemical reaction that turns harmless N<sub>2</sub> in the atmosphere into NO<sub>2</sub>.\n</li>\n                </ul>\n                <p class=\"mt-3\">\n                For each date, you can see the scans beginning on the East Coast in the morning, and ending on the West Coast as the Sun sets.\n                </p> \n              </div>\n            </v-window-item>\n            <v-window-item :value=\"4\">\n              <div class=\"intro-text mb-3\">      \n                <p class=\"mb-3\">\n                  In this interactive page you can:\n                </p>\n                <ul>\n                  <li>\n                    Use the search box to navigate a location of your choice.\n                  </li>\n                  <li>\n                    Select a date and press the “Play” button or scroll the time slider to view the changing concentrations of NO<sub>2</sub> on those dates. \n                  </li>\n                  <li>\n                    Click <v-icon style=\"color: #ffcc33\">mdi-share-variant</v-icon> to share your selected location, date, and time with others.\n                  </li>\n                  <li v-bind:style=\"cssVars\">\n                    Press the <v-icon style=\"font-size: 1.3em; color: var(--accent-color)\" elevation=\"1\">mdi-information-variant-circle-outline</v-icon> button next to each Notable Date to get an overview of what to look for on that date\n                  </li>\n                  <li>\n                    For each Notable Date, select one of two zoomed-in Locations to investigate specific pollution events.\n                  </li>\n                  <li>\n                    You can use the “Timezone” setting to investigate how pollution evolves over the day in different parts of the country, for example as rush hour progresses in large cities.\n                  </li>\n                </ul>\n                <!-- add do not show introduction again button -->\n                <v-checkbox\n                  v-model=\"dontShowIntro\"\n                  @keyup.enter=\"dontShowIntro = !dontShowIntro\"\n                  label=\"Don't show this introduction at launch\"\n                  color=\"#c10124\"\n                  hide-details\n                />\n              </div>\n            </v-window-item>\n          </v-window>\n\n          <div id=\"intro-bottom-controls\">\n            <div>\n              <v-btn\n                v-if=\"(introSlide > 1)\"\n                id=\"intro-next-button\"\n                :color=\"accentColor\"\n                @click=\"introSlide--\"\n                @keyup.enter=\"introSlide--\"\n                elevation=\"0\"\n                >\n                Back\n              </v-btn>\n            </div>\n            \n            <v-btn\n              v-if=\"(introSlide > 1)\"\n              id=\"intro-next-button\"\n              :color=\"accentColor\"\n              @click=\"introSlide++\"\n              @keyup.enter=\"introSlide++\"\n              elevation=\"0\"\n              >\n              {{ introSlide < 4 ? 'Next' : 'Get Started' }}\n            </v-btn>\n          </div>\n        </div>\n      </v-dialog>\n    </v-overlay>\n  <div\n    id=\"main-content\"\n  > \n    <div class=\"content-with-sidebars\">\n      <!-- tempo logo -->\n      <div id=\"logo-title\">\n      <a href=\"https://tempo.si.edu\" target=\"_blank\" rel=\"noopener noreferrer\" >\n        <img \n          src=\"./assets/TEMPO-Logo-Small.png\"\n          alt=\"TEMPO Logo\"\n          style=\"width: 100px; height: 100px;\"\n        >\n      </a>\n\n      <h1 id=\"title\">What is in the Air You Breathe?</h1>\n      <!-- <cds-dialog\n        title=\"Time Series\"\n        v-model=\"samplesGraph\"\n        :color=\"accentColor2\"\n        draggable\n        :scrim=\"false\"\n        :drag-predicate=\"(element: HTMLElement) => element.closest('.plotly') == null\"\n      >\n        <timeseries-graph\n          v-if=\"userSelections.length > 0\"\n          :data=\"userSelections\"\n        />\n      </cds-dialog> -->\n\n      <!-- </div> -->\n      <cds-dialog title=\"What's new\" v-model=\"showChanges\" :color=\"accentColor2\">\n        <ul class=\"snackbar-alert-ul\">\n          <li class=\"change-item mb-5\" v-for=\"change in changes\" :key=\"change.date\" :data-date=\"change.date\">\n            <span :style='{\"font-weight\":\"bold\", \"color\": `${change.highlight ? \"var(--smithsonian-yellow)\" : \"currentColor\"}` }'>{{ change.date }}</span><br> <span v-html=\"change.html\">  </span>{{ change.text }}\n          </li>\n        </ul>\n        <!-- <template v-slot:activator=\"{ onClick, id }\">\n          <v-btn :id=\"id\" @click=\"onClick\" color=\"primary\">\n            Custom Activator\n          </v-btn>\n        </template>  -->\n      </cds-dialog>\n\n      <div id=\"menu-area\">\n        <v-btn \n          v-if=\"(new Date('2025-05-7 00:00:00') > new Date())\"\n          class='whats-new-button pulse' \n          aria-label=\"What's new\" \n          @click=\"showChanges = true\" \n          @keyup.enter=\"showChanges = true\" \n          variant=\"outlined\" \n          rounded=\"lg\" \n          :color=\"accentColor2\" \n          elevation=\"0\"\n          size=\"lg\"\n          >\n          <v-tooltip location=\"bottom\" activator=\"parent\" :disabled=\"mobile\" text=\"What's new\"></v-tooltip>\n          <v-icon>mdi-creation</v-icon>\n        </v-btn>\n        <share-button\n            :source=\"currentUrl\"\n            buttonColor=\"black\"\n            :iconColor=\"accentColor2\"\n            elevation=\"0\"\n            size=\"small\"\n            rounded=\"1\"\n            :tooltip-disabled=\"mobile\"\n            @click=\"shareButtonClickedCount += 1\"\n            alert\n          />\n        <v-btn aria-role=\"menu\" aria-label=\"Show menu\" class=\"menu-button\" variant=\"outlined\" rounded=\"lg\" :color=\"accentColor2\" elevation=\"5\">\n          <v-icon size=\"x-large\">mdi-menu</v-icon>\n          <v-menu\n            activator=\"parent\"\n            >\n            <v-list>\n              <v-list-item \n                tabindex=\"0\"\n                aria-label=\"See recent changes\"\n                @click=\"showChanges = true\"\n                @keyup.enter=\"showChanges = true\"\n                >\n                What's New\n              </v-list-item>\n\n              <v-list-item \n                tabindex=\"0\" \n                aria-label=\"Show introduction\"\n                @click=\"() => {introSlide = 1; inIntro = true;}\"\n                @keyup.enter=\"() => {introSlide = 1; inIntro = true;}\"\n                >\n                  Introduction\n              </v-list-item>\n              \n              <v-list-item \n                tabindex=\"0\"\n                aria-label=\"Show user guide\"\n                @click=\"() => {introSlide = 4; inIntro = true;}\"\n                @keyup.enter=\"() => {introSlide = 4; inIntro = true;}\"\n                >\n                User Guide\n              </v-list-item>\n              \n              <v-list-item \n                tabindex=\"0\"\n                aria-label=\"Show dialog telling about the data\"\n                @click=\"showAboutData = true\"\n                @keyup.enter=\"showAboutData = true\"\n                >\n                About the Data\n              </v-list-item>\n              \n              <v-list-item \n                \n                aria-label=\"Leave Page to Educator Resources\"\n                >\n                <a style=\"font-weight: normal;\" tabindex=\"0\"  href=\"https://www.cosmicds.cfa.harvard.edu/resources/tempo\" target=\"_blank\" rel=\"noopener\">Educator Resources<v-icon>mdi-open-in-new</v-icon></a>\n              </v-list-item>\n              \n              <v-list-item \n                tabindex=\"0\" \n                aria-label=\"Show credits\"\n                @click=\"showCredits = true\"\n                @keyup.enter=\"showCredits = true\"\n                >\n                  Credits\n              </v-list-item>\n              \n            </v-list>\n          </v-menu>\n        </v-btn>\n      </div>\n    </div>\n    <div id=\"where\" class=\"big-label\">where</div>\n      <div id=\"map-container\">\n        <colorbar-horizontal\n          v-if=\"display.width.value <= 750\"\n          label=\"Amount of NO2\"\n          backgroundColor=\"transparent\"\n          :nsteps=\"255\"\n          :cmap=\"currentColormap\"\n          :cmapName=\"colorMap\"\n          :start-value=\"colorbarOptions[whichMolecule].stretch[0] / colorbarOptions[whichMolecule].cbarScale\"\n          :end-value=\"colorbarOptions[whichMolecule].stretch[1] / colorbarOptions[whichMolecule].cbarScale\"\n          :extend=\"true\"\n        >\n        <template v-slot:label>\n              <div v-if=\"Math.log10(colorbarOptions[whichMolecule].cbarScale) !== 0\" style=\"text-align: center;\">Amount of <span v-html=\"colorbarOptions[whichMolecule].label\"></span><span class=\"unit-label\">(10<sup>{{ Math.log10(colorbarOptions[whichMolecule].cbarScale)}}</sup> mol/cm<sup>2</sup>)</span></div>\n              <div v-else style=\"text-align: center;\">Amount of <span v-html=\"colorbarOptions[whichMolecule].label\"></span><span class=\"unit-label\"> molecules/cm<sup>2</sup></span></div>\n        </template>\n        </colorbar-horizontal>\n        <v-card id=\"map-contents\" style=\"width:100%; height: 100%;\">\n          <v-toolbar\n            density=\"compact\"\n            color=\"var(--info-background)\"\n          >\n            <v-toolbar-title :text=\"`TEMPO Data Viewer: ${mapTitle}`\"></v-toolbar-title>\n            <v-spacer></v-spacer>\n            <!-- swtichf ro preview points -->\n             <v-switch\n              v-if=\"regions.length > 0\"\n              v-model=\"showSamplingPreviewMarkers\"\n              :label=\"showSamplingPreviewMarkers ? 'Showing Sample Points' : 'Hiding Sample Points'\"\n              :disabled=\"regions.length === 0\"\n              @keyup.enter=\"showSamplingPreviewMarkers = !showSamplingPreviewMarkers\"\n              inset\n              hide-details\n              class=\"me-3\"\n              :style=\"{'--v-theme-on-surface': 'var(--accent-color)'}\"\n              />\n            <v-tooltip :text=\"rectangleSelectionActive ? 'Cancel selection' : 'Select a region'\">\n              <template #activator=\"{ props }\">\n                <v-btn\n                  v-bind=\"props\"\n                  icon=\"mdi-select\"\n                  :color=\"rectangleSelectionActive ? 'info' : 'default'\"\n                  :variant=\"rectangleSelectionActive ? 'tonal' : 'text'\"\n                  :disabled=\"pointSelectionActive\"\n                  @click=\"activateRectangleSelectionMode\"\n                ></v-btn>\n              </template>\n            </v-tooltip>\n            <v-tooltip :text=\"pointSelectionActive ? 'Cancel selection' : 'Select a point'\">\n              <template #activator=\"{ props }\">\n                <v-btn\n                  v-bind=\"props\"\n                  icon=\"mdi-plus\"\n                  :color=\"pointSelectionActive ? 'info' : 'default'\"\n                  :variant=\"pointSelectionActive ? 'tonal' : 'text'\"\n                  :disabled=\"rectangleSelectionActive\"\n                  @click=\"activatePointSelectionMode\"\n                ></v-btn>\n              </template>\n            </v-tooltip>\n          </v-toolbar>\n          <div id=\"map\">\n            <v-overlay\n              :modelValue=\"loadingEsriTimeSteps\"\n              style=\"z-index: 1000;\"\n              class=\"align-center justify-center\"\n              contained\n              opacity=\".8\"\n              >\n              <div id=\"loading-circle-progress-container\" class=\"d-flex flex-column align-center justify-center ga-2\">\n                <label class=\"text-white\" for=\"loading-circle-progress\">Fetching time steps from NASA Earthdata GIS service...</label>\n                <v-progress-circular\n                  id=\"loading-circle-progress\"\n                  style=\"z-index: 1000;\"\n                  :size=\"100\"\n                  :width=\"15\"\n                  :indeterminate=\"loadingEsriTimeSteps\"\n                  color=\"#092088\"\n                >\n                \n              </v-progress-circular>\n              </div>\n            </v-overlay>\n          </div>\n\n          <div v-if=\"showFieldOfRegard\" id=\"map-legend\"><hr class=\"line-legend\">TEMPO Field of Regard</div>\n          <!-- show hide cloud data, disable if none is available -->\n\n          <v-menu\n            id=\"map-controls\"\n            v-model=\"showControls\"\n            :close-on-content-click=\"false\"\n          >\n            <template v-slot:activator=\"{ props }\">\n              <div id=\"map-show-hide-controls\">\n                <v-btn\n                  v-bind=\"props\"\n                  class=\"mx-2 mt-5\"\n                  elevation=\"2\"\n                  color=\"white\"\n                  icon\n                  style=\"outline: 2px solid #b6b6b6;\"\n                  rounded=\"0\"\n                  size=\"x-small\"\n                >\n                  <template v-slot:default>\n                    <v-icon\n                      color=\"black\"\n                      size=\"x-large\"\n                    >mdi-tune-variant</v-icon>\n                  </template>\n                </v-btn>\n              </div>\n            </template>\n            <v-card class=\"controls-card\">\n              <font-awesome-icon\n                style=\"position:absolute;right:16px;cursor:pointer\"\n                icon=\"square-xmark\"\n                size=\"xl\"\n                @click=\"showControls = false\"\n                @keyup.enter=\"showControls = false\"\n                :color=\"accentColor2\"\n                tabindex=\"0\"\n              ></font-awesome-icon>\n              <div\n                id=\"opacity-slider-container\"\n                class=\"mt-5\"\n              >\n                <div id=\"opacity-slider-label\">TEMPO data opacity</div>\n                <v-slider\n                    v-model=\"opacity\"\n                    :min=\"0\"\n                    :max=\"1\"\n                    color=\"#c10124\"\n                    density=\"compact\"\n                    hide-details\n                    class=\"mb-4\"\n                    @end=\"onOpacitySliderEnd\"\n                  >\n                </v-slider>\n              </div>\n              <div\n                class=\"d-flex flex-row align-center justify-space-between\"\n              >\n                <v-checkbox\n                  v-model=\"showRoads\"\n                  @keyup.enter=\"showRoads = !showRoads\"\n                  label=\"Show Roads\"\n                  color=\"#c10124\"\n                  hide-details\n                />\n              </div>\n              <div\n                class=\"d-flex flex-row align-center justify-space-between\"\n              >\n                <v-checkbox\n                  v-model=\"showFieldOfRegard\"\n                  @keyup.enter=\"showFieldOfRegard = !showFieldOfRegard\"\n                  label=\"TEMPO Field of Regard\"\n                  color=\"#c10124\"\n                  hide-details\n                />\n                <info-button>\n                  <p>\n                    The TEMPO satellite observes the atmosphere over North America, from the Atlantic Ocean to the Pacific Coast, and from roughly Mexico City to central Canada. \n                  </p>\n                  <p>\n                    The TEMPO Field of Regard (in <span class=\"text-red\">red</span>, currently <em>{{ showFieldOfRegard ? 'visible' : \"hidden\" }}</em>)\n                    is the area over which the satellite takes measurements. \n                  </p>\n                  </info-button>\n                </div>\n            </v-card>\n          </v-menu>\n          <div id=\"location-and-sharing\">\n          <location-search\n            v-model=\"searchOpen\"\n            small\n            stay-open\n            buttonSize=\"xl\"\n            persist-selected\n            :search-provider=\"geocodingInfoForSearchLimited\"\n            @set-location=\"setLocationFromSearch\"\n            @error=\"(error: string) => searchErrorMessage = error\"\n          ></location-search>\n        </div>\n        \n        \n        \n        </v-card>\n        <colorbar \n          v-if=\"display.width.value > 750\"\n          label=\"Amount of NO2\"\n          backgroundColor=\"transparent\"\n          :nsteps=\"255\"\n          :cmap=\"currentColormap\"\n          :cmapName=\"colorMap\"\n          :start-value=\"colorbarOptions[whichMolecule].stretch[0] / colorbarOptions[whichMolecule].cbarScale\"\n          :end-value=\"colorbarOptions[whichMolecule].stretch[1] / colorbarOptions[whichMolecule].cbarScale\"\n          :extend=\"true\"\n        >\n          <template v-slot:label>\n              <div v-if=\"Math.log10(colorbarOptions[whichMolecule].cbarScale) !== 0\" style=\"text-align: center;\">Amount of <span v-html=\"colorbarOptions[whichMolecule].label\"></span><span class=\"unit-label\">(10<sup>{{ Math.log10(colorbarOptions[whichMolecule].cbarScale)}}</sup> mol/cm<sup>2</sup>)</span></div>\n              <div v-else style=\"text-align: center;\">Amount of <span v-html=\"colorbarOptions[whichMolecule].label\"></span><span class=\"unit-label\"> (molecules/cm<sup>2</sup>)</span></div>\n          </template>\n        </colorbar>\n        \n\n      </div>\n        <div id=\"when\" class=\"big-label\">when</div>\n        <div id=\"slider-row\">\n          <v-slider\n            class=\"time-slider\"\n            v-model=\"timeIndex\"\n            :min=\"minIndex\"\n            :max=\"maxIndex\"\n            :step=\"1\"\n            color=\"#068ede95\"\n            thumb-label=\"always\"\n            :track-size=\"10\"\n            show-ticks=\"always\"\n            hide-details\n            @end=\"onTimeSliderEnd\"\n          >\n            <template v-slot:thumb-label>\n              <div class=\"thumb-label\">\n                {{ thumbLabel }}\n              </div>\n            </template>\n          </v-slider>\n          <icon-button\n            id=\"play-pause\"\n            :fa-icon=\"playing ? 'pause' : 'play'\"\n            fa-size=\"sm\"\n            @activate=\"playing = !playing\"\n          ></icon-button>\n        </div>\n\n        <div id=\"side-panel\">\n          <div id=\"map-view\">\n            <h2>Map View</h2>\n            <div class=\"mt-2\">\n              <h3>Select a Date</h3>\n              <div class=\"d-flex flex-row align-center\">\n                <v-radio-group v-model=\"radio\">\n                  <date-picker\n                    ref=\"calendar\"\n                    :model-value=\"singleDateSelected\"\n                    @internal-model-change=\"(value: Date) => {\n                      if (value != null && value.getTime() != singleDateSelected.getTime()) {\n                        radio = null;\n                        singleDateSelected = value;\n                        calendar?.closeMenu();\n                      }\n                    }\"\n                    :allowed-dates=\"uniqueDays\"\n                    :clearable=\"false\"\n                    :enable-time-picker=\"false\"\n                    :multi-dates=\"false\"\n                    :transitions=\"false\"\n                    :format=\"(date: Date | null) => date?.toDateString()\"\n                    :preview-format=\"(date: Date | null) => date?.toDateString()\"\n                    no-today\n                    dark\n                    :year-range=\"[uniqueDays[0]?.getFullYear(), uniqueDays[uniqueDays.length - 1]?.getFullYear()]\"\n                  >\n                    <template #action-buttons>\n                      <button\n                        class=\"dp__action_button dp__action-latest\"\n                        @click=\"() => singleDateSelected = uniqueDays[uniqueDays.length - 1]\"\n                        @keyup.enter=\"() => singleDateSelected = uniqueDays[uniqueDays.length - 1]\"\n                        :disabled=\"singleDateSelected === uniqueDays[uniqueDays.length - 1]\"\n                        elevation=\"0\"\n                        size=\"sm\"\n                      >\n                        Latest\n                    </button>\n                    </template>\n                    <!-- <template #action-extra=\"{ selectCurrentDate }\">\n                    \n                    </template> -->\n                  </date-picker>\n                  <!-- time chips to select time specifically for esri times -->\n                  <time-chips\n                    v-if=\"whichMolecule.toLowerCase().includes('month')\"\n                    :timestamps=\"esriTimesteps.slice(minIndex, maxIndex + 1)\"\n                    @select=\"handleEsriTimeSelected($event.value, $event.index)\"\n                    :selected-index=\"timeIndex - minIndex\"\n                    :use-utc=\"whichMolecule.toLowerCase().includes('month')\"\n                    :date-only=\"whichMolecule.toLowerCase().includes('month')\"\n                    :hour-only=\"!whichMolecule.toLowerCase().includes('month')\"\n                  />\n                </v-radio-group>\n              </div>        \n              <!-- add buttons to increment and decrement the singledateselected -->\n              <div class=\"d-flex flex-row align-center my-2\">\n                <v-tooltip :disabled=\"touchscreen\" text=\"Previous Date\">\n                  <template v-slot:activator=\"{ props }\">\n                    <v-btn\n                      v-bind=\"props\"\n                      class=\"rounded-icon-wrapper\"\n                      @click=\"moveBackwardOneDay\"\n                      @keyup.enter=\"moveBackwardOneDay\"\n                      :disabled=\"singleDateSelected === uniqueDays[0]\"\n                      color=\"#009ade\"\n                      variant=\"outlined\"\n                      elevation=\"0\"\n                      size=\"md\"\n                    >\n                      <v-icon>mdi-chevron-double-left</v-icon>\n                    </v-btn>\n                  </template>\n                </v-tooltip>\n                <v-spacer></v-spacer>\n                <v-tooltip :disabled=\"touchscreen\" text=\"Get Data for latest available day\">\n                  <template v-slot:activator=\"{ props }\">\n                    <v-btn\n                      v-bind=\"props\"\n                      style=\"padding-inline: 4px;\"\n                      @click=\"() => singleDateSelected = uniqueDays[uniqueDays.length - 1]\"\n                      @keyup.enter=\"() => singleDateSelected = uniqueDays[uniqueDays.length - 1]\"\n                      :disabled=\"singleDateSelected === uniqueDays[uniqueDays.length - 1]\"\n                      color=\"#009ade\"\n                      variant=\"outlined\"\n                      elevation=\"0\"\n                      size=\"md\"\n                    >\n                      Latest Data\n                    </v-btn>\n                  </template>\n                </v-tooltip>\n                <v-spacer></v-spacer>\n                <v-tooltip :disabled=\"touchscreen\" text=\"Next Date\">\n                  <template v-slot:activator=\"{ props }\">\n                    <v-btn\n                      v-bind=\"props\"\n                      class=\"rounded-icon-wrapper\"\n                      @click=\"moveForwardOneDay\"\n                      @keyup.enter=\"moveForwardOneDay\"\n                      :disabled=\"singleDateSelected === uniqueDays[uniqueDays.length - 1]\"\n                      color=\"#009ade\"\n                      variant=\"outlined\"\n                      elevation=\"0\"\n                      size=\"md\"\n                    >\n                      <v-icon>mdi-chevron-double-right</v-icon>\n                    </v-btn>\n                  </template>\n                </v-tooltip>\n              </div>\n\n            </div>\n            <v-select\n              v-model=\"selectedTimezone\"\n              label=\"Timezone\"\n              :items=\"timezoneOptions\"\n              item-title=\"name\"\n              item-value=\"tz\"\n              hide-details\n              dense\n              class=\"mt-3 pl-3\"\n            ></v-select>\n            <v-select\n              v-model=\"whichMolecule\"\n              :items=\"MOLECULE_OPTIONS\"\n              item-title=\"title\"\n              item-value=\"value\"\n              label=\"Molecule / Quantity\"\n              hide-details\n              dense\n              class=\"mt-3 pl-3\"\n            ></v-select>\n          </div>\n\n          <div id=\"dataset-sections\">\n            <h2>Time-Series Graphs</h2>\n            <div id=\"add-region-time\">\n              <v-expansion-panels\n                v-model=\"openPanels\"\n                variant=\"accordion\"\n                id=\"user-options-panels\"\n                multiple\n                class=\"pl-3\"\n              >\n                <v-expansion-panel\n                  title=\"Time Ranges\"\n                  class=\"mt-3\"\n                >\n                  <template #text>\n                    <v-btn\n                      size=\"small\"\n                      :active=\"createTimeRangeActive\"\n                      @click=\"createTimeRangeActive = !createTimeRangeActive\"\n                    >\n                      <template #prepend>\n                        <v-icon v-if=\"!createTimeRangeActive\" icon=\"mdi-plus\"></v-icon>\n                      </template>\n                      {{ createTimeRangeActive ? \"Cancel\" : \"New Time Range\" }}\n                    </v-btn>\n                    <date-time-range-selection\n                      v-if=\"createTimeRangeActive\"\n                      :current-date=\"singleDateSelected\"\n                      :selected-timezone=\"selectedTimezone\"\n                      :allowed-dates=\"uniqueDays\"\n                      @ranges-change=\"handleDateTimeRangeSelectionChange\"\n                    />\n                    <v-list>\n                      <v-list-item\n                        v-for=\"(timeRange, index) in availableTimeRanges\"\n                        :key=\"index\"\n                        :title=\"timeRange.name === 'Displayed Day' ? timeRange.name : formatTimeRange(timeRange.range)\"\n                      >\n                        <template #append>\n                          <v-btn\n                            v-if=\"timeRange.id !== 'displayed-day' && !selections.some(s => areEquivalentTimeRanges(s.timeRange, timeRange))\"\n                            variant=\"plain\"\n                            v-tooltip=\"'Delete'\"\n                            icon=\"mdi-delete\"\n                            color=\"white\"\n                            @click=\"() => deleteTimeRange(timeRange)\"\n                          >\n                          </v-btn>\n                        </template>\n                      </v-list-item>\n                    </v-list>\n                  </template>\n                </v-expansion-panel>\n                <v-expansion-panel\n                  title=\"Regions\"\n                  class=\"mt-3\"\n                >\n                  <template #text>\n                    <div id=\"add-region-buttons\">\n                      <v-btn\n                        size=\"small\"\n                        :active=\"rectangleSelectionActive\"\n                        :disabled=\"pointSelectionActive\"\n                        @click=\"() => {\n                          if (rectangleSelectionActive) {\n                            rectangleSelectionActive = false;\n                          } else {\n                            createNewSelection('rectangle');\n                          }\n                        }\"\n                      >\n                        <template #prepend>\n                          <v-icon v-if=\"!rectangleSelectionActive\" icon=\"mdi-plus\"></v-icon>\n                        </template>\n                        {{ rectangleSelectionActive ? \"Cancel\" : \"New Region\" }}\n                      </v-btn>\n                    </div>\n                    <v-list>\n                      <v-list-item\n                        v-for=\"(region, index) in availableRegions\"\n                        :key=\"index\"\n                        :title=\"region.name\"\n                        :style=\"{ 'background-color': region.color }\"\n                        @click=\"() => moveMapToRegion(region as UnifiedRegionType)\"\n                      >\n                        <template #append>\n                          <!-- New: Edit Geometry button (disabled if any selection using region has samples) -->\n                          <!-- <v-btn\n                            variant=\"plain\"\n                            :icon=\"region.geometryType === 'rectangle' ? 'mdi-select' : 'mdi-plus'\"\n                            color=\"white\"\n                            :disabled=\"regionHasSamples(region as UnifiedRegionType)\"\n                            v-tooltip=\"regionHasSamples(region as UnifiedRegionType) ? 'Cannot edit geometry after samples are fetched for a selection using this region' : 'Edit Geometry'\"\n                            @click=\"() => editRegionGeometry(region as UnifiedRegionType)\"\n                          ></v-btn> -->\n                          <v-btn\n                            variant=\"plain\"\n                            v-tooltip=\"'Edit Name'\"\n                            icon=\"mdi-pencil\"\n                            color=\"white\"\n                            @click=\"() => editRegionName(region as UnifiedRegionType)\"\n                          ></v-btn>\n                          <v-btn\n                            v-if=\"!regionHasDatasets(region as UnifiedRegionType)\"\n                            variant=\"plain\"\n                            v-tooltip=\"'Delete'\"\n                            icon=\"mdi-delete\"\n                            color=\"white\"\n                            @click=\"() => deleteRegion(region as UnifiedRegionType)\"\n                          ></v-btn>\n                        </template>\n                      </v-list-item>\n                    </v-list>\n                  </template>\n                </v-expansion-panel>\n\n                <v-divider\n                  class=\"mt-3\"\n                  opacity=\"1\"\n                >\n                </v-divider>\n\n                <v-expansion-panel\n                  title=\"Datasets\"\n                  class=\"mt-3\"\n                >\n                <template #text>\n                  <v-btn\n                    size=\"small\"\n                    :active=\"createSelectionActive\"\n                    @click=\"createSelectionActive = !createSelectionActive\"\n                    class=\"mt-3 ml-3\"\n                  >\n                    <template #prepend>\n                      <v-icon v-if=\"!createSelectionActive\" icon=\"mdi-plus\"></v-icon>\n                    </template>\n                    {{ createSelectionActive ? \"Cancel\" : \"New Dataset\" }}\n                  </v-btn>\n                  <selection-composer\n                    v-show=\"createSelectionActive\"\n                    :backend=\"BACKEND\"\n                    :time-ranges=\"availableTimeRanges\"\n                    :regions=\"availableRegions\"\n                    :disabled=\"{ region: rectangleSelectionActive, point: pointSelectionActive, timeRange: createTimeRangeActive }\"\n                    @create=\"handleSelectionCreated\"\n                    :tempo-data-service=\"tempoDataService\"\n                  >\n                  </selection-composer>\n                  <div id=\"sample-info\" v-if=\"selections.length>0\" style=\"margin-top: 1em;\" class=\"pl-3\">\n\n                    <h3>My Datasets</h3>\n                    <v-list>\n                      <v-hover\n                        v-slot=\"{ isHovering, props }\"\n                        v-for=\"sel in selections\"\n                        :key=\"sel.id\"\n                      >\n                        <v-list-item\n                          v-bind=\"props\"\n                          :ref=\"(el) => datasetRowRefs[sel.id] = el\"\n                          class=\"selection-item\"\n                          :style=\"{ 'background-color': sel.region.color }\"\n                          :ripple=\"touchscreen\"\n                          @click=\"() => {\n                            if (touchscreen) {\n                              openSelection = (openSelection == sel.id) ? null : sel.id;\n                            }\n                          }\"\n                          lines=\"two\"\n                        >\n                          <template #default>\n                            <div>\n                              <v-chip size=\"small\">{{ sel.region.name }}</v-chip>\n                              <v-chip size=\"small\">{{ moleculeName(sel.molecule) }}</v-chip>\n                              <v-chip v-if=\"sel.timeRange\" size=\"small\" class=\"text-caption\">\n                                {{ sel.timeRange.description }}\n                              </v-chip>\n                            </div>\n                            <div\n                              v-if=\"sel.loading || !sel.samples\"\n                              class=\"dataset-loading\"\n                            >\n                              <v-progress-linear\n                                :class=\"['dataset-loading-progress', !(sel.loading && sel.samples) ? 'dataset-loading-failed' : '']\"\n                                :active=\"sel.loading || !sel.samples\"\n                                :color=\"sel.loading ? 'primary' : 'red'\"\n                                :indeterminate=\"sel.loading\"\n                                :value=\"!sel.loading ? 100 : 0\"\n                                :striped=\"!sel.loading\"\n                                bottom\n                                rounded\n                                height=\"20\"\n                              >\n                                <template #default>\n                                  <span class=\"text-subtitle-2\">\n                                    {{ sel.loading ? 'Data Loading' : (!sel.samples ? 'Error Loading Data' : '') }}\n                                  </span>\n                                </template>\n                              </v-progress-linear>\n                              <div v-if=\"!(sel.loading || sel.samples)\">\n                                <v-tooltip\n                                  text=\"Failure info\"\n                                  location=\"top\"\n                                >\n                                  <template #activator=\"{ props }\">\n                                    <v-btn\n                                      v-bind=\"props\"\n                                      size=\"x-small\"\n                                      icon=\"mdi-help-circle\"\n                                      variant=\"plain\"\n                                      @click=\"() => sampleErrorID = sel.id\"\n                                    ></v-btn>\n                                  </template>\n                                </v-tooltip>\n                                <v-tooltip\n                                  text=\"Remove selection\"\n                                  location=\"top\"\n                                >\n                                  <template #activator=\"{ props }\">\n                                    <v-btn\n                                      v-bind=\"props\"\n                                      size=\"x-small\"\n                                      icon=\"mdi-trash-can\"\n                                      variant=\"plain\"\n                                      @click=\"() => deleteSelection(sel)\"\n                                    ></v-btn>\n                                  </template>\n                                </v-tooltip>\n                              </div>\n                            </div>\n\n                            <v-expand-transition>\n                              <div\n                                class=\"selection-icons\"\n                                v-show=\"sel.samples && (touchscreen ? openSelection == sel.id : isHovering)\"\n                              >\n                                <v-tooltip\n                                  text=\"Change Selection Name\"\n                                  location=\"top\"\n                                >\n                                  <template #activator=\"{ props }\">\n                                    <v-btn\n                                      v-bind=\"props\"\n                                      size=\"x-small\"\n                                      icon=\"mdi-pencil\"\n                                      @click=\"() => editSelectionName(sel)\"\n                                      variant=\"plain\"\n                                    ></v-btn>\n                                  </template>\n                                </v-tooltip>\n                                <v-tooltip\n                                  text=\"Get Center Point Sample\"\n                                  location=\"top\"\n                                >\n                                  <template #activator=\"{ props }\">\n                                    <v-btn\n                                      v-bind=\"props\"\n                                      size=\"x-small\"\n                                      :loading=\"loadingPointSample === sel.id\"\n                                      icon=\"mdi-image-filter-center-focus\"\n                                      variant=\"plain\"\n                                      @click=\"() => fetchCenterPointDataForSelection(sel)\"\n                                    ></v-btn>\n                                  </template>\n                                </v-tooltip> \n                                <v-tooltip\n                                  text=\"Show table\"\n                                  location=\"top\"\n                                >\n                                  <template #activator=\"{ props }\">\n                                    <v-btn\n                                      v-bind=\"props\"\n                                      size=\"x-small\"\n                                      icon=\"mdi-table\"\n                                      :disabled=\"!sel.samples\"\n                                      variant=\"plain\"\n                                      @click=\"() => tableSelection = sel\"\n                                    ></v-btn>\n                                  </template>\n                                </v-tooltip>\n                                <v-tooltip\n                                  text=\"Show graph\"\n                                  location=\"top\"\n                                >\n                                  <template #activator=\"{ props }\">\n                                    <v-btn\n                                      v-bind=\"props\"\n                                      size=\"x-small\"\n                                      icon=\"mdi-chart-line\"\n                                      :disabled=\"!sel.samples\"\n                                      variant=\"plain\"\n                                      @click=\"() => openGraphs[sel.id] = true\"\n                                    ></v-btn>\n                                  </template>\n                                </v-tooltip>\n                                <v-tooltip\n                                  text=\"Remove selection\"\n                                  location=\"top\"\n                                >\n                                  <template #activator=\"{ props }\">\n                                    <v-btn\n                                      v-bind=\"props\"\n                                      size=\"x-small\"\n                                      icon=\"mdi-trash-can\"\n                                      variant=\"plain\"\n                                      @click=\"() => deleteSelection(sel)\"\n                                    ></v-btn>\n                                  </template>\n                                </v-tooltip>\n                              </div>\n                            </v-expand-transition>\n                            <cds-dialog\n                              :title=\"graphTitle(sel)\"\n                              v-model=\"openGraphs[sel.id]\"\n                              title-color=\"#F44336\"\n                              draggable\n                              persistent\n                              :scrim=\"false\"\n                              :modal=\"false\"\n                            >\n                              <v-checkbox\n                                v-model=\"showErrorBands\"\n                                label=\"Show Errors\"\n                                density=\"compact\"\n                                hide-details\n                              >\n                              </v-checkbox>\n                              <timeseries-graph\n                                :data=\"sel ? [sel] : []\"\n                                :show-errors=\"showErrorBands\"\n                              />\n                            </cds-dialog>\n                            <v-dialog\n                              :model-value=\"sampleErrorID !== null\"\n                              max-width=\"50%\"\n                            >\n                              <v-card>\n                                <v-toolbar\n                                  density=\"compact\"\n                                >\n                                  <v-toolbar-title text=\"Error Loading Data\"></v-toolbar-title>\n                                  <v-spacer></v-spacer>\n                                  <v-btn\n                                    icon=\"mdi-close\"\n                                    @click=\"sampleErrorID = null\"\n                                  >\n                                  </v-btn>\n                                </v-toolbar>\n                                <v-card-text>\n                                  There was an error loading data for this selection. Either there is no data for the\n                                  region/time range/molecule combination that you selected, or there was an error loading\n                                  data from the server. You can delete this selection and try making a new one.\n                                </v-card-text>\n                              </v-card>\n                            </v-dialog>\n                          </template>\n                        </v-list-item>\n                      </v-hover>\n                    </v-list>\n                  </div>\n                </template>\n              </v-expansion-panel>\n            </v-expansion-panels>\n            </div>\n          \n            <v-btn v-if=\"no2GraphData.length > 0\" @click=\"showNO2Graph = true\">\n              Show NO₂ Graph\n            </v-btn>\n            <cds-dialog\n              title=\"Nitrogen Dioxide Data\"\n              v-model=\"showNO2Graph\"\n              draggable\n              persistent\n              :modal=\"false\"\n              :scrim=\"false\"\n            >\n              <v-checkbox\n                v-model=\"showErrorBands\"\n                label=\"Show Errors\"\n                density=\"compact\"\n                hide-details\n              >\n              </v-checkbox>\n              <timeseries-graph\n                :data=\"no2GraphData.length > 0 ? no2GraphData : []\"\n                :show-errors=\"showErrorBands\"\n              />\n            </cds-dialog>\n\n            <v-btn v-if=\"o3GraphData.length > 0\" @click=\"showO3Graph = true\">\n              Show Ozone Graph\n            </v-btn>\n            <cds-dialog\n              title=\"Ozone Data\"\n              v-model=\"showO3Graph\"\n              draggable\n              persistent\n              :modal=\"false\"\n              :scrim=\"false\"\n            >\n              <v-checkbox\n                v-model=\"showErrorBands\"\n                label=\"Show Errors\"\n                density=\"compact\"\n                hide-details\n              >\n              </v-checkbox>\n              <timeseries-graph\n                :data=\"o3GraphData.length > 0 ? o3GraphData : []\"\n                :show-errors=\"showErrorBands\"\n              />\n            </cds-dialog>\n            \n            <v-btn v-if=\"hchoGraphData.length > 0\" @click=\"showHCHOGraph = true\">\n              Show Formaldehyde Graph\n            </v-btn>\n            <cds-dialog\n              title=\"Formaldehyde Data\"\n              v-model=\"showHCHOGraph\"\n              draggable\n              persistent\n              :modal=\"false\"\n              :scrim=\"false\"\n            >\n              <v-checkbox\n                v-model=\"showErrorBands\"\n                label=\"Show Errors\"\n                density=\"compact\"\n                hide-details\n              >\n              </v-checkbox>\n              <timeseries-graph\n                :data=\"hchoGraphData.length > 0 ? hchoGraphData : []\"\n                :show-errors=\"showErrorBands\"\n              />\n            </cds-dialog>\n        </div>\n        \n        <v-dialog\n          v-model=\"showEditRegionNameDialog\"\n          >\n          <!-- text field that requires a confirmation -->\n            <c-text-field\n              label=\"Region Name\"\n              title=\"Enter a new name for this region\"\n              hide-details\n              dense\n              :button-color=\"accentColor\"\n              @confirm=\"(value) => {\n                if (regionBeingEdited) {\n                  setRegionName(regionBeingEdited as UnifiedRegionType, value);\n                  showEditRegionNameDialog = false;\n                }\n              }\"\n              @cancel=\"() => {\n                showEditRegionNameDialog = false;\n                regionBeingEdited = null;\n              }\"\n            ></c-text-field>\n\n            </v-dialog>\n\n          <div id=\"bottom-options\">\n            <br>\n              <cds-dialog\n                v-model=\"showUserGuide\"\n                title=\"User Guide\"\n                color=\"var(--tempo-red)\"\n                button\n                >\n                <UserGuide/>\n              </cds-dialog>\n          </div>\n        \n        </div>\n      \n\n        <cds-dialog \n          title=\"NO₂ Samples\" \n          v-model=\"showTable\"\n          draggable\n          persistent\n          :modal=\"false\"\n          :scrim=\"false\"\n          >\n          <div \n            v-if=\"loadingSamples === 'loading'\" \n            >Loading rectangle samples...\n            <v-progress-linear\n              indeterminate\n              height=\"20\"\n            >\n            </v-progress-linear>\n          </div>\n\n          <div v-if=\"tableSelection\">\n            <div v-if=\"sampleErrors[tableSelection.id]\" class=\"text-red\">Error: {{ sampleErrors[tableSelection.id] }}</div>\n            <SampleTable :samples=\"tableSelection.samples ?? null\" :error=\"sampleErrors[tableSelection.id]\" />\n            <div v-if=\"loadingPointSample === 'loading'\" class=\"mt-2\">Loading center point sample...</div>\n            <div v-if=\"pointSampleErrors[tableSelection.id]\" class=\"mt-2 text-red\">Error: {{ pointSampleErrors[tableSelection.id] }}</div>\n            <SampleTable :samples=\"pointSampleResults[tableSelection.id]\" :error=\"pointSampleErrors[tableSelection.id]\" />\n            <div v-if=\"pointSampleResults[tableSelection.id] && Object.keys(pointSampleResults[tableSelection.id] ?? {}).length === 0\" class=\"mt-2\">No data for this point/time.</div>\n          </div>\n        </cds-dialog>\n        \n        \n\n      <div id=\"information\">\n        <div id=\"body-logos\">\n          <a href=\"https://www.si.edu/\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"mr-1\" \n          ><img alt=\"Smithsonian Logo\" src=\"./assets/smithsonian.png\"\n            /></a>\n          <credit-logos/>\n        </div>\n      </div>\n      \n    </div>\n  </div>\n\n  <!-- Data collection opt-out dialog -->\n    <v-dialog\n      scrim=\"false\"\n      v-model=\"showPrivacyDialog\"\n      max-width=\"400px\"\n      id=\"privacy-popup-dialog\"\n    >\n      <v-card>\n        <v-card-text>\n          To evaluate usage of this app, <strong>anonymized</strong> data may be collected, including locations viewed and map quiz responses. \"My Location\" data is NEVER collected.\n        </v-card-text>\n        <v-card-actions class=\"pt-3\">\n          <v-spacer></v-spacer>\n          <v-btn\n            color=\"#BDBDBD\"\n            href=\"https://www.cfa.harvard.edu/privacy-statement\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n          Privacy Policy\n          </v-btn>\n          <v-btn\n            color=\"#ff6666\"\n            @click=\"() => {\n              responseOptOut = true;\n              showPrivacyDialog = false;\n            }\"\n          >\n          Opt out\n          </v-btn>\n          <v-btn \n            color=\"green\"\n            @click=\"() => {\n              responseOptOut = false;\n              showPrivacyDialog = false;\n            }\"\n          >\n            Allow\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n\n</v-app>\n</template>\n  \n<script setup lang=\"ts\">\nimport { ref, computed, watch, onMounted, nextTick } from \"vue\";\nimport { API_BASE_URL, blurActiveElement } from \"@cosmicds/vue-toolkit\";\nimport { useDisplay } from 'vuetify';\nimport { DatePickerInstance } from \"@vuepic/vue-datepicker\";\nimport { v4 } from \"uuid\";\nimport { getTimezoneOffset } from \"date-fns-tz\";\n// import { cbarNO2 } from \"./revised_cmap\";\nimport { colormap } from \"./colormaps/utils\";\nimport { MapBoxFeature, MapBoxFeatureCollection, geocodingInfoForSearch } from \"./mapbox\";\nimport changes from \"./changes\";\nimport { useBounds } from './composables/useBounds';\nimport { interestingEvents } from \"./interestingEvents\";\nimport { LatLngPair, InitMapOptions, RectangleSelectionInfo, PointSelectionInfo, PointSelection, RectangleSelection, UnifiedRegion, MappingBackends, TimeRange, UserSelection } from \"./types\";\nimport type { MillisecondRange } from \"./types/datetime\";\nimport UserGuide from \"./components/UserGuide.vue\";\nimport SampleTable from \"./components/SampleTable.vue\";\nimport { atleast1d } from \"./utils/atleast1d\";\nimport { areEquivalentTimeRanges, formatSingleRange, formatTimeRange, rangeForSingleDay } from \"./utils/timeRange\";\n\nimport { useUniqueTimeSelection } from \"./composables/useUniqueTimeSelection\";\n\nimport DateTimeRangeSelection from \"./date_time_range_selection/DateTimeRangeSelection.vue\";\nimport TimeChips from \"./components/TimeChips.vue\";\nimport CTextField from \"./components/CTextField.vue\";\n// Import Leaflet Composables\n// import { useMap } from \"./composables/leaflet/useMap\";\n// import { usezoomhome } from './composables/leaflet/useZoomHome';\n// import { useImageOverlay } from \"./composables/leaflet/useImageOverlay\";\n// import { useFieldOfRegard} from \"./composables/leaflet/useFieldOfRegard\";\n// import { useLocationMarker } from \"./composables/leaflet/useMarker\";\n// import { useRectangleSelection } from \"./composables/leaflet/useRectangleSelection\";\n// import { addRectangleLayer, updateRectangleBounds, removeRectangleLayer, regionBounds, fitBounds } from \"./composables/leaflet/utils\";\n// import { useMultiMarker } from './composables/leaflet/useMultiMarker';\n// import { useEsriLayer } from \"./esri/leaflet/useEsriImageLayer\";\n// const zoomScale = 1; \n\n// Import Maplibre Composables\nimport { useMap } from \"./composables/maplibre/useMap\";\nimport { usezoomhome } from './composables/maplibre/useZoomHome';\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { useImageOverlay } from \"./composables/maplibre/useImageOverlay\";\nimport { useFieldOfRegard} from \"./composables/maplibre/useFieldOfRegard\";\nimport { useLocationMarker } from \"./composables/maplibre/useMarker\";\nimport { useRectangleSelection } from \"./composables/maplibre/useRectangleSelection\";\nimport { addRectangleLayer, updateRectangleBounds, removeRectangleLayer } from \"./composables/maplibre/utils\";\nimport { usePointSelection } from \"./composables/maplibre/usePointSelection\";\nimport { addPointLayer, updatePointLocation, removePointLayer, regionBounds, fitBounds } from \"./composables/maplibre/utils\";\nimport { useMultiMarker } from './composables/maplibre/useMultiMarker';\nimport { useEsriLayer } from \"./esri/maplibre/useEsriImageLayer\";\nconst zoomScale = 0.5; // for matplibre-gl\n// import { useEsriLayer } from \"./esri/maplibre/useEsriImageLayerPlain\"; // do not use\n\n\nconst BACKEND: MappingBackends = \"maplibre\" as const;\ntype BackendT = typeof BACKEND;\n\ntype RectangleSelectionType = RectangleSelection<BackendT>;\ntype PointSelectionType = PointSelection<BackendT>;\ntype UnifiedRegionType = UnifiedRegion<BackendT>;\n\n\nimport { TempoDataService } from \"./esri/services/TempoDataService\";\n\n\n\n// const zoomScale = 0.5; // for maplibre-gl\n\n\nconst display = useDisplay();\nconst calendar = ref<DatePickerInstance | null>(null);\ntype SheetType = \"text\" | \"video\" | null;\ntype Timeout = ReturnType<typeof setTimeout>;\n\n\n/**************\n * UI Setup\n *************/\n// const hash = window.location.hash;\nconst urlParams = new URLSearchParams(window.location.search);\nconst showSplashScreen = ref(new URLSearchParams(window.location.search).get(\"splash\")?.toLowerCase() !== \"false\");\nconst hideIntro = \"true\";\nconst WINDOW_DONTSHOWINTRO = hideIntro ? true : window.localStorage.getItem(\"dontShowIntro\") === 'true';\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore --> msPointerEnabled may not be defined in window.navigator\nconst touchscreen = ref(('ontouchstart' in window) || ('ontouchstart' in document.documentElement) || !!window.navigator.msPointerEnabled);\n\n\n\nconst STORY_VISIT_URL = `${API_BASE_URL}/tempo-lite/visit`;\nfunction pingServer(venue: string) {\n\n  fetch(STORY_VISIT_URL, {\n    \n    method: \"POST\",\n    \n    headers: {\n      \"Content-Type\": \"application/json\",\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? ''\n    },\n    \n    body: JSON.stringify({\n      info: { venue }\n    })\n    \n  })\n    .then((response) => {\n      if (!response.ok) {\n        console.error(\"Error pinging server\", response.status, response.statusText);\n      } \n    }).\n    catch((error) => {\n      console.error(\"Error pinging server\", error);\n    });\n}\n\nconst venue = (urlParams.get(\"venue\") ?? '').replace(/,/g, '-');\n\nif (venue !== '') {\n  // get current value of venue\n  const venues =  window.localStorage.getItem(\"venues\") ?? '';\n  // if they haven't visited this venue before, ping the server & save it\n  if (!venues.includes(venue)) {\n    pingServer(venue);\n    window.localStorage.setItem(\"venues\", venues ? `${venues},${venue}` : venue);\n  }\n}\n\n\nfunction clearUrl(hash = false) {\n  const newUrl = location.origin + location.pathname + (hash ? location.hash : '');\n  window.history.replaceState({}, '', newUrl);\n}\nclearUrl(true);\n\n\nconst introSlide = ref(1);\nconst inIntro = ref(!WINDOW_DONTSHOWINTRO);\nconst dontShowIntro = ref(WINDOW_DONTSHOWINTRO);\nconst showNotice = ref(true);\nconst sheet = ref<SheetType>(null);\nconst accentColor = ref(\"#068ede\");\nconst accentColor2 = ref(\"#ffcc33\");\n\nlet hasOptOutBeenOpened = false;\nconst introductionOpen = computed(() => inIntro.value && (introSlide.value === 1));\nconst userGuideOpen = computed(() => inIntro.value && (introSlide.value === 4));\n\nlet whatsNewOpenedCount = 0;\nlet whatsNewTimestamp = null as number | null;\nlet whatsNewOpenTimeMs = 0;\nlet introductionOpenedCount = 0;\nlet introductionTimestamp = null as number | null;\nlet introductionOpenTimeMs = 0;\nlet userGuideOpenedCount = 0;\nlet userGuideTimestamp = null as number | null;\nlet userGuideOpenTimeMs = 0;\nlet aboutDataOpenedCount = 0;\nlet aboutDataTimestamp = null as number | null;\nlet aboutDataOpenTimeMs = 0;\nlet creditsOpenedCount = 0;\nlet creditsTimestamp = null as number | null;\nlet creditsOpenTimeMs = 0;\nlet shareButtonClickedCount = 0;\nlet playButtonClickedCount = 0;\nlet timeSliderUsedCount = 0;\nlet opacitySliderUsedCount = 0;\nlet fieldOfRegardToggled = false;\nlet cloudMaskToggled = false;\nlet hiResDataToggled = false;\n\nlet userSelectedCalendarDates: number[] = [];\nlet userSelectedTimezones: string[] = [];\nlet userSelectedLocations: string[] = [];\nlet userSelectedNotableEvents: [string, string][] = [];\n\nconst STORY_DATA_URL = `${API_BASE_URL}/tempo-lite/data`;\nconst OPT_OUT_KEY = \"tempo-lite-optout\" as const;\nconst UUID_KEY = \"tempo-lite-uuid\" as const;\nconst _storedOptOut = window.localStorage.getItem(OPT_OUT_KEY);\nconst maybeUUID = window.localStorage.getItem(UUID_KEY);\nconst optOut = true; //typeof storedOptOut === \"string\" ? storedOptOut === \"true\" : null;\nconst showPrivacyDialog = ref(false);\nconst responseOptOut = ref(optOut);\nconst existingUser = maybeUUID !== null;\nconst uuid = maybeUUID ?? v4();\nif (!existingUser) {\n  window.localStorage.setItem(UUID_KEY, uuid);\n}\n\nfunction selectSheet(name: SheetType) {\n  if (sheet.value === name) {\n    sheet.value = null;\n    nextTick(() => {\n      blurActiveElement();\n    });\n  } else {\n    sheet.value = name;\n  }\n}\n\nconst showTextSheet = computed({\n  get() {\n    return sheet.value === 'text';\n  },\n  set(_value: boolean) {\n    selectSheet('text');\n  }\n});\n\nconst infoColor = \"#092088\";\nconst cssVars = computed(() => {\n  return {\n    '--accent-color': accentColor.value,\n    '--accent-color-2': accentColor2.value,\n    '--app-content-height': showTextSheet.value ? '66%' : '100%',\n    '--info-background': infoColor,\n  };\n});\n\nconst smallSize = computed(() => {\n  return display.smAndDown.value;\n});\n\nconst mobile = computed(() => {\n  return smallSize.value && touchscreen.value;\n});\n\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction zpad(n: number, width: number = 2, character: string = \"0\"): string {\n  return n.toString().padStart(width, character);\n}\n\n/************\n * TIMESTAMP SETUP\n ************/\nimport { AllAvailableColorMaps } from \"./colormaps\";\nimport { ESRI_URLS, MOLECULE_OPTIONS, MoleculeType } from \"./esri/utils\";\n\n\nconst timestamps = ref<number[]>([]); // we need _something_ so that downstream steps have valid dates to initialize with. \nconst {\n  timeIndex,\n  timestamp,\n  date,\n  singleDateSelected,\n  maxIndex,\n  minIndex,\n  uniqueDays,\n  uniqueDaysIndex,\n  setNearestDate,\n  moveBackwardOneDay,\n  moveForwardOneDay,\n  nearestDateIndex } = useUniqueTimeSelection(timestamps);\n\nconst timestampsLoaded = ref(false);\n\n\n\n/************\n * INITIAL LOCATIONS SETUP\n ************/\n\n\nconst initLat = parseFloat(urlParams.get(\"lat\") || '40.044');\nconst initLon = parseFloat(urlParams.get(\"lon\") || '-98.789');\nconst initZoom = parseFloat(urlParams.get(\"zoom\") || `${4 * zoomScale}`); // 4 is the default zoom level for the map, multiplied by zoomScale for maplibre\nconst initTime = urlParams.get(\"t\");\nconst initState = ref<InitMapOptions>({\n  loc: [initLat, initLon] as LatLngPair,\n  zoom: initZoom,\n  t: initTime ? +initTime : null\n});\n\n\nconst homeLat = 40.044;\nconst homeLon = -98.789;\nconst homeZoom = 4 * zoomScale; // 4 is the default zoom level for the map, multiplied by zoomScale for maplibre\nconst homeState = ref({\n  loc: [homeLat, homeLon] as LatLngPair,\n  zoom: homeZoom,\n  t: null as number | null\n});\n\n\nconst radio = ref<number | null>(null);\nconst sublocationRadio = ref<number | null>(null);\n\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst { currentBounds: imageBounds } = useBounds(date); \n\n\n\n\n\nconst selectedTimezone = ref(\"US/Eastern\");\nconst playing = ref(false);\nconst playInterval = ref<Timeout | null>(null);\nconst searchOpen = ref(true);\nconst searchErrorMessage = ref<string | null>(null);\nconst showControls = ref(false);\nconst showCredits = ref(false);\nconst showAboutData = ref(false);\nconst showUserGuide = ref(false);\n\nconst showLocationMarker = ref(true);\nconst currentUrl = ref(window.location.href);\nconst showChanges = ref(false);\n\n\n\n\n\n\nconst showClouds = ref(false);\nconst opacity = ref(0.9);\n\n// const cloudOverlay = useImageOverlay(cloudUrl, opacity, imageBounds, 'cloud-overlay');\n// const imageOverlay = useImageOverlay(imageUrl, opacity, imageBounds, 'image-overlay');\n\n\nconst whichMolecule = ref<MoleculeType>('no2');\n\nfunction moleculeName(molecule: MoleculeType): string {\n  return MOLECULE_OPTIONS.find(m => m.value == molecule)?.title ?? \"\";\n}\n\nconst mapTitle = computed(() => {\n  const currentMolecule = MOLECULE_OPTIONS.find(m => m.value === whichMolecule.value);\n  if (!currentMolecule) {\n    return '';\n  }\n  return currentMolecule.title;\n});\n\nimport { stretches, colorramps } from \"./esri/ImageLayerConfig\";\n\nconst colorbarOptions = {\n  'no2': {stretch: stretches['NO2_Troposphere'], cbarScale: 1e14, colormap: colorramps['NO2_Troposphere'] + '_r', label:'NO<sub>2</sub>&nbsp;&nbsp;'},\n  'no2Monthly': {stretch: stretches['NO2_Troposphere'], cbarScale: 1e14, colormap: colorramps['NO2_Troposphere'] + '_r', label: 'NO<sub>2</sub>&nbsp;&nbsp;'},\n  'no2DailyMax': {stretch: stretches['NO2_Troposphere'], cbarScale: 1e14, colormap: colorramps['NO2_Troposphere'] + '_r', label: 'NO<sub>2</sub>&nbsp;&nbsp;'},\n  'o3': {stretch: stretches['Ozone_Column_Amount'], cbarScale: 1, colormap: colorramps['Ozone_Column_Amount'] + '_r', label: 'Ozone&nbsp;'},\n  'hcho': {stretch: stretches['HCHO'], cbarScale: 1e14, colormap: colorramps['HCHO'] + '_r', label: 'Formaldehyde&nbsp;&nbsp;'},\n  'hchoMonthly': {stretch: stretches['HCHO'], cbarScale: 1e14, colormap: colorramps['HCHO'] + '_r', label: 'Formaldehyde&nbsp;&nbsp;'},\n  'hchoDailyMax': {stretch: stretches['HCHO'], cbarScale: 1e14, colormap: colorramps['HCHO'] + '_r', label: 'Formaldehyde&nbsp;&nbsp;'},\n};\n\n\n\n\n// computed\nconst esriUrl = computed(() => {\n  return ESRI_URLS[whichMolecule.value].url;\n});\nconst esriVariable = computed(() => {\n  return ESRI_URLS[whichMolecule.value].variable;\n});\n\n// Create TempoDataService instance\nconst tempoDataService = new TempoDataService(esriUrl.value, esriVariable.value);\n\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst {getEsriTimeSteps, loadingEsriTimeSteps, addEsriSource, esriTimesteps, changeUrl, renderOptions} = useEsriLayer(\n  esriUrl.value,\n  esriVariable.value,\n  timestamp,\n  opacity,\n);\ngetEsriTimeSteps();\nwatch(esriTimesteps, (newSteps, _oldSteps) => {\n  if (newSteps.length > 0) {\n    timestamps.value = newSteps.sort();\n  }\n});\n// renderOptions.value.colormap = 'Plasma';\n\nfunction handleEsriTimeSelected(ts:number, _index: number) {\n  const idx = timestamps.value.indexOf(ts);\n  console.log(`ESRI time selected: ${new Date(ts)} (nearest index ${idx})`);\n  if (idx >= 0) {\n    timeIndex.value = idx;\n  }\n  // We may need something like this when we get back the monthly average service.\n  //singleDateSelected.value = new Date(ts);\n}\n\nwatch(whichMolecule, (newMolecule) => {\n  changeUrl(ESRI_URLS[newMolecule].url, ESRI_URLS[newMolecule].variable);\n  // Update TempoDataService with new URL and variable\n  tempoDataService.setBaseUrl(ESRI_URLS[newMolecule].url);\n  tempoDataService.setVariable(ESRI_URLS[newMolecule].variable);\n  getEsriTimeSteps();\n  console.log(colorbarOptions[newMolecule].colormap.toLowerCase());\n  colorMap.value = colorbarOptions[newMolecule].colormap.toLowerCase();\n});\n\nconst onMapReady = (map) => {\n  map.on('moveend', updateURL);\n  map.on('zoomend', updateURL);\n  addEsriSource(map);\n};\nconst showRoads = ref(true);\nconst { map, createMap, setView } = useMap(\"map\", initState.value, showRoads, onMapReady);\n\nconst { \n  addFieldOfRegard,\n  showFieldOfRegard,\n  updateFieldOfRegard \n} = useFieldOfRegard(singleDateSelected, map);\n\nconst {\n  setMarker,\n  removeMarker,\n  locationMarker\n} = useLocationMarker(map,  showLocationMarker.value);\n\n\nconst regions = ref<UnifiedRegionType[]>([]);\nlet selectionCount = 0;\n\n// Selections now are UserSelection objects directly\ntype UserSelectionType = UserSelection;\nconst selections = ref<UserSelectionType[]>([]);\nconst selection = ref<UserSelectionType | null>(null);\nconst tableSelection = ref<UserSelectionType | null>(null);\nconst openGraphs = ref<Record<string,boolean>>({});\n\nconst showTable = computed({\n  get() {\n    return tableSelection.value != null;\n  },\n  set(value: boolean) {\n    if (!value) {\n      tableSelection.value = null;\n    }\n  }\n});\n\n\nfunction graphTitle(selection: UserSelection): string {\n  const molecule = selection.molecule;\n  const molTitle = MOLECULE_OPTIONS.find(m => m.value === molecule)?.title || '';\n  return `${molTitle} Time Series for ${selection.region.name}`;\n}\n\nconst showNO2Graph = ref(false);\nconst no2GraphData = computed(() =>{\n  return selections.value.filter(s => s.molecule.includes('no2') && selectionHasSamples(s));\n});\n\n// ozone version\nconst showO3Graph = ref(false);\nconst o3GraphData = computed(() =>{\n  return selections.value.filter(s => s.molecule.includes('o3') && selectionHasSamples(s));\n});\n\n// formaldehyde version\nconst showHCHOGraph = ref(false);\nconst hchoGraphData = computed(() =>{\n  return selections.value.filter(s => s.molecule.includes('hcho') && selectionHasSamples(s));\n});\n\nconst showErrorBands = ref(true);\n\nconst selectedIndex = computed({\n  get() {\n    const selectedID = selection.value?.id;\n    const idx = selections.value.findIndex(s => s.id == selectedID);\n    return idx >= 0 ? idx : null;\n  },\n  set(index: number | null) {\n    if (typeof index === \"number\") {\n      selection.value = selections.value[index] ?? null;\n    } else {\n      selection.value = null;\n    }\n  }\n});\n\nfunction setSelection(sel: UserSelectionType | null) {\n  if (sel === null) {\n    selection.value = null;\n    selectedIndex.value = null;\n    return null;\n  }\n  const idx = selections.value.findIndex(s => s.id === sel.id);\n  if (idx == -1) {\n    // must already be in selections, so throw an error if that is not true\n    throw new Error(`Selection with ID ${sel.id} not found in selections.`);\n  }\n  selection.value = selections.value[idx];\n  selectedIndex.value = idx;\n  return selection.value;\n}\n\nfunction addUserSelection(sel: UserSelectionType) {\n  selections.value = [...selections.value, sel];\n  return sel;\n}\n\nfunction handleSelectionCreated(sel: UserSelectionType) {\n  addUserSelection(sel);\n  fetchDataForSelection(sel);\n  setSelection(sel);\n  createSelectionActive.value = false;\n}\n\n// Track total created selections for unique naming\n// Removed timeRangeCount/timeRangeNameMap and dedup logic; we'll just append custom ranges and always keep a current day option.\nlet timeRangeCount = 0;\n\n// Simple deterministic color palette (unused in composition now but kept for future region coloring if needed)\n// const okabeAndItoColorblindSafeColors = ['#D55E00', '#56B4E9', '#F0E442', '#009E73', '#E69F00', '#0072B2', '#CC79A7',];\n\nconst paulTolMutedColorblindSafeColors = ['#CC6677', '#332288', '#117733', '#882255', '#44aa99', '#999933', '#aa4499',];\n\nconst COLORS = [\n  ...paulTolMutedColorblindSafeColors, '#e6194b', '#3cb44b', '#4363d8', '#911eb4', '#46f0f0',\n  '#f032e6', '#bcf60c', '#fabebe', '#008080', '#e6beff', '#9a6324', '#fffac8',\n  '#800000', '#aaffc3', '#808000', '#ffd8b1', '#000075', '#808080', '#ffffff',\n  '#000000'\n];\n\n// implement rectangle and point\nconst { active: rectangleSelectionActive, selectionInfo: rectangleInfo } = useRectangleSelection(map, \"red\");\nconst { active: pointSelectionActive, selectionInfo: pointInfo } = usePointSelection(map, false);\n\nconst loadingSamples = ref<string | false>(false);\n\nconst createTimeRangeActive = ref(false);\nconst createSelectionActive = ref(false);\nconst openPanels = ref<number[]>([]);\nconst openSelection = ref<string | null>(null);\n\nconst testErrorAmount = 0.25e15;\nconst _testError = { lower: testErrorAmount, upper: testErrorAmount };\n\nconst sampleErrors = ref<Record<string, string | null>>({});\nconst sampleErrorID = ref<string | null>(null);\nconst pointSampleErrors = ref<Record<string, string | null>>({});\nconst pointSampleResults = ref<Record<string, Record<number, { value: number | null; date: Date }> | null>>({});\nconst loadingPointSample = ref<string | false>(false);\nconst datasetRowRefs = ref({});\n\n// UI state for time range management\n\nconst useCustomTimeRange = ref(true); // Binary choice: false = current day, true = custom range\n\n// Store markers for timeseries locations\nconst timeseriesMarkerApi = useMultiMarker(map, {\n  shape: 'circle',\n  color: '#ff0000',\n  fillColor: '#ff0000',\n  fillOpacity: 0.8,\n  opacity: 1,\n  radius: 0.02 / 2, // degrees\n  scale: 'world',\n  outlineColor: '#ff0000',\n});\n\nconst showDataSamplingMarkers = ref(true);\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction clearTimeseriesMarkers() {\n  timeseriesMarkerApi.clearMarkers();\n}\n\nconst samplingPreviewMarkers = useMultiMarker(map, {\n  shape: 'circle',\n  color: '#0000ff',\n  fillColor: '#0000ff',\n  fillOpacity: 0.5,\n  opacity: 1,\n  radius: 0.02 / 2, // degrees\n  scale: 'world',\n  outlineColor: '#0000ff',\n  label: 'predicted-samples-locations'\n});\n\n\nwatch([showDataSamplingMarkers, () => selections.value.map(s => selectionHasSamples(s))], (newVal) => {\n  if (!newVal[0]) {\n    clearTimeseriesMarkers();\n  }\n  if (newVal[0]) {\n    const locations = selections.value\n      .filter(sel => selectionHasSamples(sel))\n      .map(sel => sel.locations ?? [])\n      .flat();\n    \n    timeseriesMarkerApi.addMarkers(locations);\n  }\n  \n});\n\nimport { EsriSampler } from \"./esri/services/sampling\";\nconst showSamplingPreviewMarkers = ref(false);\n// const sampler = new EsriSampler( tempoDataService.meta,);\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nconst sampler =  ref<EsriSampler>(null);\ntempoDataService.withMetadataCache().then(meta => {\n  sampler.value = new EsriSampler(meta);\n});\nwatch([showSamplingPreviewMarkers, regions, ()=> regions.value.length], (newVal) => {\n  const show = newVal[0];\n  const regs = newVal[1];\n  samplingPreviewMarkers.clearMarkers();\n  let locations: {x: number, y:number}[] = [];\n  if (sampler.value && show && regs.length > 0) {\n    regs.forEach(r => {\n      if (r.geometryType === 'rectangle') {\n        sampler.value.setGeometry(r.geometryInfo);\n        if (tempoDataService.meta) {\n          sampler.value.setMetadata(tempoDataService.meta);\n        }\n        locations = [...locations, ...sampler.value.getSampleLocationsGrid(maxSampleCount.value)];\n        // samplingPreviewMarkers.addMarkers(locations);\n      }\n    });\n    samplingPreviewMarkers.addMarkers(locations);\n  }\n  \n});\n\nfunction selectionHasSamples(sel: UserSelectionType): boolean {\n  return (sel.samples !== undefined) && Object.keys(sel.samples).length > 0;\n}\n\n// Type Guards\nfunction isRectangleSelection(selection: UnifiedRegionType): selection is RectangleSelectionType {\n  return selection.geometryType === 'rectangle';\n}\n\nfunction isPointSelection(selection: UnifiedRegionType): selection is PointSelectionType {\n  return selection.geometryType === 'point';\n}\n\nfunction regionHasDatasets(region: UnifiedRegionType): boolean {\n  const sel = selections.value.find(s => s.region.id === region.id);\n  return sel !== undefined;\n}\nfunction regionHasSamples(region: UnifiedRegionType): boolean {\n  const sel = selections.value.find(s => s.region.id === region.id);\n  if (!sel) {\n    return false;\n  }\n  return selectionHasSamples(sel);\n}\n\n\n// Replace primitive customTimeRange with TimeRange object\n// OLD:\n// const customTimeRange = ref<MillisecondRange | MillisecondRange[] | null>(null);\nconst customTimeRange = ref<TimeRange | null>(null);\n\n// Add TimeRange object support for custom time ranges, update handler to accept (ranges, selectionType), name and describe new custom ranges, and adjust dependent logic.\nfunction handleDateTimeRangeSelectionChange(timeRanges: MillisecondRange[], selectionType?: string) {\n  if (!Array.isArray(timeRanges) || timeRanges.length === 0) {\n    console.error('No time ranges received from DateTimeRangeSelection');\n    return;\n  }\n  const normalized = atleast1d(timeRanges);\n  // No dedup tracking now\n  // Build description based on selection type\n  let descriptionBase = 'Custom';\n  switch (selectionType) {\n  case 'weekday':\n    descriptionBase = 'Weekday Pattern';\n    break;\n  case 'daterange':\n    descriptionBase = 'Date Range';\n    break;\n  case 'singledate':\n    descriptionBase = 'Single Date';\n    break;\n  }\n  const formatted = formatTimeRange(normalized);\n  const description = `${descriptionBase} (${formatted})`;\n  timeRangeCount += 1;\n  const tr: TimeRange = {\n    id: v4(),\n    name: formatted,\n    description,\n    range: normalized.length === 1 ? normalized[0] : normalized\n  };\n  customTimeRange.value = tr;\n  useCustomTimeRange.value = true;\n  // Add to available list if new (compare by serialized range key)\n  availableTimeRanges.value.push(tr); // always append\n\n  createTimeRangeActive.value = false;\n  console.log(`Registered ${tr.name}: ${tr.description}`);\n}\n\n// Selection management handlers\nfunction activateRectangleSelectionMode() {\n  rectangleSelectionActive.value = !rectangleSelectionActive.value;\n}\n\nfunction activatePointSelectionMode() {\n  pointSelectionActive.value = !pointSelectionActive.value;\n}\n\n// clear all the data from the current selection\n// This is not used right now, but it is useful to have\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction clearSelectionSamples(sel: UserSelectionType) {\n  sel.samples = undefined;\n  sel.errors = undefined;\n}\n\n// edit the region of the given selection.\nfunction _editRegionGeometry(region: UnifiedRegionType) {\n  if (regionHasSamples(region)) {\n    return;\n  }\n  regionBeingEdited.value = region;\n  if (isRectangleSelection(region)) {\n    rectangleSelectionActive.value = true;\n  } else if (isPointSelection(region)) {\n    pointSelectionActive.value = true;\n  }\n  console.log(`Editing geometry for ${region.geometryType}: ${region.name}`);\n}\n\nconst showEditSelectionNameDialog = ref(false);\nfunction editSelectionName(sel: UserSelectionType | null) {\n  if (sel === null) {\n    console.error(\"Cannot edit name of a null selection.\");\n    return;\n  }\n  // Set the selection to edit\n  setSelection(sel);\n  \n  // Open dialog for renaming\n  showEditSelectionNameDialog.value = true;\n}\n\nfunction createNewSelection(geometryType: 'rectangle' | 'point') {\n  // Clear current selection to force new selection creation\n  setSelection(null);\n  rectangleSelectionActive.value = geometryType === 'rectangle';\n  pointSelectionActive.value = geometryType === 'point';\n}\n\nasync function fetchDataForSelection(sel: UserSelectionType) {\n\n  sel.loading = true;\n  loadingSamples.value = sel.id;\n  sampleErrors.value[sel.id] = null;\n  \n  const timeRanges = atleast1d(sel.timeRange.range);\n  \n  try {\n    tempoDataService.setBaseUrl(ESRI_URLS[sel.molecule].url);\n    const data = await tempoDataService.fetchTimeseriesData(sel.region.geometryInfo, timeRanges);\n    sel.samples = data.values;\n    sel.errors = data.errors;\n    loadingSamples.value = \"finished\";\n    console.log(`Fetched data for ${timeRanges.length} time range(s)`);\n  } catch (error) {\n    sampleErrors.value[sel.id] = error instanceof Error ? error.message : String(error);\n    loadingSamples.value = \"error\";\n  }\n\n  sel.loading = false;\n\n  markSelectionUpdated(sel);\n\n}\n\nfunction markSelectionUpdated(selection: UserSelectionType) {\n  const index = selections.value.findIndex(sel => sel.id === selection.id);\n  if (index >= 0) {\n    selections.value[index] = { ...selection };\n  }\n}\n\n// 30 is the value we have been using\nconst maxSampleCount = ref(50);\n\n// New: fetch data for composed UserSelection\n// fetchDataForSelection already handles UserSelection\n\nasync function fetchCenterPointDataForSelection(sel: UserSelectionType) {\n  loadingSamples.value = sel.id;\n  sampleErrors.value[sel.id] = null;\n  \n  const timeRanges = atleast1d(sel.timeRange.range);\n  \n  try {\n    tempoDataService.setBaseUrl(ESRI_URLS[sel.molecule].url);\n    const data = await tempoDataService.fetchCenterPointData(\n      sel.region.geometryInfo,\n      timeRanges,\n      { sampleCount: maxSampleCount.value }\n    );\n    if (data) {\n      sel.samples = data.values;\n      sel.locations = data.locations;\n      loadingSamples.value = \"finished\";\n      console.log(`Fetched center point data for ${timeRanges.length} time range(s)`);\n    }\n  } catch (error) {\n    sampleErrors.value[sel.id] = error instanceof Error ? error.message : String(error);\n    loadingSamples.value = \"error\";\n  }\n}\n\n\nfunction createDraftSelection(info: RectangleSelectionInfo | PointSelectionInfo, geometryType: 'rectangle' | 'point') {\n  const color = COLORS[selectionCount % COLORS.length];\n  selectionCount += 1;\n  \n  const isRect = geometryType === 'rectangle';\n  const { layer } = isRect ? \n    addRectangleLayer(map.value!, info as RectangleSelectionInfo, color)\n    : addPointLayer(map.value!, info as PointSelectionInfo, color);\n\n\n  const newSelection = {\n    id: v4(),\n    name: `${isRect ? 'Region' : 'Point'} ${selectionCount}`,\n    geometryInfo: info,\n    geometryType: geometryType,\n    color,\n    layer: layer\n  } as UnifiedRegionType;\n  \n  regions.value = [...regions.value, newSelection];\n  console.log(`Created ${geometryType} ${newSelection.name}`);\n}\n\nfunction moveMapToRegion(region: UnifiedRegionType) {\n  const mapV = map.value;\n  if (!mapV) {\n    return;\n  }\n\n  const bounds = regionBounds(region);\n  fitBounds(mapV, bounds, true);\n}\n\n\nconst availableRegions = computed(() => regions.value);\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst availableMolecules = computed(() => MOLECULE_OPTIONS.map(o => ({ key: o.value as MoleculeType, title: o.title })));\n// Time ranges maintained as a list of TimeRange objects\nconst availableTimeRanges = ref<TimeRange[]>([]);\n\n// Dedup helper removed (no longer needed)\n\n// dedup availableTimeRange and add in the effective time range (which is an old way of storing the current time range)\n// Always-present current day option at index 0\nconst displayedDayTimeRange = computed<TimeRange>(() => {\n  const range = rangeForSingleDay(singleDateSelected.value, selectedTimezone.value);\n  return {\n    id: 'displayed-day',\n    name: 'Displayed Day',\n    description: `Displayed Day (${new Date(range.start).toLocaleDateString()})`,\n    range,\n  };\n});\n\nwatch(singleDateSelected, (_newDate, oldDate) => {\n  const oldRange = rangeForSingleDay(oldDate, selectedTimezone.value);\n  const displayedDateSelections = selections.value.filter(sel => {\n    const range = sel.timeRange.range;\n    return !Array.isArray(range) &&\n           range.start === oldRange.start &&\n           range.end === oldRange.end;\n  });\n  if (displayedDateSelections.length === 0) {\n    return;\n  }\n\n  const index = availableTimeRanges.value.findIndex(timeRange => {\n    const range = timeRange.range;\n    return !Array.isArray(range) &&\n           range.start === oldRange.start &&\n           range.end === oldRange.end &&\n           timeRange.id !== \"displayed-day\";\n  });\n  if (index < 0) {\n    const formatted = formatSingleRange(oldRange);\n    const oldTimeRange: TimeRange = {\n      id: v4(),\n      name: formatted,\n      description: formatted,\n      range: oldRange,\n    };\n    availableTimeRanges.value.push(oldTimeRange);\n  }\n});\n\nwatch(displayedDayTimeRange, (val) => {\n  // console.log(singleDateSelected.value, getTimezoneOffset(selectedTimezone.value, singleDateSelected.value), val,);\n  if (!availableTimeRanges.value.length) {\n    availableTimeRanges.value.push(val);\n  } else {\n    availableTimeRanges.value[0] = val;\n  }\n}, { immediate: true });\n\n\n// Options for time range dropdown sourced from availableTimeRanges (TimeRange objects)\nconst timeRangeOptions = computed(() => availableTimeRanges.value.map(tr => ({ title: tr.description || tr.name, value: tr.range })));\n\nwatch(timeRangeOptions, (newOptions,) => {\n  // Log the change in time range options\n  console.log(`Time range options changed:`, newOptions);\n});\n\nwatch(selections, (newSelections, oldSelections) => {\n  // just log out the length difference\n  console.log(`Selections changed: ${oldSelections.length} -> ${newSelections.length}`);\n});\n\nconst showEditRegionNameDialog = ref(false);\nconst regionBeingEdited = ref<UnifiedRegionType | null>(null);\nfunction editRegionName(region: UnifiedRegionType) {\n  console.log(`Editing ${region.geometryType}: ${region.name}`);\n  // Set the region to edit\n  const existing = (regions.value as UnifiedRegionType[]).find(r => r.id === region.id);\n  if (!existing) {\n    console.error(`Region with ID ${region.id} not found.`);\n    return;\n  }\n  regionBeingEdited.value = region;\n  // Open dialog for renaming\n  showEditRegionNameDialog.value = true;\n}\nfunction setRegionName(region: UnifiedRegionType, newName: string) {\n  if (newName.trim() === '') {\n    console.error(\"Region name cannot be empty.\");\n    regionBeingEdited.value = null;\n    return;\n  }\n  const existing = (regions.value as UnifiedRegionType[]).find(r => r.name === newName && r.id !== region.id);\n  if (existing) {\n    console.error(`A region with the name \"${newName}\" already exists.`);\n    return;\n  }\n  region.name = newName;\n  console.log(`Renamed ${region.geometryType} region to: ${newName}`);\n  regionBeingEdited.value = null;\n}\n\nfunction deleteTimeRange(range: TimeRange) {\n  const index = availableTimeRanges.value.findIndex(r => r.id === range.id);\n  if (index < 0) {\n    return;\n  }\n  availableTimeRanges.value.splice(index, 1);\n}\n\nfunction deleteRegion(region: UnifiedRegionType) {\n  const index = regions.value.findIndex(r => r.id === region.id);\n  if (index < 0) {\n    return;\n  }\n  if (map.value && region.layer) {\n    if (isRectangleSelection(region)) {\n      removeRectangleLayer(map.value, region.layer);\n    } else if (isPointSelection(region)) {\n      removePointLayer(map.value, region.layer);\n    }\n  }\n  regions.value.splice(index, 1);\n}\n\nfunction deleteSelection(sel: UserSelectionType) {\n  const index = selections.value.findIndex(s => s.id == sel.id);\n  if (index < 0) {\n    return;\n  }\n  const isSelected = selectedIndex.value === index;\n  // if (map.value && sel.region.layer) {\n  //   removeRectangleLayer(map.value, sel.region.layer);\n  // }\n  selections.value.splice(index, 1);\n  if (isSelected) {\n    if (index > 0) {\n      selection.value = selections.value[index - 1];\n    } else if (selections.value.length > 0) { \n      selection.value = selections.value[0];\n    } else {\n      selection.value = null;\n    }\n  }\n\n  delete datasetRowRefs.value[sel.id];\n  delete openGraphs.value[sel.id];\n}\n\n\n\nonMounted(() => {\n  showSplashScreen.value = false;\n  createMap();\n  \n  usezoomhome(map, homeState.value.loc, homeState.value.zoom, (_e: Event) => {\n    sublocationRadio.value = null;\n    // check if location marker is not null and on map. if so remove it\n    if (locationMarker.value !== null) {\n      removeMarker();\n    }\n  });\n\n  if (uniqueDays.value.length > 0) {\n    singleDateSelected.value = uniqueDays.value[uniqueDays.value.length - 1];\n  }\n  \n  \n  updateFieldOfRegard();\n  addFieldOfRegard();\n\n  createUserEntry();\n  window.addEventListener(\"visibilitychange\", () => {\n    if (document.visibilityState === \"hidden\") {\n      updateUserData();\n    } else {\n      resetData();\n    }\n  });\n  \n});\n\n\n\nconst datesOfInterest = computed(() => {\n  return interestingEvents.map(event => event.date);\n});\n\nconst dateIsDST = computed(() => {\n  if (!date.value) {\n    return false;\n  }\n  const standardOffset = getTimezoneOffset(selectedTimezone.value, new Date(date.value.getUTCFullYear(), 0, 1));\n  const currentOffset = getTimezoneOffset(selectedTimezone.value, date.value);\n  if (standardOffset === currentOffset) {\n    return false;\n  }\n  return true;\n});\n\nconst timezoneOptions = computed(() => {\n  return [\n    { tz: 'US/Eastern', name: dateIsDST.value ? 'Eastern Daylight' : 'Eastern Standard' },\n    { tz: 'US/Central', name: dateIsDST.value ? 'Central Daylight' : 'Central Standard' },\n    { tz: 'US/Mountain', name: dateIsDST.value ? 'Mountain Daylight' : 'Mountain Standard' },\n    { tz: 'US/Arizona', name: 'Mountain Standard' },\n    { tz: 'US/Pacific', name: dateIsDST.value ? 'Pacific Daylight' : 'Pacific Standard' },\n    { tz: 'US/Alaska', name: dateIsDST.value ? 'Alaska Daylight' : 'Alaska Standard' },\n    { tz: 'UTC', name: 'UTC' },\n  ];\n});\n\n// TODO: Maybe there's a built-in Date function to get this formatting?\nconst thumbLabel = computed(() => {\n  if (date.value === null || timestamp.value === null) {\n    return '';\n  }\n  const offset = getTimezoneOffset(selectedTimezone.value, date.value);\n  const dateObj = new Date(timestamp.value + offset);\n  const hours = dateObj.getUTCHours();\n  const amPm = hours >= 12 ? \"PM\" : \"AM\";\n  let hourValue = hours % 12;\n  if (hourValue === 0) {\n    hourValue = 12;\n  }\n  return `${date.value.getUTCMonth() + 1}/${dateObj.getUTCDate()}/${dateObj.getUTCFullYear()} ${hourValue}:${dateObj.getUTCMinutes().toString().padStart(2, '0')} ${amPm}`;\n});\n\n\n\n\nfunction updateURL() {\n  if (map.value) {\n    const center = map.value.getCenter();\n    let stateObj = null as Record<string, string> | null;\n    stateObj = {\n      lat: `${center.lat.toFixed(4)}`,\n      lon: `${center.lng.toFixed(4)}`,\n      zoom: `${map.value.getZoom()}`,\n      t: `${timestamp.value}`\n    };\n    const url = new URL(location.origin);\n    const searchParams = new URLSearchParams(stateObj ?? {});\n    // const hash = window.location.hash;\n    // url.hash = hash;\n    url.pathname = location.pathname;\n    window.history.replaceState(null, '', url.toString());\n    url.search = searchParams.toString();\n    currentUrl.value = url.toString();\n    // window.history.replaceState(stateObj, '', url);\n  }\n}\n\n\nconst colorMap = ref<AllAvailableColorMaps>('None');\ncolorMap.value = colorbarOptions[whichMolecule.value].colormap.toLowerCase();\n\n\nconst currentColormap = computed(() => {return (x: number): string => {\n  // const rgb = cbarNO2(0, 1, x);\n  const rgb = colormap(colorMap.value, 0 ,1 ,x);\n  return `rgba(${rgb[0]}, ${rgb[1]}, ${rgb[2]},1)`;\n};\n});\n\nasync function geocodingInfoForSearchLimited(searchText: string): Promise<MapBoxFeatureCollection | null> {\n  return geocodingInfoForSearch(searchText, {\n    countries: [\"US\", \"CA\", \"MX\", \"CU\", \"BM\", \"HT\", \"DO\"],\n    limit: 10,\n  }).catch(_err => null);\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction resetMapBounds() {\n  setView([40.044, -98.789] as LatLngPair, 4);\n}\n\nfunction setLocationFromSearch(items: [MapBoxFeature | null, string]) {\n  const [feature, text] = items;\n  if (feature !== null) {\n    // Latitude, Longitude order\n    const coordinates: LatLngPair = [feature.center[1], feature.center[0]] as LatLngPair;\n    setView(coordinates, 12);\n    setMarker(coordinates);\n    userSelectedLocations.push(text);\n  }\n}\n\nfunction play() {\n  playInterval.value = setInterval(() => {\n    if (timeIndex.value >= maxIndex.value) {\n      if (playInterval.value) {\n        // clearInterval(this.playInterval);\n        // this.playInterval = null;\n        // let it loop\n        timeIndex.value = minIndex.value;\n      }\n    } else {\n      timeIndex.value += 1;\n    }\n  }, 1000);\n}\n\n\nfunction pause() {\n  if (playInterval.value) {\n    clearInterval(playInterval.value);\n  }\n}\n\n\n\n\n\n\n\n\n\n\nconst locationsOfInterest = ref<Array<Array<{ latlng: LatLngPair; zoom: number; index?: number }>>>([]);\nfunction goToLocationOfInterst(index: number, subindex: number) {\n  if (index < 0 || index >= locationsOfInterest.value.length) {\n    console.error('Invalid index for location of interest');\n    return;\n  }\n  const loi = locationsOfInterest.value[index][subindex];\n  setView(loi.latlng, loi.zoom * zoomScale); // Adjust zoom level for maplibre\n  if (loi.index !== undefined) {\n    timeIndex.value = loi.index;\n  } else {\n    console.error('No index found for location of interest');\n  }\n}\n\n\nfunction onTimeSliderEnd(_value: number) {\n  timeSliderUsedCount += 1; \n}\n\nfunction onOpacitySliderEnd(_value: number) {\n  opacitySliderUsedCount += 1;\n}\n\nasync function createUserEntry() {\n  if (responseOptOut.value) {\n    return;\n  }\n\n  const response = await fetch(`${STORY_DATA_URL}/${uuid}`, {\n    method: \"GET\",\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    headers: { \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? \"\" }\n  });\n  const content = await response.json();\n  const exists = response.status === 200 && content.response?.user_uuid != undefined;\n  if (exists) {\n    return;\n  }\n\n  fetch(`${STORY_DATA_URL}`, {\n    method: \"PUT\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? \"\",\n    },\n    body: JSON.stringify({\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_uuid: uuid,\n    }),\n  });\n}\n\nfunction resetData() {\n  whatsNewOpenedCount = 0;\n  introductionOpenedCount = 0;\n  userGuideOpenedCount = 0;\n  aboutDataOpenedCount = 0;\n  creditsOpenedCount = 0;\n  shareButtonClickedCount = 0;\n  playButtonClickedCount = 0;\n  timeSliderUsedCount = 0;\n  opacitySliderUsedCount = 0;\n  userSelectedCalendarDates = [];\n  userSelectedTimezones = [];\n  userSelectedLocations = [];\n  userSelectedNotableEvents = [];\n\n  aboutDataOpenTimeMs = 0;\n  userGuideOpenTimeMs = 0;\n  introductionOpenTimeMs = 0;\n  whatsNewOpenTimeMs = 0;\n  creditsOpenTimeMs = 0;\n  fieldOfRegardToggled = false;\n  cloudMaskToggled = false;\n  hiResDataToggled = false;\n\n  const now = Date.now();\n  creditsTimestamp = showCredits.value ? now : null;\n  aboutDataTimestamp = showAboutData.value ? now : null;\n}\n\nasync function updateUserData() {\n  if (responseOptOut.value) {\n    return;\n  }\n\n  const now = Date.now();\n  const creditsTime = (showCredits.value && creditsTimestamp !== null) ? now - creditsTimestamp : creditsOpenTimeMs;\n  const aboutDataTime = (showAboutData.value && aboutDataTimestamp !== null) ? now - aboutDataTimestamp: aboutDataOpenTimeMs;\n  const whatsNewTime = (showChanges.value && whatsNewTimestamp !== null) ? now  - whatsNewTimestamp : whatsNewOpenTimeMs;\n  const introductionTime = (introductionOpen.value && introductionTimestamp !== null) ? now - introductionTimestamp : introductionOpenTimeMs;\n  const userGuideTime = (userGuideOpen.value && userGuideTimestamp !== null) ? now - userGuideTimestamp : userGuideOpenTimeMs;\n\n  fetch(`${STORY_DATA_URL}/${uuid}`, {\n    method: \"PATCH\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? \"\",\n    },\n    body: JSON.stringify({\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_whats_new_opened_count: whatsNewOpenedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_whats_new_open_time_ms: whatsNewTime,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_introduction_opened_count: introductionOpenedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_introduction_open_time_ms: introductionTime,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_user_guide_opened_count: userGuideOpenedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_user_guide_open_time_ms: userGuideTime,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_about_data_opened_count: aboutDataOpenedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_about_data_open_time_ms: aboutDataTime,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_credits_opened_count: creditsOpenedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_credits_open_time_ms: creditsTime,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_share_button_clicked_count: shareButtonClickedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_calendar_dates: userSelectedCalendarDates,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_timezones: userSelectedTimezones,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_locations: userSelectedLocations,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_notable_events: userSelectedNotableEvents,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_play_clicked_count: playButtonClickedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_time_slider_used_count: timeSliderUsedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_opacity_slider_used_count: opacitySliderUsedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      field_of_regard_toggled: fieldOfRegardToggled,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      cloud_mask_toggled: cloudMaskToggled,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      high_res_data_toggled: hiResDataToggled,\n    }),\n    keepalive: true,\n  }).then(() => {\n    resetData();\n  });\n}\n\nwatch(timestampsLoaded, (loaded: boolean) => {\n  if (loaded) {\n    console.log('timestamps loaded');\n    if (initState.value.t) {\n      let index = uniqueDaysIndex(initState.value.t);\n      if (index == -1) {\n        return;\n      }\n      console.log('set the date');\n      singleDateSelected.value = uniqueDays.value[index];\n      index = nearestDateIndex(new Date(initState.value.t));\n      if (index == -1) {\n        return;\n      }\n      timeIndex.value = index;\n      // FIXME if needed. if we find the time is not being set, use nextTick\n      // this.$nextTick(() => { this.timeIndex = index;});\n    }\n  }\n});\n\nwatch(timestamp, (_val: number) => {\n  updateURL();\n});\n\nwatch(introSlide, (val: number) => {\n  inIntro.value = val < 5;\n});\n\nwatch(dontShowIntro, (val: boolean) => {\n  window.localStorage.setItem(\"dontShowIntro\", val.toString());\n  if (!val) {\n    inIntro.value = true;\n  }\n});\n\nwatch(inIntro, (value: boolean) => {\n  if (!value) {\n    if (responseOptOut.value === null && !hasOptOutBeenOpened) {\n      showPrivacyDialog.value = true;\n    }\n  }\n});\n\nwatch(showPrivacyDialog, (show: boolean) => {\n  if (show) {\n    hasOptOutBeenOpened = true;\n  }\n});\n\nwatch(responseOptOut, (optOut: boolean | null) => {\n  if (responseOptOut.value !== null) {\n    window.localStorage.setItem(OPT_OUT_KEY, String(optOut));\n  }\n});\n\n\n\nwatch(playing, (val: boolean) => {\n  if (val) {\n    play();\n    playButtonClickedCount += 1;\n  } else {\n    pause();\n  }\n});\n\n\nwatch(showFieldOfRegard, (_show: boolean) => {\n  fieldOfRegardToggled = true;\n});\n\nwatch(showClouds, (_show: boolean) => {\n  cloudMaskToggled = true;\n});\n\nwatch(showLocationMarker, (show: boolean) => {\n  if (locationMarker.value) {\n    if (show && map.value) {\n      locationMarker.value.addTo(map.value);\n      return;\n    } else {\n      locationMarker.value.remove();\n      return;\n    }\n  }\n});\n\nwatch(timestamps, () => {\n  if (uniqueDays.value.length === 0) {\n    return;\n  }\n  singleDateSelected.value = uniqueDays.value[uniqueDays.value.length - 1];\n});\n\nwatch(radio, (value: number | null) => {\n  if (value == null) {\n    setNearestDate(singleDateSelected.value.getTime());\n    sublocationRadio.value = null;\n    return;\n  }\n  const date = datesOfInterest.value[value] ?? singleDateSelected.value;\n  singleDateSelected.value = date;\n  setNearestDate(date.getTime());\n  if (sublocationRadio.value == 0 && value !== null) {\n    // run this manually as the watcher wouldn't trigger\n    goToLocationOfInterst(value, 0);\n  } else {\n    sublocationRadio.value = 0;\n  }\n});\n\nwatch(singleDateSelected, (value: Date) => {\n  // console.log(`singleDateSelected ${value}`);\n  const timestamp = value.getTime();\n  setNearestDate(timestamp);\n  if (radio.value !== null) {\n    const index = datesOfInterest.value.map(d => d.getTime()).indexOf(timestamp);\n    radio.value = index < 0 ? null : index;\n  }\n});\n\nwatch(sublocationRadio, (value: number | null) => {\n  if (value !== null && radio.value != null) {\n    goToLocationOfInterst(radio.value, value);\n  }\n});\n\n\nwatch(showChanges, (_value: boolean) => {\n  if (showNotice.value) {\n    showNotice.value = false;\n  }\n});\n\n\n\nwatch(showChanges, (show: boolean) => {\n  const now = Date.now();\n  if (show) {\n    whatsNewTimestamp = now;\n    whatsNewOpenedCount += 1;\n  } else if (whatsNewTimestamp !== null) {\n    whatsNewOpenTimeMs += (now - whatsNewTimestamp);\n    whatsNewTimestamp = null;\n  }\n});\n\nwatch(showAboutData, (show: boolean) => {\n  const now = Date.now();\n  if (show) {\n    aboutDataTimestamp = now;\n    aboutDataOpenedCount += 1;\n  } else if (aboutDataTimestamp !== null) {\n    aboutDataOpenTimeMs += (now - aboutDataTimestamp);\n    aboutDataTimestamp = null;\n  }\n});\n\nwatch(showCredits, (show: boolean) => {\n  const now = Date.now();\n  if (show) {\n    creditsTimestamp = now;\n    creditsOpenedCount += 1;\n  } else if (creditsTimestamp !== null) {\n    creditsOpenTimeMs += (now - creditsTimestamp);\n    creditsTimestamp = null;\n  }\n});\n\nwatch(introductionOpen, (open: boolean) => {\n  const now = Date.now();\n  if (open) {\n    introductionTimestamp = now;\n    introductionOpenedCount += 1;\n  } else if (introductionTimestamp !== null) {\n    introductionOpenTimeMs += (now - introductionTimestamp);\n    introductionTimestamp = null;\n  }\n});\n\nwatch(userGuideOpen, (open: boolean) => {\n  const now = Date.now();\n  if (open) {\n    userGuideTimestamp = now;\n    userGuideOpenedCount += 1;\n  } else if (userGuideTimestamp !== null) {\n    userGuideOpenTimeMs += (now - userGuideTimestamp);\n    userGuideTimestamp = null;\n  }\n});\n\nwatch(selectedTimezone, (timezone: string) => {\n  userSelectedTimezones.push(timezone);\n});\n\nwatch(singleDateSelected, (date: Date) => {\n  if (!timestampsLoaded.value ) return;\n  userSelectedCalendarDates.push(date.getTime());\n});\n\nwatch(openPanels, (open: number[]) => {\n  if (!open.includes(0)) {\n    createTimeRangeActive.value = false;\n  }\n  if (!open.includes(1)) {\n    rectangleSelectionActive.value = false;\n  }\n});\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction handleSelectionRegionEdit(info: RectangleSelectionInfo) { \n  // Update the existing selection\n  const currentSelection = selections.value[selectedIndex.value];\n  currentSelection.region.geometryInfo = info;\n  currentSelection.samples = undefined; // Clear existing data\n  // explicit type\n  const rect = currentSelection.region.layer as RectangleSelectionType['layer'];\n  if (rect) {\n    updateRectangleBounds(rect, info);\n  }\n    \n  console.log(`Updated existing selection: ${currentSelection.name} (time range unchanged)`);\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction handleRegionEdit(info: RectangleSelectionInfo | PointSelectionInfo) {\n  if (regionBeingEdited.value) {\n    regionBeingEdited.value.geometryInfo = info;\n    const layer = regionBeingEdited.value.layer;\n    if (layer) {\n      if (isRectangleSelection(regionBeingEdited.value as UnifiedRegionType)) {\n        updateRectangleBounds(layer as RectangleSelectionType['layer'], info as RectangleSelectionInfo);\n      } else if (isPointSelection(regionBeingEdited.value as UnifiedRegionType)) {\n        updatePointLocation(layer as PointSelectionType['layer'], info as PointSelectionInfo);\n      }\n    }\n    console.log(`Updated ${regionBeingEdited.value.geometryType}: ${regionBeingEdited.value.name}`);\n  } else {\n    console.error('No selection is currently being edited.');\n  }\n  showEditRegionNameDialog.value = false;\n  regionBeingEdited.value = null;\n}\n\nfunction rectangleIsDegenerate(info: RectangleSelectionInfo): boolean {\n  return info.xmax === info.xmin || info.ymax === info.ymin;\n}\nwatch(rectangleInfo, (info: RectangleSelectionInfo | null) => {\n  if (info === null || map.value === null) {\n    rectangleSelectionActive.value = false;\n    return;\n  }\n  if (rectangleIsDegenerate(info)) {\n    // make it a point selection instead\n    // TODO: only implement when we have a solution to only do this on a double-click\n    // pointInfo.value = {\n    //   x: info.xmin,\n    //   y: info.ymin\n    // };\n    rectangleSelectionActive.value = false;\n    return;\n  }\n  const canCreate = (selection.value === null || selectedIndex.value === null) && !regionBeingEdited.value;\n  if (canCreate) {\n    createDraftSelection(info, 'rectangle');\n    rectangleSelectionActive.value = false;\n  } else {\n    return;\n    // handleRegionEdit(info);\n  }\n  \n  // do not permit editing a region on a selection\n  // handleSelectionRegionEdit(info);\n  \n\n});\n\n// Add watcher for point selection\nwatch(pointInfo, (info: PointSelectionInfo | null) => {\n  if (info === null || map.value === null) {\n    pointSelectionActive.value = false;\n    return;\n  }\n  const canCreate = (selection.value === null || selectedIndex.value === null) && !regionBeingEdited.value;\n  if (canCreate) {\n    createDraftSelection(info, 'point');\n    pointSelectionActive.value = false;\n  } else {\n    return;\n    // handleRegionEdit(info);\n  }\n});\n\n// Watch for time range mode changes and update custom time range if needed\nwatch(useCustomTimeRange, (useCustom) => {\n  console.log(`Time range mode changed to: ${useCustom ? 'Custom Range' : 'Current Day'}`);\n  if (useCustom && !customTimeRange.value) {\n    // If switching to custom but no custom range is set, set a default\n    const start = singleDateSelected.value.setHours(0, 0, 0, 0);\n    const end = singleDateSelected.value.setHours(23, 59, 59, 999);\n    customTimeRange.value = {\n      id: v4(),\n      name: `Time Range ${timeRangeCount}`,\n      description: `Current Day (${new Date(start).toLocaleDateString()})`,\n      range: [{ start, end }]\n    };\n  }\n});\n</script>\n  \n<style lang=\"less\">\n@font-face {\n  font-family: \"Highway Gothic Narrow\";\n  src: url(\"./assets/HighwayGothicNarrow.ttf\");\n}\n\n// import Lexand from google fonts\n// @import url('https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap');\n\n:root {\n  // font-size: clamp(14px, 1.7vw, 16px);\n  // --default-font-size: 1rem; // we don't use this\n  font-size: 16px; // this is the standard browser default\n  --default-line-height: clamp(1rem, min(2.2vh, 2.2vw), 1.6rem); // we don't use this\n  --smithsonian-blue: #009ade;\n  --smithsonian-yellow: #ffcc33;\n  --info-background: #092088;\n  --map-height: 500px;\n  --tempo-red: #b60e32;\n}\n\n.dp__theme_dark {\n  --dp-primary-text-color: #fff !important; // selected date text\n  --dp-primary-color: var(--accent-color) !important; // selected date background\n}\n\n.dp__month_year_select,\n.dp__calendar_item {\n  color: #97c8f1 !important; // selectable date text & Month/Year\n  font-weight: 800 !important;\n}\n\n.dp__cell_disabled {\n  color: #888 !important;\n  font-weight: 400;\n}\n\nbutton.dp__action-latest {\n  color: white;\n  background: var(--dp-primary-color);\n}\n\nbutton.dp__action-latest[disabled] {\n  background: var(--dp-disabled-color);\n  color: #ccc;\n  \n}\n\nhtml {\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  background-color: #000;\n  overflow: hidden;\n\n\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  &::-webkit-scrollbar {\n    width: 0;\n    height: 0\n  }\n}\n\nbody {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  overflow: auto;\n\n  font-family: Verdana, Arial, Helvetica, sans-serif;\n}\n\na {\n  text-decoration: none;\n  color: var(--smithsonian-yellow);\n}\n\nul {\n  margin-left: 1rem;\n}\n\n#intro-background {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100% !important;\n  height: 100% !important;\n  background-color: rgba(0, 0, 0, 0.7);\n  z-index: 100;\n}\n\n.gradient-background {\n  // rotated translucent background gradient\n  background: linear-gradient(45deg,\n      rgb(14, 30, 40),\n      rgb(22, 50, 65),\n      rgb(30 70 90));\n}\n\n#introduction-overlay {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translateX(-50%) translateY(-50%);\n  height: fit-content;\n  // outline: 5px solid var(--accent-color);\n  border-radius: 1em;\n  z-index: 1000;\n\n  @media (max-width: 700px) {\n    width: 95%;\n    padding: 3em 1em 1em;\n  }\n\n  @media (min-width: 701px) {\n    width: 75%;\n    padding: 3em 2em 2em;\n  }\n\n  .span-accent {\n    color: var(--accent-color);\n  }\n\n\n  //font-size: calc(1.1 * var(--default-font-size));\n  // line-height: var(--default-line-height);\n\n  .v-list-item {\n    color: #eee;\n  }\n\n  .intro-text {\n    color: white;\n    font-size: 1em;\n    line-height: 1.5em;\n  }\n\n  strong {\n    color: white;\n  }\n\n  div#intro-bottom-controls {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    align-items: center;\n\n    gap: 1em;\n    margin-top: 0.5em;\n\n    .v-btn.v-btn--density-default {\n      max-height: calc(1.6 * var(--default-line-height));\n    }\n\n    .v-btn--size-default {\n      font-size: calc(0.9 * var(--default-font-size));\n    }\n\n    #intro-next-button {\n      background-color: rgba(18, 18, 18, .5);\n    }\n  }\n}\n\n#privacy-popup-dialog {\n\n  .v-card-text {\n    color: #BDBDBD;\n  }\n\n  .v-overlay__content {\n    font-size: var(--default-font-size);\n    background-color: purple;\n    position: absolute;\n    bottom: 0;\n    right: 0;\n  }\n\n  .v-btn--size-default {\n      font-size: calc(0.9 * var(--default-font-size));\n    }  \n\n  .v-card-actions .v-btn {\n    padding: 0 4px;\n  }\n}\n\n#splash-screen {\n  color: #E0E0E0;\n\n  justify-content: space-around;\n  align-content: center;\n  padding-top: 4rem;\n  padding-bottom: 1rem;\n\n  font-family: 'Highway Gothic Narrow', 'Roboto', sans-serif;\n\n  div {\n    margin-inline: auto;\n    text-align: center;\n  }\n\n  // make a paragraph inside the div centered horizontally and vertically\n  p {\n    font-family: 'Highway Gothic Narrow', 'Roboto', sans-serif;\n    font-weight: bold;\n    vertical-align: middle;\n  }\n\n  #first-splash-row {\n    width: 100%;\n    font-size: 1.25em;\n  }\n\n  #splash-screen-text {\n    // in the grid, the text is in the 2nd column\n    display: flex;\n    flex-direction: column;\n    line-height: 130%;\n    font-size: 2em;\n    color: var(--smithsonian-yellow);\n  }\n\n  .splash-get-started {\n    border: 2px solid white;\n    font-size: 1.5em;\n    margin-top: 10%;\n    margin-bottom: 2%;\n    font-weight: bold !important;\n  }\n\n  #splash-screen-acknowledgements {\n    margin-top: 3rem;\n    font-size: calc(1.7 * var(--default-font-size));\n    line-height: calc(1.5 * var(--default-line-height));\n    width: 80%;\n    color: var(--smithsonian-yellow);\n  }\n\n  #splash-screen-logos {\n    margin-block: 0.75em;\n\n    /* format for including more inline logos */\n    display: flex; // place on same line\n    justify-content: center; // align center\n\n    >* {\n      margin-inline: 0; // counteract margin-inline: auto from #splash-screen div\n    }\n\n    /* ************ */\n\n    img {\n      height: 5vmin;\n      vertical-align: middle;\n      margin: 2px;\n    }\n\n    @media only screen and (max-width: 600px) {\n      img {\n        height: 24px;\n      }\n    }\n\n    svg {\n      vertical-align: middle;\n      height: 24px;\n    }\n  }\n}\n\n#intro-window-close-button {\n  position: absolute;\n  top: 0.25em;\n  right: 0.25em;\n\n  &:hover {\n    cursor: pointer;\n  }\n}\n\n#main-content {\n  position: fixed;\n  width: 100%;\n  height: var(--app-content-height);\n  overflow: auto;\n  transition: height 0.1s ease-in-out;\n}\n\n#app {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  overflow: hidden;\n}\n\n#map {\n  width: 100%;\n  height: calc(100% - 48px);\n}\n\n// define the layout\n.content-with-sidebars {\n  position: relative;\n  padding: 0;\n\n  display: grid;\n  grid-template-columns: 0 .8fr .3fr;\n  grid-template-rows: 70px var(--map-height) 78px .5fr .5fr;\n  gap: 20px 10px;\n\n  >* {\n    background-color: transparent;\n  }\n\n  >div {\n    outline: 1px solid transparent;\n  }\n\n  #side-panel {\n    overflow-y: auto;\n    margin-left: 1.5rem;\n    grid-column: 3 / 4;\n    grid-row: 2 / 6;\n  }\n\n  #logo-title {\n    display: flex;\n    align-items: center;\n    grid-column: 2 / 4;\n    grid-row: 1 / 2;\n    gap: 10px;\n  }\n\n  #menu-area {\n    // grid-column: 3 / 4;\n    // grid-row: 1 / 2;\n    // // border: 1px solid red;\n    display: flex;\n    justify-self: end;\n    gap: 1rem;\n    align-items: center;\n  }\n\n  #where {\n    display: none;\n    grid-column: 1 / 2;\n    grid-row: 2 / 3;\n  }\n\n  #map-container {\n    grid-column: 2 / 3;\n    grid-row: 2 / 3;\n  }\n\n  #when {\n    display: none;\n    grid-column: 1 / 2;\n    grid-row: 3 / 4;\n  }\n\n  #slider-row {\n    grid-column: 2 / 3;\n    grid-row: 3 / 4;\n  }\n\n  #information {\n    padding: 1rem;\n    grid-column: 2 / 3;\n    grid-row: 4 / 6;\n  }\n\n}\n\n// style the content \n#main-content {\n  padding: 2rem;\n}\n\n.content-with-sidebars {\n  font-family: \"Lexend\", sans-serif;\n  font-optical-sizing: auto;\n  font-weight: normal;\n  font-style: normal;\n  background-color: transparent;\n  height: calc(100% - 4rem);\n}\n\n#title {\n  color: var(--smithsonian-yellow);\n  font-weight: 600;\n  font-size: 2.5rem;\n  text-align: left;\n  text-wrap: nowrap;\n  flex-grow: 1;\n}\n\na[href=\"https://tempo.si.edu\"]>img {\n  // display: inline;\n  height: 70px !important;\n  width: auto !important;\n}\n\n#information {\n  border-radius: 10px;\n  padding-inline: 1rem;\n  // margin-right: 200px;\n}\n\na {\n  text-decoration: underline;\n  font-weight: bold;\n  color: var(--accent-color-2);\n}\n\n#dataset-sections {\n  padding: 0.5rem 1rem;\n  border: 5px solid var(--tempo-red);\n  border-radius: 10px;\n  margin: 10px;\n}\n\n// prevent overflows of the content\n#add-region-time {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  gap: 5px;\n}\n\n#sample-info {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  gap: 5px;\n  padding: 0.5rem;\n  border-radius: 10px;\n}\n\n#date-radio {\n  padding-block: 0.5rem;\n}\n\n#date-radio div.highlighted label {\n  font-size: 1.2em;\n  font-weight: bold;\n  border-radius: 5px;\n  color: var(--smithsonian-yellow);\n  opacity: 1;\n}\n\n#map-view {\n  padding: 0.5rem 1rem;\n  margin: 10px;\n  border: 5px solid var(--info-background);\n  border-radius: 10px;\n\n  h2 {\n    margin: 0;\n  }\n}\n\n#locations-of-interest {\n  border: 1px solid black;\n  padding-block: 0.5rem;\n  padding-inline: 1rem;\n  height: fit-content;\n\n  h3 {\n    font-weight: 500;\n  }\n}\n\n.big-label {\n  font-size: 2rem;\n  text-align: right;\n  margin-right: 0.5rem;\n  align-self: end;\n  color: var(--smithsonian-blue);\n}\n\n#when {\n  align-self: start;\n}\n\n#slider-row,\n#when {\n  margin-top: 1.5rem;\n}\n\n#slider-row {\n  margin-left: 3rem;\n}\n\n#map-container {\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  padding-right: 10px;\n\n  #map {\n    flex-basis: 80%;\n    flex-grow: 1;\n    flex-shrink: 1;\n  }\n\n  #location-and-sharing {\n    position: absolute;\n    bottom: 0;\n    z-index: 1000;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    gap: 0.5rem;\n    width: fit-content;\n  }\n\n  .forward-geocoding-container {\n    width: 250px;\n    border: 2px solid black;\n  }\n\n  #map-show-hide-controls {\n    z-index: 1000;\n    position: absolute;\n    top: calc(48px + 1rem);\n    right: 80px;\n  }\n\n  #map-legend {\n    position: absolute;\n    top: 48px;\n    right: 80px;\n    width: fit-content;\n    z-index: 1000;\n\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n\n    color: black;\n    background-color: #fff5;\n    padding-left: 0.5rem;\n    padding-right: 0.25rem;\n\n    backdrop-filter: blur(5px);\n\n    hr.line-legend {\n      display: inline-block;\n      border: 0.5px solid #c10124;\n      width: 3rem;\n    }\n  }\n\n  .colorbar-container {\n    flex-grow: 0;\n    flex-shrink: 1;\n\n    .unit-label {\n      font-size: .95em;\n    }\n  }\n\n  #la-fires {\n    z-index: 1000;\n    position: absolute;\n    right: 80px;\n    bottom: 1rem;\n\n  }\n}\n\n.colorbar-container sub {\n    vertical-align: sub !important;\n    line-height: 1.25  !important;\n  }\n\n.colorbar-container sup {\n    vertical-align: super  !important;\n    line-height: 1.25  !important;\n  }\n.colorbar-container sub ,\n.colorbar-container sup {\n    top: 0  !important;\n  }\n\n#slider-row {\n  display: flex;\n  flex-direction: row;\n  padding-left: 0;\n\n  >#play-pause-button {\n    height: fit-content;\n    align-self: center;\n    padding-inline: 0.5rem;\n    margin-left: 0.75rem;\n    width: 2.5rem;\n    color: var(--accent-color);\n    border: 2px solid var(--accent-color);\n  }\n\n  #play-pause-button[disabled] {\n    filter: grayscale(100%);\n    cursor: progress;\n    cursor: not-allowed;\n  }\n\n  .icon-wrapper {\n    padding-inline: 0.5rem !important;\n  }\n}\n\n.time-slider {\n\n  .v-slider-thumb {\n\n  .v-slider-thumb__surface::after {\n    background-image: url(\"./assets/smithsonian.png\");\n      background-size: 30px 30px;\n      height: 30px;\n      width: 30px;\n    }\n\n    .v-slider-thumb__label {\n      background-color: var(--accent-color-2);\n      border: 0.25rem solid var(--accent-color);\n      width: max-content;\n      height: 2.5rem;\n      font-size: 1rem;\n\n      &::before {\n        color: var(--accent-color);\n      }\n    }\n  }\n\n  .v-slider-track__tick {\n    background-color: var(--accent-color);\n    /* Change color */\n    height: 15px;\n    /* Change size */\n    width: 4px;\n    margin-top: 0 !important;\n    // top: -10%;\n  }\n\n  .v-slider {\n\n    .v-slider.v-input--horizontal {\n      grid-template-rows: auto 0px;\n    }\n\n    .v-slider.v-input--horizontal .v-slider-thumb__label {\n      // top: calc(var(--v-slider-thumb-size) * 1.5);\n      z-index: 2000;\n    }\n\n    .v-slider.v-input--horizontal .v-slider-thumb__label::before {\n      border-left: 6px solid transparent;\n      border-right: 6px solid transparent;\n      border-bottom: 6px solid transparent;\n      border-top: 6px solid currentColor;\n      bottom: -15px;\n    }\n  }\n}\n\n#opacity-slider-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  padding-left: 7%;\n  padding-right: 7%;\n  gap: 2px;\n\n  .v-slider {\n    margin-right: 0;\n    width: 100%;\n  }\n\n  #opacity-slider-label {\n    opacity: 0.7;\n    width: fit-content;\n  }\n}\n\n#body-logos {\n  margin-bottom: -1rem;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n\n  img {\n    height: 35px !important;\n    vertical-align: middle;\n    margin: 2px;\n  }\n}\n\n#icons-container>a[href=\"https://worldwidetelescope.org/home/\"] {\n  display: none;\n}\n\n.v-selection-control {\n  z-index: auto;\n\n}\n\n.v-radio-group .v-input__details {\n  display: none;\n}\n\n.v-radio-group .v-selection-control {\n  label {\n    width: 100%;\n  }\n}\n\n.rounded-icon-wrapper {\n  height: fit-content;\n  align-self: center;\n  padding-inline: 0.5rem;\n  // margin-left: 0.75rem;\n  width: 2.5rem;\n  color: var(--accent-color);\n  border: 2px solid var(--accent-color);\n  border-radius: 20px;\n}\n\ni.mdi-menu-down {\n  color: var(--smithsonian-blue);\n}\n\n// From Sara Soueidan (https://www.sarasoueidan.com/blog/focus-indicators/) & Erik Kroes (https://www.erikkroes.nl/blog/the-universal-focus-state/)\n:focus-visible:not(.v-field__input input, .v-overlay__content),\nbutton:focus-visible,\n.focus-visible,\n.v-selection-control--focus-visible .v-selection-control__input {\n  outline: 9px double white !important;\n  box-shadow: 0 0 0 6px black !important;\n  border-radius: .125rem;\n}\n\n.controls-card {\n  padding: 1rem;\n  border: 1px solid #068ede;\n}\n\n//  mobile styles\n\n// ========= DEFINE MOBILE STYLES =========\n@media (max-width: 1180px) {\n\n  .content-with-sidebars {\n    grid-template-columns: 0px 0.7fr 0.3fr;\n    grid-template-rows: 3.5rem var(--map-height) 78px .5fr .5fr;\n\n    #when {\n      display: none;\n    }\n\n    #where {\n      display: none;\n    }\n\n    #title {\n      text-wrap: wrap;\n      font-size: 2rem;\n      line-height: 1.25;\n      margin-left: 10px;\n    }\n\n    #slider-row {\n      margin-left: 3rem;\n    }\n\n    a[href=\"https://tempo.si.edu\"]>img {\n      height: 70px !important;\n      width: auto !important;\n    }\n\n  }\n}\n\n@media (max-width: 750px) {\n  :root {\n    --map-height: 60vh;\n    --map-height: 60dvh;\n    --map-height: 60svh;\n    font-size: 14px;\n  }\n\n  #main-content {\n    padding: 1rem;\n  }\n\n  #introduction-overlay .v-window {\n    max-height: 75vh;\n    max-height: 75dvh;\n    max-height: 75sdvh;\n    overflow-y: scroll;\n  }\n\n  #introduction-overlay .intro-text {\n    font-size: min(1.15em, 2vw);\n  }\n\n  #introduction-overlay ul li {\n    margin-block-start: 1.15em;\n  }\n\n  .content-with-sidebars {\n    gap: 10px;\n    // padding-inline: 1rem;\n\n    #menu-area {\n      display: flex;\n      flex-direction: column-reverse;\n      gap: 1rem;\n      align-items: flex-end;\n    }\n\n    #map-container #map-show-hide-controls {\n      right: 5px\n    }\n\n    #where {\n      display: none;\n    }\n\n\n    #when {\n      display: none;\n    }\n\n\n    // #body-logos {\n    //   grid-column: 1 / 2;\n    //   grid-row: 7 / 8;\n    // }\n  }\n\n  .content-with-sidebars {\n\n    #slider-row {\n      margin-left: 4rem;\n      margin-right: 1rem;\n      padding-top: 10px;\n      align-items: center;\n    }\n\n    #user-options {\n      margin: 0;\n      width: auto;\n    }\n\n    #bottom-options {\n      margin: 0;\n    }\n\n    #information {\n      font-size: 1em;\n    }\n\n\n    #title {\n      font-size: 2rem;\n      margin-left: 15px;\n      text-wrap: wrap;\n\n    }\n\n  }\n\n\n  #map-container {\n    display: flex;\n    flex-direction: column;\n\n\n    #map-contents {\n      position: relative;\n    }\n\n    #map-legend {\n      right: 0;\n    }\n\n    .colorbar-container-horizontal {\n      margin-top: 1rem;\n      margin-bottom: 0.5rem;\n      z-index: 5000;\n      --height: 0.75rem;\n    }\n\n  }\n\n\n}\n\n/* Leaflet crispness override */\n// @JobLeonard - https://github.com/Leaflet/Leaflet/issues/5883#issue-269071844\n// .leaflet-container .leaflet-overlay-pane svg,\n// .leaflet-container .leaflet-marker-pane img,\n// .leaflet-container .leaflet-shadow-pane img,\n// .leaflet-container .leaflet-tile-pane img,\n.leaflet-container img.leaflet-image-layer {\n  max-width: none !important;\n  /* Preserve crisp pixels with scaled up images */\n  image-rendering: optimizeSpeed;\n  /* Legal fallback */\n  image-rendering: -moz-crisp-edges;\n  /* Firefox        */\n  image-rendering: -o-crisp-edges;\n  /* Opera          */\n  image-rendering: -webkit-optimize-contrast;\n  /* Safari         */\n  image-rendering: optimize-contrast;\n  /* CSS3 Proposed  */\n  image-rendering: crisp-edges;\n  /* CSS4 Proposed  */\n  image-rendering: pixelated;\n  /* CSS4 Proposed  */\n  -ms-interpolation-mode: nearest-neighbor;\n  /* IE8+           */\n}\n\n.cds-snackbar-alert {\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  pointer-events: auto;\n  z-index: 999;\n}\n\n.snackbar-alert-ul {\n  margin-left: 1em;\n}\n\n@media (max-width: 750px) {\n  .cds-snackbar-alert {\n    top: -1rem;\n  }\n}\n\n.menu-button,\n.share-button,\n.whats-new-button {\n  outline: 2px solid var(--smithsonian-yellow) !important;\n  height: 2rem !important;\n}\n\n.whats-new-button {\n  padding-inline: 10px;\n}\n\ndiv.callout-wrapper {\n  display: content;\n  // overflow-x: hidden;  \n}\n\n.menu-link {\n  text-decoration: none;\n}\n\n#loading-circle-progress-container {\n  font-size: large;\n}\n\n#la-fires {\n  max-width: 20ch;\n\n  .v-btn {\n    height: fit-content; // calc(var(--v-btn-height) + 18px);\n    padding-block: 5px;\n  }\n\n  .v-btn__content {\n    white-space: normal;\n\n  }\n}\n\n.la-fires-cds-dialog .cds-dialog-card .v-card-text {\n  height: unset;\n}\n\n.pulse {\n  animation-name: pulse;\n  animation-duration: 1.5s;\n  animation-iteration-count: 3;\n}\n\n\n@keyframes pulse {\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(1.2);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n}\n\ncanvas.maplibregl-canvas {\n  background-color: whitesmoke;\n}\n\n.dataset-loading {\n  display: flex;\n  flex-direction: row;\n}\n\n.dataset-loading-failed {\n  width: 70%;\n  max-width: calc(100% - 32px);\n}\n</style>\n\n","import script from \"./TempoLite.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./TempoLite.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./TempoLite.vue?vue&type=style&index=0&id=792e84fe&lang=less\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, renderSlot as _renderSlot, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"id\"]\nconst _hoisted_2 = { class: \"colorbar-labels\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    id: _ctx.id,\n    class: \"colorbar-container\"\n  }, [\n    _createElementVNode(\"div\", {\n      style: _normalizeStyle({'--background-color': _ctx.backgroundColor}),\n      class: \"colorbar\"\n    }, null, 4),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", null, [\n        _renderSlot(_ctx.$slots, \"start\", {}, () => [\n          _createTextVNode(_toDisplayString(_ctx.startValue), 1)\n        ], true)\n      ]),\n      _createElementVNode(\"div\", null, [\n        _renderSlot(_ctx.$slots, \"label\", {}, () => [\n          _createTextVNode(_toDisplayString(_ctx.label), 1)\n        ], true)\n      ]),\n      _createElementVNode(\"div\", null, [\n        _renderSlot(_ctx.$slots, \"end\", {}, () => [\n          _createTextVNode(_toDisplayString(_ctx.endValue), 1)\n        ], true)\n      ])\n    ])\n  ], 8, _hoisted_1))\n}","\n<template>\n<div :id=\"id\" class=\"colorbar-container\">\n  <div \n    :style=\"{'--background-color': backgroundColor}\"\n    class=\"colorbar\">\n  </div>\n  <div class=\"colorbar-labels\"> \n    <div><slot name=\"start\">{{ startValue }}</slot></div>\n    <div>\n      <slot name=\"label\">{{ label }}</slot>\n    </div>\n    <div><slot name=\"end\">{{ endValue }}</slot></div>\n  </div>\n</div>\n</template>\n\n\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from 'vue';\n\n// type for a function that maps to either a  (color, opacity) pair or just a color\ntype ColorFunction = (x: number) => string;\ntype ExtendType = boolean | 'start' | 'end' | 'both';\n\nexport default defineComponent({\n  name: 'ColorBar',\n  props: {\n    \n    name: {\n      type: String,\n      default: null\n    },\n    \n    cmapName: {\n      type: String,\n      default: 'none'\n    },\n    nsteps: {\n      type: Number,\n      default: 20\n    },\n    label: {\n      type: String,\n      default: 'Colorbar'\n    },\n    \n    cmap: {\n      type: Function as PropType<ColorFunction>,\n      default: (x: number) => `rgb(255,0,${x * 255})`\n    },\n    \n    backgroundColor: {\n      type: String,\n      default: '#5c5229'\n    },\n    \n    startValue: {\n      type: String,\n      default: '0%'\n    },\n    \n    endValue: {\n      type: String,\n      default: '100%'\n    },\n    \n    extend: {\n      type: (Boolean || String) as PropType<ExtendType>,\n      default: () => 'both'\n    }\n    \n  },\n  \n  \n  mounted() {\n    this.colorbarGradient();\n  },\n  \n  computed: {\n    id() {\n      return this.name ? `colorbar-${this.name}` : `colorbar-${Math.random().toString(36).slice(2)}`;\n    },\n    \n    triangles() {\n      return this.extend !== false;\n    },\n    \n    showStartTriangle() {\n      return this.extend === 'both' || this.extend === 'start' || this.extend;\n    },\n    \n    showEndTriangle() {\n      return this.extend === 'both' || this.extend === 'end' || this.extend;\n    }\n  },\n  \n  \n  \n  methods: {\n    \n    cssLinearGradientFromCmap() {\n      const n = this.nsteps;\n      const colors = Array.from({length: n+1}, (_, i) => {\n        const co = this.cmap(i/n);\n        const [color, _opacity] = Array.isArray(co) ? co : [co,1];\n        return `${color} ${i*100/n}%`;\n      });\n      return `linear-gradient(to top, ${colors.join(', ')})`;\n    },\n    \n    colorbarGradient() {\n      const colorbar = document.querySelector('#' + this.id + '> .colorbar');\n      if (!colorbar) {\n        return;\n      }\n      // remove all the children of the colorbar\n      while (colorbar.firstChild) {\n        colorbar.removeChild(colorbar.firstChild);\n      }\n      const div = document.createElement('div');\n      div.className = 'colorbar-chunk';\n      div.style.background = this.cssLinearGradientFromCmap();\n      div.style.height = '100%';\n      \n      \n      // add the start and end triangles\n      if (this.triangles) {\n        const start = document.createElement('div');\n        start.className = 'colorbar-start';\n        const end = document.createElement('div');\n        end.className = 'colorbar-end';\n        colorbar.appendChild(end);\n        colorbar.appendChild(div);\n        colorbar.appendChild(start);\n      \n        if (start && this.showStartTriangle) {\n          start.style.backgroundColor = this.cmap(0);\n          this.styleDownTriangle(start as HTMLDivElement);\n        }\n        if (end && this.showEndTriangle) {\n          end.style.backgroundColor = this.cmap(1);\n          this.styleUpTriangle(end as HTMLDivElement);\n        }\n      } else {\n        colorbar.appendChild(div);\n      }\n    },\n    \n    styleUpTriangle(div: HTMLDivElement) {\n      const width = div.offsetWidth;\n      let height = div.offsetHeight;\n      const color = div.style.backgroundColor;\n      height = Math.min(Math.max(height, 15), 0.86 * width);\n      div.style.backgroundColor = 'transparent';\n      div.style.borderLeft = `${width/2}px solid transparent`;\n      div.style.borderRight = `${width/2}px solid transparent`;\n      div.style.borderBottom = `${height}px solid ${color}`;\n    },\n    \n    styleDownTriangle(div: HTMLDivElement) {\n      const width = div.offsetWidth;\n      let height = div.offsetHeight;\n      const color = div.style.backgroundColor;\n      height = Math.min(Math.max(height, 15), 0.86 * width);\n      div.style.backgroundColor = 'transparent';\n      div.style.borderLeft = `${width/2}px solid transparent`;\n      div.style.borderRight = `${width/2}px solid transparent`;\n      div.style.borderTop = `${height}px solid ${color}`;\n    }\n  },\n  \n  watch: {\n    nsteps() {\n      this.colorbarGradient();\n    },\n    cmap() {\n      this.colorbarGradient();\n    },\n    cmapName() {\n      this.colorbarGradient();\n    },\n  }\n  \n});\n</script>\n\n<style scoped>\n/*\n* Prefixed by https://autoprefixer.github.io\n* PostCSS: v8.4.14,\n* Autoprefixer: v10.4.7\n* Browsers: last 5 version\n*/\n\n.colorbar-container {\n  position: relative;\n  display: inline-block;\n  --width: 1.25em;\n  width: -webkit-fit-content;\n  width: -moz-fit-content;\n  width: fit-content;\n  margin-left: 5px;\n  margin-right: 1em;\n  background: var(--background-color);\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n\n.colorbar {\n  height: 100%;\n  width: var(--width);\n  margin-left: 5px;\n  margin-right: 1em;\n  background: var(--background-color);\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-filter: drop-shadow(0 0 0.1rem white);\n          filter: drop-shadow(0 0 0.1rem white);\n}\n\n/* make .colorbar-start and .colorbar-end triangles */\n.colorbar-chunk {\n  \n  -ms-flex-negative: 1;\n  \n      flex-shrink: 1;\n  -webkit-box-flex:1;\n      -ms-flex-positive:1;\n          flex-grow:1;\n}\n\n.colorbar-start {\n  -ms-flex-preferred-size: min-content;\n      flex-basis: min-content;\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n  -webkit-box-flex:1;\n      -ms-flex-positive:1;\n          flex-grow:1;\n}\n\n.colorbar-end {\n  -ms-flex-preferred-size: min-content;\n      flex-basis: min-content;\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n  -webkit-box-flex: 1;\n      -ms-flex-positive: 1;\n          flex-grow: 1;\n}\n\n\n\n.colorbar-labels {\n  position: absolute;\n  width: -webkit-max-content;\n  width: -moz-max-content;\n  width: max-content;\n  height: 100%;\n  top: 50%;\n  line-height: 1.75;\n  /* right: -1.5ch; */\n  -webkit-transform-origin: top center;\n      -ms-transform-origin: top center;\n          transform-origin: top center;\n  -webkit-transform: rotate(180deg) translate(-100%,-50%);\n      -ms-transform: rotate(180deg) translate(-100%,-50%);\n          transform: rotate(180deg) translate(-100%,-50%);\n  -webkit-writing-mode: vertical-rl;\n      -ms-writing-mode: tb-rl;\n          writing-mode: vertical-rl;\n  \n  display: -webkit-box;\n  \n  display: -ms-flexbox;\n  \n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  }\n</style>\n","import { render } from \"./ColorBar.vue?vue&type=template&id=4b188667&scoped=true&ts=true\"\nimport script from \"./ColorBar.vue?vue&type=script&lang=ts\"\nexport * from \"./ColorBar.vue?vue&type=script&lang=ts\"\n\nimport \"./ColorBar.vue?vue&type=style&index=0&id=4b188667&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4b188667\"]])\n\nexport default __exports__","import { renderSlot as _renderSlot, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"id\"]\nconst _hoisted_2 = { class: \"colorbar-labels\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    id: _ctx.id,\n    class: \"colorbar-container-horizontal\"\n  }, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", null, [\n        _renderSlot(_ctx.$slots, \"start\", {}, () => [\n          _createTextVNode(_toDisplayString(_ctx.startValue), 1)\n        ], true)\n      ]),\n      _createElementVNode(\"div\", null, [\n        _renderSlot(_ctx.$slots, \"label\", {}, () => [\n          _createTextVNode(_toDisplayString(_ctx.label), 1)\n        ], true)\n      ]),\n      _createElementVNode(\"div\", null, [\n        _renderSlot(_ctx.$slots, \"end\", {}, () => [\n          _createTextVNode(_toDisplayString(_ctx.endValue), 1)\n        ], true)\n      ])\n    ]),\n    _createElementVNode(\"div\", {\n      style: _normalizeStyle({'--background-color': _ctx.backgroundColor}),\n      class: \"colorbar\"\n    }, null, 4)\n  ], 8, _hoisted_1))\n}","\n<template>\n<div :id=\"id\" class=\"colorbar-container-horizontal\">\n  <div class=\"colorbar-labels\"> \n    <div><slot name=\"start\">{{ startValue }}</slot></div>\n    <div>\n      <slot name=\"label\">{{ label }}</slot>\n    </div>\n    <div><slot name=\"end\">{{ endValue }}</slot></div>\n  </div>\n  <div \n    :style=\"{'--background-color': backgroundColor}\"\n    class=\"colorbar\">\n  </div>\n  \n</div>\n</template>\n\n\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from 'vue';\n\n// type for a function that maps to either a  (color, opacity) pair or just a color\ntype ColorFunction = (x: number) => string;\ntype ExtendType = boolean | 'start' | 'end' | 'both';\n\nexport default defineComponent({\n  name: 'ColorBar',\n  props: {\n    \n    name: {\n      type: String,\n      default: null\n    },\n    \n    cmapName: {\n      type: String,\n      default: 'none'\n    },\n    \n    nsteps: {\n      type: Number,\n      default: 20\n    },\n    label: {\n      type: String,\n      default: 'Colorbar'\n    },\n    \n    cmap: {\n      type: Function as PropType<ColorFunction>,\n      default: (x: number) => `rgb(255,0,${x * 255})`\n    },\n    \n    backgroundColor: {\n      type: String,\n      default: '#5c5229'\n    },\n    \n    startValue: {\n      type: String,\n      default: '0%'\n    },\n    \n    endValue: {\n      type: String,\n      default: '100%'\n    },\n    \n    extend: {\n      type: (Boolean || String) as PropType<ExtendType>,\n      default: () => 'both'\n    }\n    \n  },\n  \n  \n  mounted() {\n    this.colorbarGradient();\n    // console.log(this.$el);\n  },\n  \n  computed: {\n    id() {\n      return this.name ? `colorbar-${this.name}` : `colorbar-${Math.random().toString(36).slice(2)}`;\n    },\n    \n    triangles() {\n      return this.extend !== false;\n    },\n    \n    showStartTriangle() {\n      return this.extend === 'both' || this.extend === 'start' || this.extend;\n    },\n    \n    showEndTriangle() {\n      return this.extend === 'both' || this.extend === 'end' || this.extend;\n    }\n  },\n  \n  \n  \n  methods: {\n    \n    cssLinearGradientFromCmap() {\n      const n = this.nsteps;\n      const colors = Array.from({length: n+1}, (_, i) => {\n        const co = this.cmap(i/n);\n        const [color, _opacity] = Array.isArray(co) ? co : [co,1];\n        return `${color} ${i*100/n}%`;\n      });\n      return `linear-gradient(to right, ${colors.join(', ')})`;\n    },\n    \n    colorbarGradient() {\n      const colorbar = document.querySelector('#' + this.id + '> .colorbar');\n      if (!colorbar) {\n        return;\n      }\n      // remove all the children of the colorbar\n      while (colorbar.firstChild) {\n        colorbar.removeChild(colorbar.firstChild);\n      }\n      const div = document.createElement('div');\n      // const div = this.$el.querySelector('.colorbar-chunk');\n      div.className = 'colorbar-chunk';\n      div.style.background = this.cssLinearGradientFromCmap();\n      div.style.height = 'var(--height)';\n      div.style.width = '100%';\n      \n      \n      // add the start and end triangles\n      if (this.triangles) {\n        const start = document.createElement('div');\n        start.className = 'colorbar-start';\n        const end = document.createElement('div');\n        end.className = 'colorbar-end';\n        colorbar.appendChild(start);\n        colorbar.appendChild(div);\n        colorbar.appendChild(end);\n        end && this.showEndTriangle;\n        if (start && this.showStartTriangle) {\n          start.style.backgroundColor = this.cmap(0);\n          this.styleLeftTriangle(start as HTMLDivElement);\n        }\n        if (end && this.showEndTriangle) {\n          end.style.backgroundColor = this.cmap(1);\n          this.styleRightTriangle(end as HTMLDivElement);\n        }\n      } else {\n        colorbar.appendChild(div);\n      }\n    },\n    \n    styleColorbarChunk(div: HTMLDivElement) {\n      div.style.background = this.cssLinearGradientFromCmap();\n      div.style.height = 'var(--height)';\n      div.style.flexGrow = '1';\n      div.style.flexShrink = '1';\n      \n    },\n    \n    styleUpTriangle(div: HTMLDivElement) {\n      const width = div.offsetWidth;\n      let height = div.offsetHeight;\n      const color = div.style.backgroundColor;\n      height = Math.min(Math.max(height, 15), 0.86 * width);\n      div.style.backgroundColor = 'transparent';\n      div.style.borderLeft = `${width/2}px solid transparent`;\n      div.style.borderRight = `${width/2}px solid transparent`;\n      div.style.borderBottom = `${height}px solid ${color}`;\n    },\n    \n    styleDownTriangle(div: HTMLDivElement) {\n      const width = div.offsetWidth;\n      let height = div.offsetHeight;\n      const color = div.style.backgroundColor;\n      height = Math.min(Math.max(height, 15), 0.86 * width);\n      div.style.backgroundColor = 'transparent';\n      div.style.borderLeft = `${width/2}px solid transparent`;\n      div.style.borderRight = `${width/2}px solid transparent`;\n      div.style.borderTop = `${height}px solid ${color}`;\n      div.style.flexShrink = '0';\n      div.style.flexGrow = '1';\n    },\n    \n    styleLeftTriangle(div: HTMLDivElement) {\n      div.style.width=\"var(--height)\";\n      div.style.height=\"var(--height)\";\n      const height = div.offsetHeight;\n      const color = div.style.backgroundColor;\n      div.style.backgroundColor = 'transparent';\n      \n      div.style.borderTop = `${height/2}px solid transparent`;\n      div.style.borderBottom = `${height/2}px solid transparent`;\n      div.style.borderRight = `${height}px solid ${color}`;\n    },\n    \n    styleRightTriangle(div: HTMLDivElement) {\n      div.style.width=\"var(--height)\";\n      div.style.height=\"var(--height)\";\n      const height = div.offsetHeight;\n      const color = div.style.backgroundColor;\n      div.style.backgroundColor = 'transparent';\n      \n      div.style.borderTop = `${height/2}px solid transparent`;\n      div.style.borderBottom = `${height/2}px solid transparent`;\n      div.style.borderLeft = `${height}px solid ${color}`;\n    }\n  },\n  \n  watch: {\n    nsteps() {\n      this.colorbarGradient();\n    },\n    cmap() {\n      this.colorbarGradient();\n    },\n    cmapName() {\n      this.colorbarGradient();\n    }\n  }\n  \n});\n</script>\n\n<style scoped>\n/*\n* Prefixed by https://autoprefixer.github.io\n* PostCSS: v8.4.14,\n* Autoprefixer: v10.4.7\n* Browsers: last 5 version\n*/\n\n.colorbar-container-horizontal {\n  position: relative;\n  display: block;\n  --height: 1.25em;\n  width: 100%;\n}\n.colorbar {\n  width: 100%;\n  height: var(--height);\n  background: var(--background-color);\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -webkit-filter: drop-shadow(0 0 0.1rem white);\n          filter: drop-shadow(0 0 0.1rem white);\n}\n\n\n.colorbar-labels {\n  \n  width: calc(100% - 2*var(--height));\n  height: -webkit-max-content;\n  height: -moz-max-content;\n  height: max-content;\n  /* left: 50%; */\n  -webkit-transform-origin: top center;\n      -ms-transform-origin: top center;\n          transform-origin: top center;\n  -webkit-transform: translate(var(--height), 0);\n      -ms-transform: translate(var(--height), 0);\n          transform: translate(var(--height), 0);\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n</style>\n","import { render } from \"./ColorBarHorizontal.vue?vue&type=template&id=7e971f46&scoped=true&ts=true\"\nimport script from \"./ColorBarHorizontal.vue?vue&type=script&lang=ts\"\nexport * from \"./ColorBarHorizontal.vue?vue&type=script&lang=ts\"\n\nimport \"./ColorBarHorizontal.vue?vue&type=style&index=0&id=7e971f46&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7e971f46\"]])\n\nexport default __exports__","import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, mergeProps as _mergeProps, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, renderSlot as _renderSlot, toDisplayString as _toDisplayString, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"info-button-close-icon\" }\nconst _hoisted_2 = { class: \"v-card-info-text ma-3\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_tooltip = _resolveComponent(\"v-tooltip\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_dialog = _resolveComponent(\"v-dialog\")!\n\n  return (_openBlock(), _createBlock(_component_v_dialog, {\n    modelValue: _ctx.dialogVisible,\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.dialogVisible) = $event)),\n    \"max-width\": \"500\"\n  }, {\n    activator: _withCtx(({ props: activatorProps }) => [\n      _createVNode(_component_v_tooltip, {\n        text: _ctx.tooltipTextValue,\n        disabled: !_ctx.showTooltip\n      }, {\n        activator: _withCtx(( { props} ) => [\n          _createVNode(_component_v_icon, _mergeProps({...activatorProps, ...props}, {\n            style: {\"margin-left\":\"1em\",\"font-size\":\"1.3em\",\"color\":\"var(--accent-color)\"},\n            elevation: \"1\",\n            onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.dialogVisible = true)),\n            onKeydown: _ctx.handleKeydown\n          }), {\n            default: _withCtx(() => [...(_cache[3] || (_cache[3] = [\n              _createTextVNode(\" mdi-information-variant-circle-outline \", -1)\n            ]))]),\n            _: 1\n          }, 16, [\"onKeydown\"])\n        ]),\n        _: 2\n      }, 1032, [\"text\", \"disabled\"])\n    ]),\n    default: _withCtx(() => [\n      _createVNode(_component_v_card, { class: \"gradient-background\" }, {\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", _hoisted_1, [\n            _createVNode(_component_v_icon, {\n              class: \"info-button-close-icon__icon\",\n              onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.dialogVisible = false)),\n              onKeydown: _ctx.handleKeydown\n            }, {\n              default: _withCtx(() => [...(_cache[4] || (_cache[4] = [\n                _createTextVNode(\" mdi-close \", -1)\n              ]))]),\n              _: 1\n            }, 8, [\"onKeydown\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_2, [\n            _renderSlot(_ctx.$slots, \"default\", {}, () => [\n              _createTextVNode(_toDisplayString(_ctx.helpText), 1)\n            ])\n          ])\n        ]),\n        _: 3\n      })\n    ]),\n    _: 3\n  }, 8, [\"modelValue\"]))\n}","<template>\n  <v-dialog v-model=\"dialogVisible\" max-width=\"500\">\n    <template v-slot:activator=\"{ props: activatorProps }\">\n      <v-tooltip :text=\"tooltipTextValue\" :disabled=\"!showTooltip\">\n        <template v-slot:activator=\" { props} \">\n        <v-icon \n          v-bind=\"{...activatorProps, ...props}\" \n          style=\"margin-left: 1em;font-size: 1.3em; color: var(--accent-color);\" elevation=\"1\"\n          @click=\"dialogVisible = true\"\n          @keydown=\"handleKeydown\"\n          >\n          mdi-information-variant-circle-outline\n        </v-icon>\n        </template>\n      </v-tooltip>\n    </template>\n    <v-card class=\"gradient-background\">\n      <div class=\"info-button-close-icon\">\n        <v-icon \n          class=\"info-button-close-icon__icon\"\n          @click=\"dialogVisible = false\"\n          @keydown=\"handleKeydown\"\n        >\n          mdi-close\n        </v-icon>\n      </div>\n      <div class=\"v-card-info-text ma-3\">\n        <slot>{{ helpText }}</slot>\n      </div>\n    </v-card>\n  </v-dialog>\n</template>\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: 'InfoButton',\n  props: {\n    helpText: {\n      type: String,\n      required: false\n    },\n    showTooltip: {\n      type: Boolean,\n      required: false,\n      default: true\n    },\n    tooltipText: {\n      type: String,\n      required: false,\n      default: undefined\n    }\n  },\n  \n\n  \n  data() {\n    return {\n      dialogVisible: false,\n      tooltipTextValue: this.tooltipText ?? (this.showTooltip ? 'Learn More' : undefined),\n    };\n  },\n\n  methods: {\n    handleKeydown(event: KeyboardEvent) {\n      if (event.key === 'Enter') {\n        this.dialogVisible = !this.dialogVisible;\n      }\n    },\n  },\n});\n</script>\n\n<style>\n.v-card-info-text {\n  font-size: 1em;\n  line-height: 1.5em;\n  padding-block: 1em;\n  padding-inline: 1.5em;\n  \n  p {\n    margin-block: 0.5em;\n  }\n\n}\n\n.v-card-info-text > p {\n  margin-bottom: 1em;\n}\n\n.info-button-close-icon {\n  position: relative;\n  height: 1em;\n}\n\n.info-button-close-icon__icon {\n  /* position:absolute !important;\n  right:0 !important; */\n  float:right;\n  right: 1em;\n  top: 1em;\n\n  cursor:pointer;\n  \n  padding:1em !important;\n  margin:-1em !important;\n}\n\n.info-button-close-icon__icon:hover {\n  background-color: #f0f0f0;\n  color: black;\n  border-radius: 50%;\n  padding: 0.5em;\n  margin: -0.5em;\n  transition: background-color 0.3s;\n}\n\n</style>","import { render } from \"./InfoButton.vue?vue&type=template&id=5c8d795f&ts=true\"\nimport script from \"./InfoButton.vue?vue&type=script&lang=ts\"\nexport * from \"./InfoButton.vue?vue&type=script&lang=ts\"\n\nimport \"./InfoButton.vue?vue&type=style&index=0&id=5c8d795f&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { aliases, mdi } from 'vuetify/iconsets/mdi';\nimport { createVuetify } from 'vuetify';\n\n// For test use. Do not include createVuetify()\n// see https://next.vuetifyjs.com/en/features/treeshaking/\n//import * as components from 'vuetify/components';\n//import * as directives from 'vuetify/directives';\n\n// Translations provided by Vuetify\nimport { en } from 'vuetify/locale';\n\n// Styles\nimport 'vuetify/styles';\nimport '@mdi/font/css/materialdesignicons.css';\n\nexport default createVuetify({\n  // Icon Fonts\n  icons: {\n    defaultSet: 'mdi',\n    aliases,\n    sets: {\n      mdi,\n    },\n  },\n  locale: {\n    locale: 'en',\n    fallback: 'en',\n    messages: { en },\n  },\n  theme: {\n    defaultTheme: 'dark',\n  },\n});\n\n// Export for test.\n//export { components, directives };\n","import { renderSlot as _renderSlot, resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createCommentVNode as _createCommentVNode, withKeys as _withKeys, createElementVNode as _createElementVNode, mergeProps as _mergeProps, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"cds-snackbar-alert ma-2\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_snackbar = _resolveComponent(\"v-snackbar\")!\n\n  return (!_ctx.hide)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        (!_ctx.hideButton)\n          ? _renderSlot(_ctx.$slots, \"activator\", {\n              key: 0,\n              onClick: _ctx.openDialog,\n              id: \"snackbar-activator-slot\"\n            }, () => [\n              _createVNode(_component_v_btn, {\n                onClick: _ctx.openDialog,\n                color: \"#333\",\n                id: \"snackbar-activator\",\n                size: \"small\"\n              }, {\n                prepend: _withCtx(() => [\n                  _createVNode(_component_v_icon, {\n                    color: \"red\",\n                    icon: \"mdi-alert-octagram\"\n                  })\n                ]),\n                default: _withCtx(() => [\n                  _createTextVNode(\" \" + _toDisplayString(_ctx.label), 1)\n                ]),\n                _: 1\n              }, 8, [\"onClick\"])\n            ])\n          : _createCommentVNode(\"\", true),\n        _createVNode(_component_v_snackbar, _mergeProps({\n          modelValue: _ctx.snackbar,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.snackbar) = $event)),\n          location: \"top center\"\n        }, _ctx.$attrs, {\n          \"close-on-back\": \"\",\n          role: \"alert\",\n          \"aria-live\": \"assertive\",\n          timeout: \"-1\"\n        }), {\n          actions: _withCtx(() => [\n            _createVNode(_component_v_btn, {\n              tabindex: \"0\",\n              color: \"red\",\n              variant: \"text\",\n              onClick: _ctx.closeDialog\n            }, {\n              default: _withCtx(() => [...(_cache[2] || (_cache[2] = [\n                _createTextVNode(\" Close \", -1)\n              ]))]),\n              _: 1\n            }, 8, [\"onClick\"])\n          ]),\n          default: _withCtx(() => [\n            _createElementVNode(\"span\", {\n              ref: \"snackbarMessage\",\n              tabindex: \"0\",\n              onKeydown: _cache[0] || (_cache[0] = _withKeys(\n//@ts-ignore\n(...args) => (_ctx.closeDialog && _ctx.closeDialog(...args)), [\"esc\"]))\n            }, [\n              _renderSlot(_ctx.$slots, \"default\", {}, () => [\n                _createTextVNode(_toDisplayString(_ctx.msg), 1)\n              ])\n            ], 544)\n          ]),\n          _: 3\n        }, 16, [\"modelValue\"])\n      ]))\n    : _createCommentVNode(\"\", true)\n}","<script lang=\"ts\">\n/**\n * v-snackbar wrapper component. The message can be passed\n * as a prop or as as the default slot. Props are passed\n * through to v-snackbar.\n * \n * Example Usage\n * \n * <SnackbarAlert msg=\"Hello there\" />\n * \n * <SnackbarAlert msg=\"Hello there\">\n *  <template v-slot:activator=\"{ onClick, id }\">\n *   <v-btn :id=\"id\" @click=\"onClick\" color=\"primary\">\n *    Custom Activator\n *   </v-btn>\n *  </template>\n * </SnackbarAlert>\n * \n */\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: \"SnackbarAlert\",\n  \n  emits: ['update:modelValue'],\n\n  props: {\n    msg: {\n      type: String || undefined || null,\n      required: false,\n      default: undefined,\n    },\n    hide: {\n      type: Boolean,\n      required: false,\n      default: false\n    },\n    label: {\n      type: String,\n      required: false,\n      default: \"Recent changes\"\n    },\n    modelValue: {\n      type: Boolean,\n      required: false,\n      default: false\n    },\n    hideButton: {\n      type: Boolean,\n      required: false,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      snackbar: false,\n    };\n  },\n  \n  methods: {\n    openDialog() {\n      if (this.snackbar) return;\n      \n      this.snackbar = true;\n      this.$emit('update:modelValue', true);\n      this.$nextTick(() => {\n        (this.$refs.snackbarMessage as HTMLElement).focus();\n      });\n    },\n    closeDialog() {\n      this.snackbar = false;\n      this.$emit('update:modelValue', false);\n      // make sure the focus goes back to the right place\n      this.$nextTick(() => {\n        this.$el.querySelector('#snackbar-activator')?.focus();\n        this.$el.querySelector('#snackbar-activator-slot')?.focus();\n      });\n    },\n  },\n  \n  watch: {\n    modelValue(val: boolean) {\n      if (val) {\n        this.openDialog();\n      } else {\n        this.closeDialog();\n      }\n    }\n  }\n\n\n});\n</script>\n\n<template>\n  <div class=\"cds-snackbar-alert ma-2\" v-if=\"!hide\">\n    \n    <slot v-if=\"!hideButton\" name=\"activator\" :onClick=\"openDialog\" id=\"snackbar-activator-slot\">\n      <v-btn @click=\"openDialog\" color=\"#333\" id=\"snackbar-activator\" size=\"small\">\n        <template v-slot:prepend>\n          <v-icon color=\"red\" icon=\"mdi-alert-octagram\"></v-icon>\n        </template>\n        {{ label }}\n      </v-btn>\n    </slot>\n    \n    <v-snackbar \n      v-model=\"snackbar\" \n      location=\"top center\" \n      v-bind=\"$attrs\"\n      close-on-back\n      role=\"alert\"\n      aria-live=\"assertive\"\n      timeout=\"-1\"\n      >\n      <span ref=\"snackbarMessage\" tabindex=\"0\" @keydown.esc=\"closeDialog\">\n      <slot> {{ msg }} </slot>\n      </span>\n\n\n      <template v-slot:actions>\n        <v-btn tabindex=\"0\" color=\"red\" variant=\"text\" @click=\"closeDialog\">\n          Close\n        </v-btn>\n      </template>\n    </v-snackbar>\n  </div>\n</template>\n","import { render } from \"./SnackbarAlert.vue?vue&type=template&id=034a6a3c&ts=true\"\nimport script from \"./SnackbarAlert.vue?vue&type=script&lang=ts\"\nexport * from \"./SnackbarAlert.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, withKeys as _withKeys, mergeProps as _mergeProps } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_snackbar = _resolveComponent(\"v-snackbar\")!\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_tooltip = _resolveComponent(\"v-tooltip\")!\n  const _component_use_clipboard = _resolveComponent(\"use-clipboard\")!\n\n  return (_openBlock(), _createBlock(_component_use_clipboard, { source: _ctx.source }, {\n    default: _withCtx(({ copy }) => [\n      (_ctx.tooltipDisabled || _ctx.alert)\n        ? (_openBlock(), _createBlock(_component_v_snackbar, {\n            key: 0,\n            class: \"share-button-snackbar\",\n            timeout: \"3500\",\n            location: \"top\",\n            activator: \"#share-button\",\n            text: \"Share link copied to clipboard. Paste to share this view!\",\n            color: \"success\",\n            variant: \"flat\",\n            \"min-height\": \"0px\",\n            \"min-width\": \"0px\",\n            transition: \"slide-y-transition\",\n            \"close-on-content-click\": \"\"\n          }))\n        : _createCommentVNode(\"\", true),\n      _createVNode(_component_v_tooltip, {\n        disabled: _ctx.tooltipDisabled,\n        text: \"Share selected view\"\n      }, {\n        activator: _withCtx(({ props }) => [\n          _createVNode(_component_v_btn, _mergeProps({\n            id: \"share-button\",\n            \"aria-label\": \"Get link to share selected view\",\n            class: \"share-button\",\n            icon: \"\",\n            onClick: () => {\n            copy(_ctx.source);\n            _ctx.$emit('share');\n          }\n          ,\n            onKeyup: _withKeys(() => {\n            copy(_ctx.source);\n            _ctx.$emit('share');\n          }, [\"enter\"])\n          }, props, {\n            color: _ctx.buttonColor,\n            elevation: _ctx.elevation,\n            size: _ctx.size,\n            rounded: _ctx.rounded\n          }), {\n            default: _withCtx(() => [\n              _createVNode(_component_v_icon, { color: _ctx.iconColor }, {\n                default: _withCtx(() => [...(_cache[0] || (_cache[0] = [\n                  _createTextVNode(\"mdi-share-variant\", -1)\n                ]))]),\n                _: 1\n              }, 8, [\"color\"])\n            ]),\n            _: 1\n          }, 16, [\"onClick\", \"onKeyup\", \"color\", \"elevation\", \"size\", \"rounded\"])\n        ]),\n        _: 2\n      }, 1032, [\"disabled\"])\n    ]),\n    _: 1\n  }, 8, [\"source\"]))\n}","\n<template>\n  <use-clipboard v-slot=\"{ copy }\" :source=\"source\">\n    <v-snackbar \n      v-if=\"tooltipDisabled || alert\"\n      class=\"share-button-snackbar\"   \n      timeout=\"3500\" \n      location=\"top\" \n      activator=\"#share-button\"\n      text=\"Share link copied to clipboard. Paste to share this view!\"\n      color=\"success\"\n      variant=\"flat\"\n      min-height=\"0px\"\n      min-width=\"0px\"\n      transition=\"slide-y-transition\"\n      close-on-content-click\n      >\n    </v-snackbar>\n    <v-tooltip :disabled=\"tooltipDisabled\" text=\"Share selected view\">\n      <template v-slot:activator=\"{ props }\">\n        <v-btn\n          id=\"share-button\"\n          aria-label=\"Get link to share selected view\"\n          class=\"share-button\"\n          icon\n          @click=\"() => {\n            copy(source);\n            $emit('share');\n          }\n          \"\n          @keyup.enter=\"() => {\n            copy(source);\n            $emit('share');\n          }\"\n          v-bind=\"props\"\n          :color=\"buttonColor\"\n          :elevation=\"elevation\"\n          :size=\"size\"\n          :rounded=\"rounded\"\n        > \n          <v-icon :color=\"iconColor\">mdi-share-variant</v-icon>\n        </v-btn>\n      </template>\n    </v-tooltip>\n  </use-clipboard>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  props: {\n    source: {\n      type: String,\n      required: true,\n    },\n    buttonColor: {\n      type: String,\n      default: \"#ffffff66\",\n    },\n    iconColor: {\n      type: String,\n      default: \"#333\",\n    },\n    elevation: {\n      type: [String, Number],\n      default: \"0\",\n    },\n    size: {\n      type: String,\n      default: \"small\",\n    },\n    rounded: {\n      type: [String, Number],\n      default: \"1\",\n    },\n    tooltipDisabled: {\n      type: Boolean,\n      default: false,\n    },\n    alert: {\n      type: Boolean,\n      default: false,\n    },\n    \n  },\n  \n  data() {\n    return {\n      snackbar: false,\n    };\n  },\n\n  emits: [\"share\"],\n});\n</script>\n\n<style>\n.share-button {\n  z-index: 1000;\n  padding-inline: 5px;\n  border-radius: 8px !important;\n  border: thin solid var(--accent-color-2) !important;\n}\n\n.share-button-snackbar .v-snackbar__wrapper > .v-snackbar__content {\n  padding: 0.75em 1em;\n}\n\n</style>\n","import { render } from \"./ShareButton.vue?vue&type=template&id=1a0de751&ts=true\"\nimport script from \"./ShareButton.vue?vue&type=script&lang=ts\"\nexport * from \"./ShareButton.vue?vue&type=script&lang=ts\"\n\nimport \"./ShareButton.vue?vue&type=style&index=0&id=1a0de751&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export async function getElementRect(element: Element): Promise<DOMRectReadOnly> {\n  let rect: DOMRectReadOnly | null = null;\n  let resolveRectPromise: (value: DOMRectReadOnly | PromiseLike<DOMRectReadOnly>) => void;\n  const rectPromise = new Promise<DOMRectReadOnly>((resolve, _reject) => {\n    resolveRectPromise = resolve;\n  });\n  const observer = new IntersectionObserver(entries => {\n    rect = entries[0].boundingClientRect;\n    resolveRectPromise(rect);\n\n    observer.disconnect();\n  });\n  observer.observe(element);\n\n  return rectPromise;\n}\n","import { onBeforeUnmount, Ref, watch } from \"vue\";\nimport { getElementRect } from \"../utils/dom\";\n\nimport { DragInfo } from \"../types\";\n\nexport interface UseDraggableDialogOptions {\n  root: Ref<HTMLElement | null>;\n  dragPredicate?: (element: HTMLElement) => boolean;\n  dialogSelector?: string;\n  scrimSelector?: string;\n}\n\nexport function useDraggableDialog(options: UseDraggableDialogOptions) {\n\n  const root = options.root;\n  const dialogSelector = options.dialogSelector ?? \".v-dialog.v-overlay--active\";\n  const scrimSelector = options.scrimSelector ?? \".v-overlay__scrim\";\n\n  let dragInfo: DragInfo | null = null;\n  type MouseEventHandler = (event: MouseEvent) => void;\n  let mousedown: MouseEventHandler | null = null;\n  let mouseup: MouseEventHandler | null = null;\n  let mousemove: MouseEventHandler | null = null;\n\n  function removeListeners(element: HTMLElement) {\n    if (mousedown) {\n      element.removeEventListener(\"mousedown\", mousedown);\n    }\n    if (mouseup) {\n      element.removeEventListener(\"mouseup\", mouseup);\n    }\n    if (mousemove) {\n      element.removeEventListener(\"mousemove\", mousemove);\n    }\n  }\n\n  function setupDraggable(element: HTMLElement) {\n    removeListeners(element);\n\n    let dragging = false;\n\n    mousedown = async (event: MouseEvent) => {\n      if (options.dragPredicate && !options.dragPredicate(event.target as HTMLElement)) {\n        element.style.cursor = \"\";\n        return;\n      }\n      dragging = true;\n\n      element.style.cursor = \"grabbing\";\n      const closestDialog = element.closest(dialogSelector);\n      if (event.button === 0 && closestDialog != null) {\n        const boundingRect = await getElementRect(closestDialog);\n        const d: DragInfo = {\n          el: closestDialog as HTMLElement,\n          title: element,\n          mouseStartX: event.clientX,\n          mouseStartY: event.clientY,\n          elStartX: boundingRect.left,\n          elStartY: boundingRect.top,\n          overlays: document.querySelectorAll(scrimSelector),\n        };\n        if (dragInfo && dragInfo.el) {\n          d.oldTransition = dragInfo.el.style.transition;\n        }\n        if (d.el) {\n          d.el.style.margin = \"0\";\n          d.el.style.transition = \"none\";\n          if (d.el.style.position !== \"fixed\") {\n            d.el.style.position = \"fixed\";\n            d.el.style.left = Math.min(\n              Math.max(d.elStartX + event.clientX - d.mouseStartX, 0),\n              window.innerWidth - boundingRect.width\n            ) + \"px\";\n            d.el.style.top = Math.min(\n              Math.max(d.elStartY + event.clientY - d.mouseStartY , 0),\n              window.innerHeight - boundingRect.height\n            ) - 0.5 * window.innerHeight + \"px\";\n          }\n        }\n        d.title.classList.add(\"dragging\");\n        d.overlays.forEach(overlay => (overlay as HTMLElement).style.display = \"none\");\n\n        dragInfo = d;\n      }\n    };\n    element.addEventListener(\"mousedown\", mousedown);\n\n    mousemove = async (event: MouseEvent) => {\n      if (options.dragPredicate && !options.dragPredicate(event.target as HTMLElement)) {\n        element.style.cursor = \"\";\n        return;\n      }\n      element.style.cursor = dragging ? \"grabbing\" : \"grab\";\n      if (dragInfo === null || dragInfo.el == null) {\n        return;\n      }\n      const boundingRect = await getElementRect(dragInfo.el);\n      dragInfo.el.style.left = Math.min(\n        Math.max(dragInfo.elStartX + event.clientX - dragInfo.mouseStartX, 0),\n        window.innerWidth - boundingRect.width\n      ) + \"px\";\n      dragInfo.el.style.top = Math.min(\n        Math.max(dragInfo.elStartY + event.clientY - dragInfo.mouseStartY , 0),\n        window.innerHeight - boundingRect.height\n      ) - 0.5 * window.innerHeight + \"px\";\n    };\n    document.addEventListener(\"mousemove\", mousemove);\n\n    mouseup = (event: MouseEvent) => {\n      if (options.dragPredicate && !options.dragPredicate(event.target as HTMLElement)) {\n        element.style.cursor = \"\";\n        return;\n      }\n\n      dragging = false;\n\n      element.style.cursor = \"grab\";\n      if (dragInfo === null) {\n        return;\n      }\n      if (dragInfo.oldTransition && dragInfo.el) {\n        dragInfo.el.style.transition = dragInfo.oldTransition;\n      }\n      dragInfo.el = undefined;\n      dragInfo.title.classList.remove(\"dragging\");\n      dragInfo.overlays.forEach(overlay => (overlay as HTMLElement).style.display = '');\n    };\n    document.addEventListener(\"mouseup\", mouseup);\n    \n    // If the window changes size, the dialog may be partially/completely out of bounds\n    // We fix that here\n    const resizeObserver = new ResizeObserver(async (entries) => {\n      for (const entry of entries) {\n        const dialogs = entry.target.querySelectorAll(dialogSelector);\n        for (const d of dialogs) {\n          const dialog = d as HTMLElement;\n          const boundingRect = await getElementRect(dialog);\n          dialog.style.left = Math.min(parseInt(dialog.style.left), window.innerWidth - boundingRect.width) + \"px\";\n          dialog.style.top = Math.min(parseInt(dialog.style.top), window.innerHeight - boundingRect.height) + \"px\";\n        }\n      }\n    });\n    resizeObserver.observe(document.body);\n  }\n\n  if (root.value) {\n    setupDraggable(root.value);\n  }\n\n  watch(root, newRoot => {\n    if (newRoot !== null) {\n      setupDraggable(newRoot);\n    }\n  });\n\n  onBeforeUnmount(() => {\n    const element = root.value;\n    if (element) {\n      removeListeners(element);\n      element.style.cursor = \"\";\n    }\n  });\n\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeProps as _normalizeProps, guardReactiveProps as _guardReactiveProps, renderSlot as _renderSlot, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withKeys as _withKeys, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, unref as _unref, normalizeClass as _normalizeClass } from \"vue\"\n\nimport { computed, ref, onMounted, nextTick, watch, useAttrs, useTemplateRef } from \"vue\";\nimport { VCard } from \"vuetify/components\";\nimport { UseDraggableDialogOptions, useDraggableDialog } from \"../composables/useDraggableDialog\";\n\ninterface CDSDialogProps {\n  title: string;\n  modelValue?: boolean;\n  color?: string;\n  titleColor?: string;\n  shortTitle?: string;\n  draggable?: boolean;\n  button?: boolean;\n  scrim?: boolean;\n  persistent?: boolean;\n  modal?: boolean;\n}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'CDSDialog',\n  props: {\n    title: {},\n    modelValue: { type: Boolean, default: false },\n    color: { default: \"red\" },\n    titleColor: { default: \"primary\" },\n    shortTitle: { default: \"\" },\n    draggable: { type: Boolean, default: false },\n    button: { type: Boolean, default: false },\n    scrim: { type: Boolean, default: true },\n    persistent: { type: Boolean, default: false },\n    modal: { type: Boolean, default: true }\n  },\n  emits: [\"update:modelValue\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props;\n\nconst emit = __emit;\n\nconst card = useTemplateRef<InstanceType<typeof VCard>>(\"card\");\nconst showDialog = ref(props.modelValue);\nconst displayedShortTitle = computed(() => props.shortTitle || props.title);\nconst cardRoot = ref<HTMLElement | null>(null);\n\nconst attrs = useAttrs();\n\nif (props.draggable) {\n  const options: UseDraggableDialogOptions = {\n    root: cardRoot,\n    dialogSelector: \".cds-dialog-card\",\n  };\n  if (attrs[\"drag-predicate\"]) {\n    options.dragPredicate = attrs[\"drag-predicate\"] as (element: HTMLElement) => boolean;\n  }\n  useDraggableDialog(options);\n}\n\nfunction updateRoot() {\n  nextTick(() => {\n    if (card.value) {\n      cardRoot.value = card.value.$el;\n    }\n  });\n}\n\nfunction close(event: PointerEvent) {\n  showDialog.value = false;\n  event.stopPropagation();\n}\n\nonMounted(() => {\n  if (props.draggable && props.modelValue) {\n    updateRoot();\n  }\n});\n\nwatch(showDialog, value => {\n  emit(\"update:modelValue\", value);\n});\n\nwatch(() => props.modelValue, value => {\n  showDialog.value = value;\n  if (value && props.draggable) {\n    updateRoot();\n  }\n});\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_toolbar_title = _resolveComponent(\"v-toolbar-title\")!\n  const _component_v_spacer = _resolveComponent(\"v-spacer\")!\n  const _component_v_toolbar = _resolveComponent(\"v-toolbar\")!\n  const _component_v_card_text = _resolveComponent(\"v-card-text\")!\n  const _component_v_dialog = _resolveComponent(\"v-dialog\")!\n\n  return (_openBlock(), _createBlock(_component_v_dialog, {\n    class: _normalizeClass(['cds-dialog', `${displayedShortTitle.value.toLowerCase().replace(/ /g, '-')}-cds-dialog`, !_ctx.modal ? 'nonmodal' : '']),\n    modelValue: showDialog.value,\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((showDialog).value = $event)),\n    scrim: _ctx.scrim,\n    persistent: _ctx.persistent,\n    \"no-click-animation\": !_ctx.modal\n  }, {\n    activator: _withCtx(($attrs) => [\n      _renderSlot(_ctx.$slots, \"activator\", _normalizeProps(_guardReactiveProps($attrs)), () => [\n        (_ctx.button)\n          ? (_openBlock(), _createBlock(_component_v_btn, {\n              key: 0,\n              color: _ctx.color,\n              title: displayedShortTitle.value,\n              class: \"cds-dialog-button\",\n              onClick: _cache[0] || (_cache[0] = ($event: any) => (showDialog.value = true)),\n              onKeyup: _cache[1] || (_cache[1] = _withKeys(($event: any) => (showDialog.value = true), [\"enter\"])),\n              tabindex: \"0\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\" Open \" + _toDisplayString(displayedShortTitle.value), 1)\n              ]),\n              _: 1\n            }, 8, [\"color\", \"title\"]))\n          : _createCommentVNode(\"\", true)\n      ])\n    ]),\n    default: _withCtx(() => [\n      _createVNode(_unref(VCard), {\n        ref_key: \"card\",\n        ref: card,\n        class: \"cds-dialog-card\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_toolbar, {\n            density: \"compact\",\n            color: _ctx.titleColor\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_v_toolbar_title, { text: _ctx.title }, null, 8, [\"text\"]),\n              _createVNode(_component_v_spacer),\n              _createVNode(_component_v_btn, {\n                class: \"cds-dialog-close-icon\",\n                icon: \"mdi-close\",\n                onClick: close,\n                \"onKeyup:enter\": close\n              })\n            ]),\n            _: 1\n          }, 8, [\"color\"]),\n          _createVNode(_component_v_card_text, null, {\n            default: _withCtx(() => [\n              _renderSlot(_ctx.$slots, \"default\", {}, () => [\n                _cache[3] || (_cache[3] = _createTextVNode(\" Add content to the default slot \", -1))\n              ])\n            ]),\n            _: 3\n          })\n        ]),\n        _: 3\n      }, 512)\n    ]),\n    _: 3\n  }, 8, [\"class\", \"modelValue\", \"scrim\", \"persistent\", \"no-click-animation\"]))\n}\n}\n\n})","<template>\n  <v-dialog \n    :class=\"['cds-dialog', `${displayedShortTitle.toLowerCase().replace(/ /g, '-')}-cds-dialog`, !modal ? 'nonmodal' : '']\" \n    v-model=\"showDialog\" \n    :scrim=\"scrim\"\n    :persistent=\"persistent\"\n    :no-click-animation=\"!modal\"\n    >\n    <!-- add the activator slot, but only use it if the appropriate value is given for activator -->\n     <template v-slot:activator=\"$attrs\">\n      <slot name=\"activator\" v-bind=\"$attrs\">\n        <v-btn\n          v-if=\"button\"\n          :color=\"color\"\n          :title=\"displayedShortTitle\"\n          class=\"cds-dialog-button\"\n          @click=\"showDialog = true\"\n          @keyup.enter=\"showDialog = true\"\n          tabindex=\"0\"\n          >\n          Open {{ displayedShortTitle }}\n        </v-btn>\n      </slot>\n    </template>\n     \n    <v-card\n      ref=\"card\"\n      class=\"cds-dialog-card\"\n    >\n        <v-toolbar\n          density=\"compact\"\n          :color=\"titleColor\"\n        >\n          <v-toolbar-title :text=\"title\"></v-toolbar-title>\n          <v-spacer></v-spacer>\n          <v-btn\n            class=\"cds-dialog-close-icon\"\n            icon=\"mdi-close\"\n            @click=\"close\"\n            @keyup:enter=\"close\"\n          >\n          </v-btn>\n        </v-toolbar>\n      \n      <v-card-text>\n        \n        <slot>\n          Add content to the default slot\n        </slot>\n        \n      </v-card-text>\n    </v-card>\n  </v-dialog>\n\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, ref, onMounted, nextTick, watch, useAttrs, useTemplateRef } from \"vue\";\nimport { VCard } from \"vuetify/components\";\nimport { UseDraggableDialogOptions, useDraggableDialog } from \"../composables/useDraggableDialog\";\n\ninterface CDSDialogProps {\n  title: string;\n  modelValue?: boolean;\n  color?: string;\n  titleColor?: string;\n  shortTitle?: string;\n  draggable?: boolean;\n  button?: boolean;\n  scrim?: boolean;\n  persistent?: boolean;\n  modal?: boolean;\n}\n\nconst props = withDefaults(defineProps<CDSDialogProps>(), {\n  modelValue: false,\n  color: \"red\",\n  shortTitle: \"\",\n  draggable: false,\n  button: false,\n  titleColor: \"primary\",\n  scrim: true,\n  persistent: false,\n  modal: true,\n});\n\nconst emit = defineEmits<{\n  (event: \"update:modelValue\", value: boolean): void;\n}>();\n\nconst card = useTemplateRef<InstanceType<typeof VCard>>(\"card\");\nconst showDialog = ref(props.modelValue);\nconst displayedShortTitle = computed(() => props.shortTitle || props.title);\nconst cardRoot = ref<HTMLElement | null>(null);\n\nconst attrs = useAttrs();\n\nif (props.draggable) {\n  const options: UseDraggableDialogOptions = {\n    root: cardRoot,\n    dialogSelector: \".cds-dialog-card\",\n  };\n  if (attrs[\"drag-predicate\"]) {\n    options.dragPredicate = attrs[\"drag-predicate\"] as (element: HTMLElement) => boolean;\n  }\n  useDraggableDialog(options);\n}\n\nfunction updateRoot() {\n  nextTick(() => {\n    if (card.value) {\n      cardRoot.value = card.value.$el;\n    }\n  });\n}\n\nfunction close(event: PointerEvent) {\n  showDialog.value = false;\n  event.stopPropagation();\n}\n\nonMounted(() => {\n  if (props.draggable && props.modelValue) {\n    updateRoot();\n  }\n});\n\nwatch(showDialog, value => {\n  emit(\"update:modelValue\", value);\n});\n\nwatch(() => props.modelValue, value => {\n  showDialog.value = value;\n  if (value && props.draggable) {\n    updateRoot();\n  }\n});\n\n</script>\n\n<style>\n\n.cds-dialog {\n  display: flex;\n  width: calc(100% - 1rem);\n}\n.cds-dialog-card {\n  align-self: center;\n  max-width: 80%;\n}\n\n.cds-dialog-close-icon {\n  cursor: pointer;\n}\n\n.v-dialog.cds-dialog > .v-overlay__content {\n  align-self: center;\n  margin: unset;\n}\n\n.cds-dialog .v-card-text {\n  height: fit-content;\n  max-height: 60vh;\n}\n\n.cds-dialog.nonmodal {\n\n  .v-overlay__content {\n    visibility: hidden;\n\n    .v-card {\n      visibility: visible;\n    }\n  }\n\n}\n</style>\n","import script from \"./CDSDialog.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./CDSDialog.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./CDSDialog.vue?vue&type=style&index=0&id=47468c07&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, renderSlot as _renderSlot, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"cds-marquee-alert elevation-3 sucess\"\n}\nconst _hoisted_2 = { class: \"cds-marquee-alert__content\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_avatar = _resolveComponent(\"v-avatar\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n\n  return (_ctx.isVisible)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createVNode(_component_v_avatar, {\n          variant: \"flat\",\n          color: \"info\",\n          icon: \"mdi-exclamation-thick\"\n        }),\n        _createElementVNode(\"div\", _hoisted_2, [\n          _renderSlot(_ctx.$slots, \"default\", {}, () => [\n            _createElementVNode(\"span\", null, _toDisplayString(_ctx.message), 1)\n          ])\n        ]),\n        _createVNode(_component_v_btn, {\n          onClick: _ctx.close,\n          class: \"cds-marquee-alert__close-button\",\n          \"aria-label\": \"Close alert\",\n          variant: \"tonal\"\n        }, {\n          default: _withCtx(() => [...(_cache[0] || (_cache[0] = [\n            _createTextVNode(\" Close \", -1)\n          ]))]),\n          _: 1\n        }, 8, [\"onClick\"])\n      ]))\n    : _createCommentVNode(\"\", true)\n}","<style>\n.cds-marquee-alert\n{\n  position: sticky;\n  top: 0;\n  left: 0;\n  /* width: 100vw; */\n  padding-inline: 1rem;\n  padding-block: 5px;\n  margin-bottom: 1rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 1rem;\n  background-color: rgb(var(--v-theme-success));\n  color: white;\n  z-index: 9999;\n}\n\n.cds-marquee-alert__content\n{\n  line-height: 1.5;\n  flex-grow: 1;\n}\n\n.cds-marquee-alert__close-button\n{\n  padding: 5px;\n}\n</style>\n\n<template>\n  <div v-if=\"isVisible\" class=\"cds-marquee-alert elevation-3 sucess\">\n    <v-avatar variant=\"flat\" color=\"info\" icon=\"mdi-exclamation-thick\" />\n    <div class=\"cds-marquee-alert__content\">\n      <slot>\n        <span>{{ message }}</span>\n      </slot>\n    </div>\n    <v-btn @click=\"close\" class=\"cds-marquee-alert__close-button\" aria-label=\"Close alert\" variant=\"tonal\">\n      Close\n    </v-btn>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\n\n\nexport default defineComponent({\n  name: 'MarqueeAlert',\n\n  props: {\n    message: {\n      type: String,\n      default: 'hello'\n    },\n    modelValue: {\n      type: Boolean,\n      required: false,\n      default: true\n    },\n    timeout: {\n      type: Number,\n      default: 5000\n    }\n  },\n  \n  mounted() {\n    setTimeout(() => {\n      this.isVisible = false;\n    }, this.timeout);\n  },\n\n  data() {\n    return {\n      isVisible: true,\n    };\n  },\n\n  methods: {\n    close() {\n      this.isVisible = false;\n    }\n  },\n\n  watch: {\n    isVisible(value) {\n      this.$emit('update:modelValue', value);\n    },\n\n    modelValue(value) {\n      this.isVisible = value;\n    }\n  }\n\n\n});\n</script>\n","import { render } from \"./MarqeeAlert.vue?vue&type=template&id=185155c3&ts=true\"\nimport script from \"./MarqeeAlert.vue?vue&type=script&lang=ts\"\nexport * from \"./MarqeeAlert.vue?vue&type=script&lang=ts\"\n\nimport \"./MarqeeAlert.vue?vue&type=style&index=0&id=185155c3&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { onMounted, computed, ref, watch } from \"vue\";\nimport { v4 } from \"uuid\";\nimport { PlotlyHTMLElement, newPlot, restyle, type Data, type Datum, type PlotMouseEvent } from \"plotly.js-dist-min\";\n\nimport { AggValue, UserSelection } from \"../types\";\n\n\ninterface TimeseriesProps {\n  data: UserSelection[]; // composed selections\n  showErrors?: boolean;\n}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'TimeseriesGraph',\n  props: {\n    data: {},\n    showErrors: { type: Boolean }\n  },\n  emits: [\"click\"],\n  setup(__props: any, { emit: __emit }) {\n\n/* eslint-disable @typescript-eslint/no-unused-vars */\nconst props = __props;\nconst sampleKeyCounts = computed(() => props.data.map(sel => Object.keys(sel.samples ?? {}).length));\n\nconst id = `timeseries-${v4()}`;\n\nconst plot = ref<PlotlyHTMLElement | null>(null);\nconst graph = ref<HTMLDivElement | null>(null);\n\nconst emit = __emit;\n\nfunction datumToDate(datum: Datum): Date | null {\n  if (datum === null) { return null; }\n  if (datum instanceof Date) { return datum; }\n  return new Date(datum);\n}\n\nconst legendGroups: Record<string, string> = {};\nlet errorTraces: number[] = [];\n\nfunction renderPlot() {\n\n  errorTraces = [];\n  \n  const plotlyData: Data[] = [];\n  if (props.data.length === 0) {\n    console.log(\"No data provided for timeseries graph\");\n    return;\n  }\n  \n  if (props.data.map(sel => Object.keys(sel.samples ?? {}).length).every(len => len === 0)) {\n    console.log(\"No samples provided for timeseries graph\");\n    return;\n  }\n\n  let max = 0;\n  props.data.forEach(data => {\n    const samples = data.samples;\n    if (!samples) { return; }\n    // derive color from region if present\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-explicit-any\n    const regionColor = (data as any).region?.color;\n    const ts = Object.keys(samples).sort();\n    const dataT: Date[] = [];\n    const dataV: (number | null)[] = [];\n    ts.forEach(t => {\n      const point: AggValue = samples[t];\n      if (point.value !== null) {\n        dataT.push(point.date);\n        dataV.push(point.value);\n      }\n    });\n    max = Math.max(max, Math.max(...dataV.filter((v): v is number => v !== null)));\n\n    const legendGroup = v4();\n    legendGroups[data.id] = legendGroup;\n    plotlyData.push({\n      x: dataT,\n      y: dataV,\n      mode: \"lines+markers\",\n      legendgroup: legendGroup,\n      showlegend: true,\n      name: data.region.name,\n      marker: { color: regionColor },\n    });\n\n    const errors = data.errors;\n    if (errors != null) {\n      const upperY: (number | null)[] = [];\n      const lowerY: (number | null)[] = [];\n\n      ts.forEach(t => {\n        const point: AggValue = samples[t];\n        const value = point.value;\n        const errs = errors[t];\n        if (value === null || errs == null) {\n          // lowerY.push(null);\n          // upperY.push(null);\n          return;\n        }\n        const { lower, upper } = errs;\n        const valueLower = value - lower;\n        const valueHigher = value + upper;\n        const low = Math.min(valueLower, valueHigher);\n        const high = Math.max(valueLower, valueHigher);\n        max = Math.max(max, high);\n        lowerY.push(low);\n        upperY.push(high);\n      });\n\n      plotlyData.push({\n        x: dataT,\n        y: lowerY,\n        mode: \"lines\",\n        line: { width: 0 },\n        showlegend: false,\n        legendgroup: legendGroup,\n        name: data.region.name,\n        marker: { color: regionColor },\n        visible: props.showErrors,\n      });\n      errorTraces.push(plotlyData.length - 1);\n\n      plotlyData.push({\n        x: dataT,\n        y: upperY,\n        mode: \"lines\",\n        line: { width: 0 },\n        fill: \"tonexty\",\n        showlegend: false,\n        legendgroup: legendGroup,\n        name: data.region.name,\n        marker: { color: regionColor },\n        visible: props.showErrors,\n      });\n      errorTraces.push(plotlyData.length - 1);\n    }\n  });\n\n  const paddingFactor = 1.1;\n  const axisMax = Math.max(1, paddingFactor * max);\n  const layout = {\n    width: 600,\n    height: 400,\n    yaxis: {\n      title: { text: \"Molecules / cm<sup>2</sup>\" },\n      range: [0, axisMax],\n    }\n  };\n\n  newPlot(graph.value ?? id, plotlyData, layout).then((el: PlotlyHTMLElement) => {\n    plot.value = el;\n    el.on(\"plotly_click\", (data: PlotMouseEvent) => {\n      data.points.forEach(point => {\n        const traceIndex = point.curveNumber;\n        if (traceIndex !== 0 || point.x == null || point.y == null) {\n          return;\n        }\n        const date = datumToDate(point.x);\n        if (date !== null) {\n          emit(\"click\", { date, value: point.y as number });\n        }\n      });\n    });\n  });\n}\n\nfunction updateErrorDisplay(visible: boolean) {\n  if (graph.value) {\n    restyle(graph.value, { visible }, errorTraces);\n  }\n}\n\n\nonMounted(() => {\n  renderPlot();\n});\n\n\nwatch(() => props.showErrors, updateErrorDisplay);\n\nwatch(sampleKeyCounts, (newCounts: number[], oldCounts: number[]) => {\n  const different = (newCounts.length != oldCounts.length) && \n                    newCounts.some((value, index) => value !== oldCounts[index]);\n  if (!different) {\n    return;\n  }\n  if (newCounts.length === 0) {\n    console.log(\"No data provided for timeseries graph\");\n    return;\n  }\n  console.log(\"Data changed, re-rendering plot\");\n  renderPlot();\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    ref_key: \"graph\",\n    ref: graph,\n    id: id,\n    class: \"timeseries\"\n  }, null, 512))\n}\n}\n\n})","<!-- eslint-disable @typescript-eslint/no-unused-vars -->\n<template>\n  <div\n    ref=\"graph\"\n    :id=\"id\"\n    class=\"timeseries\"\n  >\n  </div>\n</template>\n\n<script setup lang=\"ts\">\n/* eslint-disable @typescript-eslint/no-unused-vars */\nimport { onMounted, computed, ref, watch } from \"vue\";\nimport { v4 } from \"uuid\";\nimport { PlotlyHTMLElement, newPlot, restyle, type Data, type Datum, type PlotMouseEvent } from \"plotly.js-dist-min\";\n\nimport { AggValue, UserSelection } from \"../types\";\n\n\ninterface TimeseriesProps {\n  data: UserSelection[]; // composed selections\n  showErrors?: boolean;\n}\n\nconst props = defineProps<TimeseriesProps>();\nconst sampleKeyCounts = computed(() => props.data.map(sel => Object.keys(sel.samples ?? {}).length));\n\nconst id = `timeseries-${v4()}`;\n\nconst plot = ref<PlotlyHTMLElement | null>(null);\nconst graph = ref<HTMLDivElement | null>(null);\n\nconst emit = defineEmits<{\n  (event: \"click\", value: AggValue): void;\n}>();\n\nfunction datumToDate(datum: Datum): Date | null {\n  if (datum === null) { return null; }\n  if (datum instanceof Date) { return datum; }\n  return new Date(datum);\n}\n\nconst legendGroups: Record<string, string> = {};\nlet errorTraces: number[] = [];\n\nfunction renderPlot() {\n\n  errorTraces = [];\n  \n  const plotlyData: Data[] = [];\n  if (props.data.length === 0) {\n    console.log(\"No data provided for timeseries graph\");\n    return;\n  }\n  \n  if (props.data.map(sel => Object.keys(sel.samples ?? {}).length).every(len => len === 0)) {\n    console.log(\"No samples provided for timeseries graph\");\n    return;\n  }\n\n  let max = 0;\n  props.data.forEach(data => {\n    const samples = data.samples;\n    if (!samples) { return; }\n    // derive color from region if present\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-explicit-any\n    const regionColor = (data as any).region?.color;\n    const ts = Object.keys(samples).sort();\n    const dataT: Date[] = [];\n    const dataV: (number | null)[] = [];\n    ts.forEach(t => {\n      const point: AggValue = samples[t];\n      if (point.value !== null) {\n        dataT.push(point.date);\n        dataV.push(point.value);\n      }\n    });\n    max = Math.max(max, Math.max(...dataV.filter((v): v is number => v !== null)));\n\n    const legendGroup = v4();\n    legendGroups[data.id] = legendGroup;\n    plotlyData.push({\n      x: dataT,\n      y: dataV,\n      mode: \"lines+markers\",\n      legendgroup: legendGroup,\n      showlegend: true,\n      name: data.region.name,\n      marker: { color: regionColor },\n    });\n\n    const errors = data.errors;\n    if (errors != null) {\n      const upperY: (number | null)[] = [];\n      const lowerY: (number | null)[] = [];\n\n      ts.forEach(t => {\n        const point: AggValue = samples[t];\n        const value = point.value;\n        const errs = errors[t];\n        if (value === null || errs == null) {\n          // lowerY.push(null);\n          // upperY.push(null);\n          return;\n        }\n        const { lower, upper } = errs;\n        const valueLower = value - lower;\n        const valueHigher = value + upper;\n        const low = Math.min(valueLower, valueHigher);\n        const high = Math.max(valueLower, valueHigher);\n        max = Math.max(max, high);\n        lowerY.push(low);\n        upperY.push(high);\n      });\n\n      plotlyData.push({\n        x: dataT,\n        y: lowerY,\n        mode: \"lines\",\n        line: { width: 0 },\n        showlegend: false,\n        legendgroup: legendGroup,\n        name: data.region.name,\n        marker: { color: regionColor },\n        visible: props.showErrors,\n      });\n      errorTraces.push(plotlyData.length - 1);\n\n      plotlyData.push({\n        x: dataT,\n        y: upperY,\n        mode: \"lines\",\n        line: { width: 0 },\n        fill: \"tonexty\",\n        showlegend: false,\n        legendgroup: legendGroup,\n        name: data.region.name,\n        marker: { color: regionColor },\n        visible: props.showErrors,\n      });\n      errorTraces.push(plotlyData.length - 1);\n    }\n  });\n\n  const paddingFactor = 1.1;\n  const axisMax = Math.max(1, paddingFactor * max);\n  const layout = {\n    width: 600,\n    height: 400,\n    yaxis: {\n      title: { text: \"Molecules / cm<sup>2</sup>\" },\n      range: [0, axisMax],\n    }\n  };\n\n  newPlot(graph.value ?? id, plotlyData, layout).then((el: PlotlyHTMLElement) => {\n    plot.value = el;\n    el.on(\"plotly_click\", (data: PlotMouseEvent) => {\n      data.points.forEach(point => {\n        const traceIndex = point.curveNumber;\n        if (traceIndex !== 0 || point.x == null || point.y == null) {\n          return;\n        }\n        const date = datumToDate(point.x);\n        if (date !== null) {\n          emit(\"click\", { date, value: point.y as number });\n        }\n      });\n    });\n  });\n}\n\nfunction updateErrorDisplay(visible: boolean) {\n  if (graph.value) {\n    restyle(graph.value, { visible }, errorTraces);\n  }\n}\n\n\nonMounted(() => {\n  renderPlot();\n});\n\n\nwatch(() => props.showErrors, updateErrorDisplay);\n\nwatch(sampleKeyCounts, (newCounts: number[], oldCounts: number[]) => {\n  const different = (newCounts.length != oldCounts.length) && \n                    newCounts.some((value, index) => value !== oldCounts[index]);\n  if (!different) {\n    return;\n  }\n  if (newCounts.length === 0) {\n    console.log(\"No data provided for timeseries graph\");\n    return;\n  }\n  console.log(\"Data changed, re-rendering plot\");\n  renderPlot();\n});\n</script>\n\n<style scoped>\n.timeseries:not(:empty) {\n  width: 600px;\n  height: 400px;\n}\n</style>\n","import script from \"./TimeseriesGraph.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./TimeseriesGraph.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./TimeseriesGraph.vue?vue&type=style&index=0&id=8e1748aa&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-8e1748aa\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, normalizeProps as _normalizeProps, guardReactiveProps as _guardReactiveProps, createElementVNode as _createElementVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"d-flex ga-2\" }\n\nimport { computed, ref, watch } from \"vue\";\nimport { v4 } from \"uuid\";\n\nimport type { MappingBackends, RectangleSelection, TimeRange, UserSelection } from \"../types\";\nimport type { MillisecondRange } from \"../types/datetime\";\nimport { type MoleculeType, MOLECULE_OPTIONS } from \"../esri/utils\";\nimport { atleast1d } from \"../utils/atleast1d\";\nimport { formatTimeRange } from \"../utils/timeRange\";\n\ninterface SelectionComposerProps {\n  backend: MappingBackends;\n  timeRanges: TimeRange[];\n  regions: RectangleSelectionType[];\n  disabled?: { region?: boolean; timeRange?: boolean; molecule?: boolean };\n}\n\ntype RectangleSelectionType = RectangleSelection<typeof props.backend>;\n\ninterface DraftUserSelection {\n  region?: RectangleSelectionType | null;\n  timeRange?: MillisecondRange | MillisecondRange[] | null;\n  molecule?: MoleculeType | null;\n}\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'SelectionComposer',\n  props: {\n    backend: {},\n    timeRanges: {},\n    regions: {},\n    disabled: {}\n  },\n  emits: [\"create\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst selectedTimeRange = ref<TimeRange | null>(null);\n\nconst props = __props;\n\nconst emit = __emit;\n\nconst loading = ref(false);\n\nconst draftUserSelection = ref<DraftUserSelection>({ region: null, timeRange: null, molecule: null });\nconst availableMolecules = computed(() => MOLECULE_OPTIONS.map(o => ({ key: o.value as MoleculeType, title: o.title })));\n\n// Public composition progress\nconst creationProgress = computed(() => {\n  let count = 0;\n  if (draftUserSelection.value.region) count += 1;\n  if (draftUserSelection.value.timeRange) count += 1;\n  if (draftUserSelection.value.molecule) count += 1;\n  return { count, percent: (count / 3) * 100 };\n});\n\nfunction setDraftSelectionRegion(region: RectangleSelectionType | null) {\n  (draftUserSelection.value.region as RectangleSelectionType | null) = region || null;\n}\n\nfunction setDraftSelectionMolecule(molecule: MoleculeType | null) {\n  draftUserSelection.value.molecule = molecule || null;\n}\n\nfunction setDraftSelectionTimeRange(range: MillisecondRange | MillisecondRange[] | null) {\n  draftUserSelection.value.timeRange = range || null;\n}\n\nasync function composeSelection(): Promise<UserSelection | null> {\n  // const color = COLORS[selectionCount % COLORS.length]; // we will use the color from the region\n  \n  const draft = draftUserSelection.value;\n  if (!draft.region || !draft.timeRange || !draft.molecule) {\n    console.error('Draft selection incomplete');\n    return null;\n  }\n  \n  const timeRanges = atleast1d(draft.timeRange);\n  // Add to available list if new custom\n  const timeRange: TimeRange = { id: v4(), name: 'Selection Range', description: formatTimeRange(timeRanges), range: timeRanges.length === 1 ? timeRanges[0] : timeRanges };\n  const sel: UserSelection = {\n    id: v4(),\n    region: draft.region, // as { id: string; name: string; rectangle: RectangleSelectionInfo; color: string; layer?: unknown },\n    timeRange,\n    molecule: draft.molecule as MoleculeType,\n  };\n  emit(\"create\", sel);\n  return sel;\n}\n\n\nfunction reset() {\n  draftUserSelection.value = { region: null, timeRange: null, molecule: null };\n  selectedTimeRange.value = null;\n}\n\nwatch(selectedTimeRange, (timeRange: TimeRange | null) => {\n  setDraftSelectionTimeRange(timeRange?.range ?? null);\n});\n\n// just watch the id's. using a 'deep' watch caused a significant performance hit\nwatch(() => props.regions.map(r => r.id), (newRegions) => {\n  if (draftUserSelection.value.region) {\n    const exists = newRegions.find(rid => rid === draftUserSelection.value.region?.id);\n    if (!exists) {\n      draftUserSelection.value.region = null;\n    }\n  }\n});\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_chip = _resolveComponent(\"v-chip\")!\n  const _component_v_card_title = _resolveComponent(\"v-card-title\")!\n  const _component_v_select = _resolveComponent(\"v-select\")!\n  const _component_v_list_item_title = _resolveComponent(\"v-list-item-title\")!\n  const _component_v_list_item_subtitle = _resolveComponent(\"v-list-item-subtitle\")!\n  const _component_v_list_item = _resolveComponent(\"v-list-item\")!\n  const _component_v_progress_linear = _resolveComponent(\"v-progress-linear\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_card_text = _resolveComponent(\"v-card-text\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n\n  return (_openBlock(), _createBlock(_component_v_card, null, {\n    default: _withCtx(() => [\n      _createVNode(_component_v_card_title, { class: \"d-flex justify-space-between\" }, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_chip, {\n            size: \"x-small\",\n            color: \"primary\",\n            variant: \"tonal\"\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(creationProgress.value.count) + \"/3\", 1)\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_v_card_text, { class: \"d-flex flex-column ga-3\" }, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_select, {\n            items: _ctx.regions.map(r => ({ title: r.name, value: r })),\n            \"model-value\": draftUserSelection.value.region,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => (setDraftSelectionRegion($event as RectangleSelectionType))),\n            label: \"Region\",\n            disabled: _ctx.disabled?.region,\n            \"item-title\": \"title\",\n            \"item-value\": \"value\",\n            density: \"compact\",\n            \"hide-details\": \"\",\n            variant: \"outlined\"\n          }, null, 8, [\"items\", \"model-value\", \"disabled\"]),\n          _createVNode(_component_v_select, {\n            items: _ctx.timeRanges,\n            modelValue: selectedTimeRange.value,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((selectedTimeRange).value = $event)),\n            label: \"Time Range\",\n            disabled: _ctx.disabled?.timeRange,\n            density: \"compact\",\n            \"hide-details\": \"\",\n            variant: \"outlined\",\n            \"return-object\": \"\"\n          }, {\n            item: _withCtx(({ index, props }) => [\n              _createVNode(_component_v_list_item, _normalizeProps(_guardReactiveProps(props)), {\n                title: _withCtx(() => [...(_cache[3] || (_cache[3] = []))]),\n                default: _withCtx(() => [\n                  _createVNode(_component_v_list_item_title, null, {\n                    default: _withCtx(() => [\n                      _createTextVNode(_toDisplayString(_ctx.timeRanges[index].name), 1)\n                    ]),\n                    _: 2\n                  }, 1024),\n                  (_ctx.timeRanges[index].name === 'Displayed Day')\n                    ? (_openBlock(), _createBlock(_component_v_list_item_subtitle, { key: 0 }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(_toDisplayString(new Date((_ctx.timeRanges[index].range as MillisecondRange).start).toDateString()), 1)\n                        ]),\n                        _: 2\n                      }, 1024))\n                    : _createCommentVNode(\"\", true)\n                ]),\n                _: 2\n              }, 1040)\n            ]),\n            selection: _withCtx(({ index }) => [\n              _createTextVNode(_toDisplayString(_ctx.timeRanges[index].name), 1)\n            ]),\n            _: 1\n          }, 8, [\"items\", \"modelValue\", \"disabled\"]),\n          _createVNode(_component_v_select, {\n            items: availableMolecules.value.map(m => ({ title: m.title, value: m.key })),\n            \"model-value\": draftUserSelection.value.molecule,\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => (setDraftSelectionMolecule($event))),\n            label: \"Molecule\",\n            disabled: _ctx.disabled?.molecule,\n            \"item-title\": \"title\",\n            \"item-value\": \"value\",\n            density: \"compact\",\n            \"hide-details\": \"\",\n            variant: \"outlined\"\n          }, null, 8, [\"items\", \"model-value\", \"disabled\"]),\n          _createVNode(_component_v_progress_linear, {\n            \"model-value\": creationProgress.value.percent,\n            height: \"6\",\n            color: \"primary\",\n            rounded: \"\"\n          }, null, 8, [\"model-value\"]),\n          _createElementVNode(\"div\", _hoisted_1, [\n            _createVNode(_component_v_btn, {\n              color: \"primary\",\n              disabled: creationProgress.value.count < 3,\n              onClick: composeSelection,\n              size: \"small\",\n              loading: loading.value\n            }, {\n              loader: _withCtx(() => [\n                _createVNode(_component_v_progress_linear, { indeterminate: \"\" })\n              ]),\n              default: _withCtx(() => [\n                _cache[4] || (_cache[4] = _createTextVNode(\" Access Data \", -1))\n              ]),\n              _: 1\n            }, 8, [\"disabled\", \"loading\"]),\n            _createVNode(_component_v_btn, {\n              color: \"secondary\",\n              variant: \"tonal\",\n              size: \"small\",\n              onClick: reset\n            }, {\n              default: _withCtx(() => [...(_cache[5] || (_cache[5] = [\n                _createTextVNode(\" Reset \", -1)\n              ]))]),\n              _: 1\n            })\n          ])\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","<template>\n  <v-card>\n    <v-card-title class=\"d-flex justify-space-between\">\n      <v-chip size=\"x-small\" color=\"primary\" variant=\"tonal\">{{ creationProgress.count }}/3</v-chip>\n    </v-card-title>\n    <v-card-text class=\"d-flex flex-column ga-3\">\n      <!-- Region Picker -->\n      <v-select\n        :items=\"regions.map(r => ({ title: r.name, value: r }))\"\n        :model-value=\"draftUserSelection.region\"\n        @update:model-value=\"setDraftSelectionRegion($event as RectangleSelectionType)\"\n        label=\"Region\"\n        :disabled=\"disabled?.region\"\n        item-title=\"title\"\n        item-value=\"value\"\n        density=\"compact\"\n        hide-details\n        variant=\"outlined\"\n      />\n\n      <!-- Time Range Picker: offer Effective (current day/custom) and any active custom ranges -->\n      <v-select\n        :items=\"timeRanges\"\n        v-model=\"selectedTimeRange\"\n        label=\"Time Range\"\n        :disabled=\"disabled?.timeRange\"\n        density=\"compact\"\n        hide-details\n        variant=\"outlined\"\n        return-object\n      >\n        <template #item=\"{ index, props }\">\n          <v-list-item v-bind=\"props\">\n            <template #title></template>\n            <template #default>\n              <v-list-item-title>{{ timeRanges[index].name }}</v-list-item-title>\n              <v-list-item-subtitle\n                v-if=\"timeRanges[index].name === 'Displayed Day'\"\n              >\n                {{ new Date((timeRanges[index].range as MillisecondRange).start).toDateString() }}\n              </v-list-item-subtitle>\n            </template>\n          </v-list-item>\n        </template>\n        <template #selection=\"{ index }\">\n          {{ timeRanges[index].name }}\n        </template>\n      </v-select>\n\n      <!-- Molecule Picker -->\n      <v-select\n        :items=\"availableMolecules.map(m => ({ title: m.title, value: m.key }))\"\n        :model-value=\"draftUserSelection.molecule\"\n        @update:model-value=\"setDraftSelectionMolecule($event)\"\n        label=\"Molecule\"\n        :disabled=\"disabled?.molecule\"\n        item-title=\"title\"\n        item-value=\"value\"\n        density=\"compact\"\n        hide-details\n        variant=\"outlined\"\n      />\n\n      <v-progress-linear :model-value=\"creationProgress.percent\" height=\"6\" color=\"primary\" rounded></v-progress-linear>\n\n      <div class=\"d-flex ga-2\">\n        <v-btn\n          color=\"primary\"\n          :disabled=\"creationProgress.count < 3\"\n          @click=\"composeSelection\"\n          size=\"small\"\n          :loading=\"loading\"\n        >\n          <template #loader>\n            <v-progress-linear\n              indeterminate\n            ></v-progress-linear>\n          </template>\n          Access Data\n        </v-btn>\n        <v-btn\n          color=\"secondary\"\n          variant=\"tonal\"\n          size=\"small\"\n          @click=\"reset\"\n        >\n          Reset\n        </v-btn>\n      </div>\n    </v-card-text>\n  </v-card>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, ref, watch } from \"vue\";\nimport { v4 } from \"uuid\";\n\nimport type { MappingBackends, RectangleSelection, TimeRange, UserSelection } from \"../types\";\nimport type { MillisecondRange } from \"../types/datetime\";\nimport { type MoleculeType, MOLECULE_OPTIONS } from \"../esri/utils\";\nimport { atleast1d } from \"../utils/atleast1d\";\nimport { formatTimeRange } from \"../utils/timeRange\";\n\nconst selectedTimeRange = ref<TimeRange | null>(null);\n\ninterface SelectionComposerProps {\n  backend: MappingBackends;\n  timeRanges: TimeRange[];\n  regions: RectangleSelectionType[];\n  disabled?: { region?: boolean; timeRange?: boolean; molecule?: boolean };\n}\n\nconst props = defineProps<SelectionComposerProps>();\n\nconst emit = defineEmits<{\n  (event: \"create\", selection: UserSelection): void;\n}>();\n\nconst loading = ref(false);\n\ntype RectangleSelectionType = RectangleSelection<typeof props.backend>;\n\ninterface DraftUserSelection {\n  region?: RectangleSelectionType | null;\n  timeRange?: MillisecondRange | MillisecondRange[] | null;\n  molecule?: MoleculeType | null;\n}\nconst draftUserSelection = ref<DraftUserSelection>({ region: null, timeRange: null, molecule: null });\nconst availableMolecules = computed(() => MOLECULE_OPTIONS.map(o => ({ key: o.value as MoleculeType, title: o.title })));\n\n// Public composition progress\nconst creationProgress = computed(() => {\n  let count = 0;\n  if (draftUserSelection.value.region) count += 1;\n  if (draftUserSelection.value.timeRange) count += 1;\n  if (draftUserSelection.value.molecule) count += 1;\n  return { count, percent: (count / 3) * 100 };\n});\n\nfunction setDraftSelectionRegion(region: RectangleSelectionType | null) {\n  (draftUserSelection.value.region as RectangleSelectionType | null) = region || null;\n}\n\nfunction setDraftSelectionMolecule(molecule: MoleculeType | null) {\n  draftUserSelection.value.molecule = molecule || null;\n}\n\nfunction setDraftSelectionTimeRange(range: MillisecondRange | MillisecondRange[] | null) {\n  draftUserSelection.value.timeRange = range || null;\n}\n\nasync function composeSelection(): Promise<UserSelection | null> {\n  // const color = COLORS[selectionCount % COLORS.length]; // we will use the color from the region\n  \n  const draft = draftUserSelection.value;\n  if (!draft.region || !draft.timeRange || !draft.molecule) {\n    console.error('Draft selection incomplete');\n    return null;\n  }\n  \n  const timeRanges = atleast1d(draft.timeRange);\n  // Add to available list if new custom\n  const timeRange: TimeRange = { id: v4(), name: 'Selection Range', description: formatTimeRange(timeRanges), range: timeRanges.length === 1 ? timeRanges[0] : timeRanges };\n  const sel: UserSelection = {\n    id: v4(),\n    region: draft.region, // as { id: string; name: string; rectangle: RectangleSelectionInfo; color: string; layer?: unknown },\n    timeRange,\n    molecule: draft.molecule as MoleculeType,\n  };\n  emit(\"create\", sel);\n  return sel;\n}\n\n\nfunction reset() {\n  draftUserSelection.value = { region: null, timeRange: null, molecule: null };\n  selectedTimeRange.value = null;\n}\n\nwatch(selectedTimeRange, (timeRange: TimeRange | null) => {\n  setDraftSelectionTimeRange(timeRange?.range ?? null);\n});\n\n// just watch the id's. using a 'deep' watch caused a significant performance hit\nwatch(() => props.regions.map(r => r.id), (newRegions) => {\n  if (draftUserSelection.value.region) {\n    const exists = newRegions.find(rid => rid === draftUserSelection.value.region?.id);\n    if (!exists) {\n      draftUserSelection.value.region = null;\n    }\n  }\n});\n</script>\n\n<style scoped>\n.v-progress-linear {\n  width: 80%;\n}\n</style>\n","import script from \"./SelectionComposer.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./SelectionComposer.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./SelectionComposer.vue?vue&type=style&index=0&id=5ef836d0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5ef836d0\"]])\n\nexport default __exports__","/* eslint-disable @typescript-eslint/no-unused-vars */\nimport Vue, { createApp } from \"vue\";\n\nimport { FundingAcknowledgement, IconButton, CreditLogos } from \"@cosmicds/vue-toolkit\";\nimport LocationSearch from \"./components/LocationSearch.vue\";\nimport TempoLite from \"./TempoLite.vue\";\nimport Colorbar from './components/ColorBar.vue';\nimport ColorBarHorizontal from \"./components/ColorBarHorizontal.vue\";\nimport InfoButton from \"./components/InfoButton.vue\";\nimport vuetify from \"../plugins/vuetify\";\nimport SnackbarAlert from \"./components/SnackbarAlert.vue\";\nimport ShareButton from \"./components/ShareButton.vue\";\nimport CDSDialog from \"./components/CDSDialog.vue\";\nimport MarqeeAlert from \"./components/MarqeeAlert.vue\";\nimport TimeseriesGraph from \"./components/TimeseriesGraph.vue\";\nimport SelectionComposer from \"./components/SelectionComposer.vue\";\n\n\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport {\n  faBookOpen,\n  faPlay,\n  faPause,\n  faTimes,\n  faVideo,\n  faMagnifyingGlass,\n  faCircleXmark,\n  faSquareXmark,\n  faHome,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nimport VueDatePicker from \"@vuepic/vue-datepicker\";\nimport '@vuepic/vue-datepicker/dist/main.css';\nimport { UseClipboard } from \"@vueuse/components\";\n\nlibrary.add(faBookOpen);\nlibrary.add(faPlay);\nlibrary.add(faPause);\nlibrary.add(faTimes);\nlibrary.add(faVideo);\nlibrary.add(faMagnifyingGlass);\nlibrary.add(faCircleXmark);\nlibrary.add(faSquareXmark);\nlibrary.add(faHome);\n\n\n/** v-hide directive taken from https://www.ryansouthgate.com/2020/01/30/vue-js-v-hide-element-whilst-keeping-occupied-space/ */\n// Extract the function out, up here, so I'm not writing it twice\nconst update = (el: HTMLElement, binding: Vue.DirectiveBinding) => el.style.visibility = (binding.value) ? \"hidden\" : \"\";\n\ncreateApp(TempoLite, {})\n\n  // Plugins\n  .use(vuetify)\n\n  // Directives\n  .directive(\n    /**\n    * Hides an HTML element, keeping the space it would have used if it were visible (css: Visibility)\n    */\n    \"hide\", {\n      // Run on initialisation (first render) of the directive on the element\n      beforeMount(el, binding, _vnode, _prevVnode) {\n        update(el, binding);\n      },\n      // Run on subsequent updates to the value supplied to the directive\n      updated(el, binding, _vnode, _prevVnode) {\n        update(el, binding);\n      }\n    })\n\n  // Components\n  .component('font-awesome-icon', FontAwesomeIcon)\n  .component('icon-button', IconButton)\n  .component('funding-acknowledgement', FundingAcknowledgement)\n  .component('credit-logos', CreditLogos)\n  .component('colorbar', Colorbar)\n  .component('location-search', LocationSearch)\n  .component('info-button', InfoButton)\n  .component('colorbar-horizontal', ColorBarHorizontal)\n  .component('date-picker', VueDatePicker)\n  .component('use-clipboard', UseClipboard as Vue.Component)\n  .component('snackbar-alert', SnackbarAlert)\n  .component('share-button', ShareButton)\n  .component('cds-dialog', CDSDialog)\n  .component('marquee-alert', MarqeeAlert)\n  .component('timeseries-graph', TimeseriesGraph)\n  .component('selection-composer', SelectionComposer)\n\n  // Mount\n  .mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk_cosmicds_tempo_lite\"] = self[\"webpackChunk_cosmicds_tempo_lite\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], () => (__webpack_require__(7534)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_ctx","_cache","$props","$setup","$data","$options","_component_font_awesome_icon","class","style","cssStyles","locationJustUpdated","small","modelValue","searchText","$event","setLocationFromSearchFeature","items","searchResults","features","textForMapboxFeature","bgColor","label","density","solo","color","accentColor","performForwardGeocodingSearch","searchErrorMessage","focusCombobox","onFocusChange","ref","menu","menuOpen","append","icon","size","searchOpen","buttonSize","toggleSearch","closeSearch","stayOpen","_","RELEVANT_FEATURE_TYPES","NA_COUNTRIES","NA_ABBREVIATIONS","feature","pieces","text","push","context","forEach","item","itemType","id","split","includes","shortCode","short_code","some","abbr","startsWith","substring","itemText","join","geocodingInfoForSearch","options","Promise","accessToken","search","URLSearchParams","set","types","countries","limit","toString","url","fetch","then","response","json","name","emits","props","searchProvider","type","Function","default","Boolean","required","String","theme","persistSelected","data","this","locationUpdatedText","comboFocused","computed","methods","console","log","length","info","$emit","focused","blurCombobox","input","$refs","searchInput","blur","focus","undefined","place_name","slice","timedJustUpdatedLocation","clearSearchData","setTimeout","watch","value","__exports__","magma","r","g","b","inferno","plasma","viridis","cividis","gray","svs_nitrogen_dioxide","svsColorRamp","sargassum","sargassumColorRamp","colormaps","nonEsriColormaps","rgb","esriColorRamp","lerp","a","t","spline","values","n","i","Math","floor","u","clamp","x","min","max","colormap","cmap","cmin","cmax","val","reversed","endsWith","Error","redValues","greenValues","blueValues","normalizedVal","round","date","html","highlight","Date","BOUNDS_COLLECTION","novDec","west","south","east","north","march","useBounds","customSelector","defaultSelector","getUTCFullYear","getUTCMonth","selector","currentBounds","boundsArray","bounds","boundsCollection","interestingEvents","endDate","dateString","highlighted","hasFeature","locations","latlng","zoom","time","description","__name","setup","__props","variant","open","_hoisted_1","key","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","samples","error","Object","keys","result","Number","toExponential","atleast1d","Array","isArray","formatSingleRange","range","startString","start","toLocaleDateString","endString","end","formatTimeRange","ranges","allStarts","map","allEnds","minStart","maxEnd","rangeForSingleDay","day","timezone","offset","dayUTC","getTime","areEquivalentMsRanges","first","second","areEquivalentTimeRanges","array","firstRange","every","rg","idx","ONEDAYMS","isBad","useUniqueTimeSelection","timestamps","timeIndex","singleDateSelected","minIndex","maxIndex","mode","initialTimeSelection","getOneDaysTimestamps","mod","ts","getAllDaysTimestamps","setNearestDate","warn","timestamp","uniqueDays","easternDates","days","getUTCDate","unique","from","Set","uniqueDaysIndex","e","indexOf","getUniqueDayIndex","findIndex","moveBackwardOneDay","currentIndex","moveForwardOneDay","nextIndex","nearestDate","find","nearestDateIndex","index","newTimestamps","immediate","useTimezone","selectedTimezone","toTimezone","utcDate","fromTimezone","setToMidnight","zonedDate","setHours","setToEndOfDay","formatTimeLong","timeZone","formatDuration","startUtc","endUtc","startZoned","endZoned","startTime","toLocaleTimeString","hour","minute","hour12","endTime","formatTimezoneRange","startDate","month","formatUTCRange","formatTime","timeString","formatDateDisplay","toDateString","timezoneInfo","toLocaleString","timeZoneName","pop","useDateTimeSelector","currentDate","initialTimezone","Intl","DateTimeFormat","resolvedOptions","selectionType","selectedDayOfWeek","selectedTime","instancesBack","timePlusMinus","hasManualWeekdayStartDate","weekdayStartDateTimestamp","weekdayStartDate","get","toISOString","setWeekdayStartTimestamp","dayNames","generateMillisecondRanges","generateWeekdayRanges","generateSingleDateRange","generateDateRangeRanges","parsedTime","baseTimestamp","baseDate","targetDayOfWeek","getDay","setDate","getDate","rangeDate","sort","startMs","endMs","singleDate","setSingleDateTimestamp","midnightTs","initialParentTs","newCurrentDate","setStartTimestamp","setEndTimestamp","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","defaultStartDate","defaultEndDate","allowedDates","validTimes","__emit","emit","currentDateRef","timezoneRef","setStartTimestampInternal","setEndTimestampInternal","weekdayCalendar","startDateCalendar","endDateCalendar","singleDateCalendar","weekdayStartDateObj","startDateObj","endDateObj","singleDateObj","dayOptions","title","instanceRules","v","updateCustomRange","currentRanges","handleWeekdayDateChange","closeMenu","handleStartDateChange","handleEndDateChange","handleSingleDateChange","today","newDate","newTimezone","newDateString","newTs","newTimestamp","elevation","row","ref_key","format","clearable","teleport","dark","getFullYear","step","placeholder","rules","selectedIndex","reverse","useUtc","dateOnly","hourOnly","formatDate","getTimezoneOffset","year","timestampsComputed","formattedDates","formattedTimes","handleChipClick","inheritAttrs","buttonColor","confirmText","minWidth","width","local","onConfirm","trim","$attrs","autofocus","disabled","scale","window","devicePixelRatio","retinaParam","useMap","_showRoads","onReady","addStates","addSource","addLayer","addCoastlines","addLabels","tiles","tileSize","source","minzoom","maxzoom","moveLayer","setupMap","libreMap","cleanupMap","remove","createMap","_map","container","center","loc","attributionControl","addControl","AttributionControl","compact","on","setView","setCenter","setZoom","getCenter","resetView","centerLonLat","onHome","_centerLonLat","_zoom","_onHome","onAdd","_container","document","createElement","className","_button","addEventListener","_goHome","bind","_homeIcon","padding","svg","src","encodeURIComponent","appendChild","onRemove","removeEventListener","parentNode","removeChild","flyTo","usezoomhome","home","callback","startingCenter","zoomHome","createControl","control","CDSMaplibreHomeTool","NavigationControl","showCompass","newValue","useFieldOfRegard","showFieldOfRegard","usingAugust","fieldOfRegardLayer","fieldOfRegardLayerId","createFoRLayer","getSource","layer","getLayer","paint","clearFoR","removeLayer","removeSource","updateFieldOfRegard","setData","addFieldOfRegard","loaded","show","useLocationMarker","showLocationMarker","locationMarker","addToMap","addTo","setMarker","lnglat","setLngLat","removeMarker","baseUseSelection","handler","startActive","active","updateListeners","dragPan","disable","scrollZoom","onMousedown","onMouseup","onMousemove","enable","off","mMap","nowActive","getCanvas","cursor","newMap","selectionInfo","useRectangleSelection","interactColor","geoJson","rectangleSource","rectangleLayer","startCoords","uuid","v4","event","lngLat","geometry","coordinates","lng","lat","properties","eventCoords","xmin","ymin","xmax","ymax","createBounds","addRectangleLayer","removeRectangleLayer","addPointLayer","y","removePointLayer","regionBounds","region","pointPadding","geometryType","geometryInfo","fitBounds","_fly","usePointSelection","DEG_DEFAULT","PX_DEFAULT","toGeoJSON","points","radius_deg","pt","radius_px","lon","useMultiMarker","sourceId","layerId","optionsToPaint","fillColor","fillOpacity","opacity","outlineColor","addMarkers","clearMarkers","geojson","radius","degreeToPixel","pow","layout","_stretchRule","ResamplingTypeEnum","stretches","colorramps","_colorMapRule","colorRamp","toLowerCase","_resampleRule","resamplingType","composeRasterRules","baseRule","additionalRules","currentRule","nextOuterRule","rasterFunctionArguments","Raster","renderingRule","resamplineRule","fetchEsriTimeSteps","esriUrl","variableName","dimensionName","multidimensionalDefinition","params","f","JSON","stringify","fetchURL","URL","res","extractTimeSteps","slices","timesteps","reduce","acc","concat","useEsriLayer","esriLayerId","esriImageSource","esriTimesteps","opacityRef","noEsriData","variableNameRef","urlRef","loadingEsriTimeSteps","renderOptions","entries","dynamicMapService","createImageService","ImageService","addEsriSource","updateEsriTimeRange","nearest","abs","getEsriTimeSteps","catch","updateEsriOpacity","setPaintProperty","changeUrl","newUrl","esriServiceOptions","updateStretch","vmin","vmax","updateColormap","_value","newRange","newColormap","rectangleToGeometry","rect","rings","spatialReference","wkid","pointToGeometry","point","isNaN","nanmean","_arr","arr","filter","NaN","sum","diff","serviceMetaData","metadata","serviceBounds","fullExtent","pixelXSize","pixelSizeX","pixelYSize","pixelSizeY","serviceXsize","serviceYsize","setGeometry","setMetadata","latSize","lonSize","getSampleDistance","sampleCount","sqrt","geometryArea","getSampleCount","sampleDistance","calculateActualSampleCount","initialSampleCount","pixelSize","nx","geometryXsize","ny","geometryYsize","actualSampleCount","getSamplingSpecificationFromSamplingDistance","count","distance","lats","lons","getSamplingSpecificationFromSampleCount","permitOversampling","adjustedSampleCount","getSampleLocations","spec","delta","sign","j","getSampleLocationsGrid","safeParseNumber","parsed","parseFloat","stringifyEsriGetSamplesParameters","mosaicRule","returnFirstValueOnly","interpolation","outFields","sliceID","timeStr","baseUrl","variable","metadataCache","_loadingMetadata","updateMetadataCache","setVariable","getVariable","setBaseUrl","getBaseUrl","_getServiceMetadata","ok","status","getMetadata","withMetadataCache","resolve","fetchSample","timeRange","esriGeometry","isRectBounds","urlWithParams","code","message","details","processedSamples","sample","location","attributes","StdTime","locationId","totalSamples","fetchSamples","timeRanges","promises","tr","all","results","validResults","flat","aggregateByTime","grouped","Map","has","errors","sampleValues","s","calculateMean","calculateError","seen","add","getTimeSeriesStatistics","jsonData","uniqueLocations","uniqueLatitudes","uniqueLongitudes","valuesPerLocation","locString","totalValues","numUniqueLocations","latitudeSpacing","longitudeSpacing","fetchTimeseriesData","meta","sampler","EsriSampler","rawData","stats","toFixed","fetchCenterPointData","rectangle","validSamples","lower","upper","mean","squaredDiffs","squaredSEM","ESRI_URLS","MOLECULE_OPTIONS","_hoisted_12","_hoisted_13","_hoisted_14","tabindex","href","target","rel","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","zoomScale","BACKEND","hideIntro","OPT_OUT_KEY","UUID_KEY","optOut","infoColor","homeLat","homeLon","display","calendar","urlParams","showSplashScreen","WINDOW_DONTSHOWINTRO","localStorage","getItem","touchscreen","documentElement","navigator","msPointerEnabled","STORY_VISIT_URL","API_BASE_URL","pingServer","venue","method","headers","body","statusText","replace","venues","setItem","clearUrl","hash","origin","pathname","history","replaceState","introSlide","inIntro","dontShowIntro","showNotice","sheet","accentColor2","hasOptOutBeenOpened","introductionOpen","userGuideOpen","whatsNewOpenedCount","whatsNewTimestamp","whatsNewOpenTimeMs","introductionOpenedCount","introductionTimestamp","introductionOpenTimeMs","userGuideOpenedCount","userGuideTimestamp","userGuideOpenTimeMs","aboutDataOpenedCount","aboutDataTimestamp","aboutDataOpenTimeMs","creditsOpenedCount","creditsTimestamp","creditsOpenTimeMs","shareButtonClickedCount","playButtonClickedCount","timeSliderUsedCount","opacitySliderUsedCount","fieldOfRegardToggled","cloudMaskToggled","hiResDataToggled","userSelectedCalendarDates","userSelectedTimezones","userSelectedLocations","userSelectedNotableEvents","STORY_DATA_URL","maybeUUID","showPrivacyDialog","responseOptOut","existingUser","selectSheet","blurActiveElement","showTextSheet","cssVars","smallSize","smAndDown","mobile","timestampsLoaded","initLat","initLon","initZoom","initTime","initState","homeZoom","homeState","radio","sublocationRadio","playing","playInterval","showControls","showCredits","showAboutData","showUserGuide","currentUrl","showChanges","showClouds","whichMolecule","moleculeName","molecule","m","mapTitle","currentMolecule","colorbarOptions","stretch","cbarScale","esriVariable","tempoDataService","TempoDataService","handleEsriTimeSelected","_index","newSteps","_oldSteps","newMolecule","colorMap","onMapReady","updateURL","showRoads","regions","selectionCount","selections","selection","tableSelection","openGraphs","showTable","graphTitle","molTitle","showNO2Graph","no2GraphData","selectionHasSamples","showO3Graph","o3GraphData","showHCHOGraph","hchoGraphData","showErrorBands","selectedID","setSelection","sel","addUserSelection","handleSelectionCreated","fetchDataForSelection","createSelectionActive","timeRangeCount","paulTolMutedColorblindSafeColors","COLORS","rectangleSelectionActive","rectangleInfo","pointSelectionActive","pointInfo","loadingSamples","createTimeRangeActive","openPanels","openSelection","sampleErrors","sampleErrorID","pointSampleErrors","pointSampleResults","loadingPointSample","datasetRowRefs","useCustomTimeRange","timeseriesMarkerApi","shape","showDataSamplingMarkers","clearTimeseriesMarkers","samplingPreviewMarkers","newVal","showSamplingPreviewMarkers","isRectangleSelection","isPointSelection","regionHasDatasets","regs","maxSampleCount","customTimeRange","handleDateTimeRangeSelectionChange","normalized","descriptionBase","formatted","availableTimeRanges","activateRectangleSelectionMode","activatePointSelectionMode","showEditSelectionNameDialog","editSelectionName","createNewSelection","loading","markSelectionUpdated","fetchCenterPointDataForSelection","createDraftSelection","isRect","newSelection","moveMapToRegion","mapV","availableRegions","o","displayedDayTimeRange","_newDate","oldDate","oldRange","displayedDateSelections","oldTimeRange","timeRangeOptions","newOptions","newSelections","oldSelections","showEditRegionNameDialog","regionBeingEdited","editRegionName","existing","setRegionName","newName","deleteTimeRange","splice","deleteRegion","deleteSelection","isSelected","_e","createUserEntry","visibilityState","updateUserData","resetData","datesOfInterest","dateIsDST","standardOffset","currentOffset","timezoneOptions","tz","thumbLabel","dateObj","hours","getUTCHours","amPm","hourValue","getUTCMinutes","padStart","stateObj","getZoom","searchParams","currentColormap","geocodingInfoForSearchLimited","_err","setLocationFromSearch","play","setInterval","pause","clearInterval","locationsOfInterest","goToLocationOfInterst","subindex","loi","onTimeSliderEnd","onOpacitySliderEnd","content","exists","user_uuid","now","creditsTime","aboutDataTime","whatsNewTime","introductionTime","userGuideTime","delta_whats_new_opened_count","delta_whats_new_open_time_ms","delta_introduction_opened_count","delta_introduction_open_time_ms","delta_user_guide_opened_count","delta_user_guide_open_time_ms","delta_about_data_opened_count","delta_about_data_open_time_ms","delta_credits_opened_count","delta_credits_open_time_ms","delta_share_button_clicked_count","user_selected_calendar_dates","user_selected_timezones","user_selected_locations","user_selected_notable_events","delta_play_clicked_count","delta_time_slider_used_count","delta_opacity_slider_used_count","field_of_regard_toggled","cloud_mask_toggled","high_res_data_toggled","keepalive","rectangleIsDegenerate","_val","_show","d","canCreate","useCustom","_component_credit_logos","_component_cds_dialog","_component_share_button","_component_colorbar_horizontal","_component_info_button","_component_location_search","_component_colorbar","_component_icon_button","_component_date_picker","_component_selection_composer","_component_timeseries_graph","additional","rounded","alt","changes","change","activator","iconColor","alert","backgroundColor","nsteps","cmapName","extend","log10","inset","contained","for","indeterminate","transitions","dense","multiple","prepend","backend","isHovering","ref_for","el","ripple","lines","striped","bottom","height","draggable","persistent","scrim","modal","button","startValue","endValue","mounted","colorbarGradient","random","triangles","showStartTriangle","showEndTriangle","cssLinearGradientFromCmap","colors","co","colorbar","querySelector","firstChild","div","background","styleDownTriangle","styleUpTriangle","offsetWidth","offsetHeight","borderLeft","borderRight","borderBottom","borderTop","styleLeftTriangle","styleRightTriangle","styleColorbarChunk","flexGrow","flexShrink","dialogVisible","activatorProps","tooltipTextValue","showTooltip","handleKeydown","helpText","tooltipText","icons","defaultSet","aliases","sets","mdi","locale","fallback","messages","en","defaultTheme","hide","hideButton","onClick","openDialog","snackbar","role","timeout","actions","closeDialog","msg","$nextTick","snackbarMessage","$el","_component_use_clipboard","copy","tooltipDisabled","transition","getElementRect","element","rectPromise","_reject","resolveRectPromise","observer","IntersectionObserver","boundingClientRect","disconnect","observe","useDraggableDialog","root","dialogSelector","scrimSelector","dragInfo","mousedown","mouseup","mousemove","removeListeners","setupDraggable","dragging","dragPredicate","closestDialog","closest","boundingRect","mouseStartX","clientX","mouseStartY","clientY","elStartX","left","elStartY","top","overlays","querySelectorAll","oldTransition","margin","position","innerWidth","innerHeight","classList","overlay","resizeObserver","ResizeObserver","entry","dialogs","dialog","parseInt","newRoot","titleColor","shortTitle","card","showDialog","displayedShortTitle","cardRoot","attrs","updateRoot","close","stopPropagation","isVisible","showErrors","sampleKeyCounts","plot","graph","datumToDate","datum","legendGroups","errorTraces","renderPlot","plotlyData","len","regionColor","dataT","dataV","legendGroup","legendgroup","showlegend","marker","errs","valueLower","valueHigher","low","high","line","visible","fill","paddingFactor","axisMax","yaxis","newPlot","traceIndex","curveNumber","updateErrorDisplay","restyle","newCounts","oldCounts","different","selectedTimeRange","draftUserSelection","availableMolecules","creationProgress","percent","setDraftSelectionRegion","setDraftSelectionMolecule","setDraftSelectionTimeRange","composeSelection","draft","reset","newRegions","rid","loader","update","binding","visibility","TempoLite","use","vuetify","directive","beforeMount","_vnode","_prevVnode","updated","component","IconButton","FundingAcknowledgement","CreditLogos","LocationSearch","InfoButton","ColorBarHorizontal","SnackbarAlert","ShareButton","CDSDialog","MarqeeAlert","TimeseriesGraph","SelectionComposer","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","getter","__esModule","definition","defineProperty","enumerable","globalThis","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}